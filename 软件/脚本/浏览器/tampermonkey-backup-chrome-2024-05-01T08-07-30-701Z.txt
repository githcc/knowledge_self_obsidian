{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"üî•ÊåÅÁª≠Êõ¥Êñ∞üî• CSDNÂπøÂëäÂÆåÂÖ®ËøáÊª§„ÄÅ‰∫∫ÊÄßÂåñËÑöÊú¨‰ºòÂåñÔºöüÜï ‰∏çÁî®ÂÜçÁôªÂΩï‰∫ÜÔºÅËÆ©‰Ω†‰ΩìÈ™å‰ª§‰∫∫ÊÉäÂñúÁöÑÂ¥≠Êñ∞CSDN„ÄÇ","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["www.csdn.net"],"orig_excludes":[],"orig_includes":["*://*.csdn.net/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1714549530683,"data":{}},"enabled":true,"position":1,"uuid":"c5e8159a-2235-4ce3-b836-4264a136791c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDwn5Sl5oyB57ut5pu05paw8J+UpSBDU0RO5bm/5ZGK5a6M5YWo6L+H5ruk44CB5Lq65oCn5YyW6ISa5pys5LyY5YyW77ya8J+GlSDkuI3nlKjlho3nmbvlvZXkuobvvIHorqnkvaDkvZPpqozku6Tkurrmg4rllpznmoTltK3mlrBDU0RO44CCCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9naXRodWIuY29tL2FkbGVyZWQKLy8gQHZlcnNpb24gICAgICA0LjEuOQovLyBAZGVzY3JpcHRpb24gIOKaoe+4j+WFqOaWsDQuMOeJiOacrO+8geaLpeacieaVsOmhueeLrOWutuWKn+iDveeahOacgOW8ukNTRE7ohJrmnKzvvIzkuI3mnI3mr5TkuIDmr5TimqHvuI988J+VtuaXoOmcgOeZu+W9lUNTRE7vvIzojrflvpfmr5TkvJrlkZjmm7TkvbPnmoTkvZPpqox88J+WpeiHquWumuS5ieiDjOaZr+Wbvu+8jOWIhui+qOeOh+iHqumAgumFje+8jOWIhuWxj+S4jeeUqOa7muWKqHzwn5K+6LaF57qn6aKE5LyY5YyWfPCflJbni6zlrrbotoXnuqflhY3kvJrlkZh88J+Pt+eLrOWutuWOn+WIm+aWh+eroOWFjeeZu+W9leWxleW8gHzwn5SM54us5a625o6o6I2Q5YaF5a656Ieq55Sx5byA5YWzfPCfk6Dni6zlrrblhY3nmbvlvZXlpI3liLZ88J+Ul+eLrOWutumYsuWklumTvumHjeWumuWQkXzwn5Od54us5a626K665Z2b5pyq55m75b2V6Ieq5Yqo5bGV5byA5paH56ug44CB6K+E6K66fPCfjLXlhajpnaLlh4DljJZ88J+TiOayiea1uOmYheivu3zwn6e05YeA5YyW5Ymq6LS05p2/fPCfk5XkvZzogIXkv6Hmga/mlofnq6Dpobbpg6jlsZXnpLoKLy8gQGF1dGhvciAgICAgICBBZGxlcgovLyBAY29ubmVjdCAgICAgIHd3dy5jc2RuLm5ldAovLyBAaW5jbHVkZSAgICAgICo6Ly8qLmNzZG4ubmV0LyoKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2xmMjYtY2RuLXRvcy5ieXRlY2RudHAuY29tL2Nkbi9leHBpcmUtMS1NL2pxdWVyeS1jb29raWUvMS40LjEvanF1ZXJ5LmNvb2tpZS5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2xmMjYtY2RuLXRvcy5ieXRlY2RudHAuY29tL2Nkbi9leHBpcmUtMS1NL25wcm9ncmVzcy8wLjIuMC9ucHJvZ3Jlc3MubWluLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9sZjI2LWNkbi10b3MuYnl0ZWNkbnRwLmNvbS9jZG4vZXhwaXJlLTEtTS9jbGlwYm9hcmQuanMvMi4wLjEwL2NsaXBib2FyZC5taW4uanMKLy8gQHN1cHBvcnRVUkwgICBodHRwczovL2dpdGh1Yi5jb20vYWRsZXJlZC9DU0ROR3JlZW5lci9pc3N1ZXMvbmV3P2Fzc2lnbmVlcz1hZGxlcmVkJmxhYmVscz1oZWxwK3dhbnRlZCZ0ZW1wbGF0ZT1JU1NVRV9URU1QTEFURS5tZCZ0aXRsZT0KLy8gQGNvbnRyaWJ1dGlvblVSTCBodHRwczovL2RvYy5zdGFja292ZXJmbG93Lndpa2kvd2ViLyMvMjE/cGFnZV9pZD0xMzgKLy8gQGdyYW50ICAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGxpY2Vuc2UgICAgICBBR1BMLTMuMC1vci1sYXRlcgovLyBAYW50aWZlYXR1cmUgIGFkcyBDU0ROR3JlZW5lciDohJrmnKzkuK3lrZjlnKjlj6/msLjkuYXlhbPpl63nmoTlsI/lub/lkYrvvIzor7fmlL7lv4Plronoo4XvvIEKLy8gQG5vdGUgICAgICAgICAyMy0wNS0yNSA0LjEuOSDlho3mrKHkv67lpI3lhY3nmbvlvZXlpI3liLbml6Dms5Xkvb/nlKjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMy0wNS0xMSA0LjEuOCDlvLrmnYDlj5jlvILlnovnmbvlvZXmoYblvLnlh7rvvIjkuI3lvbHlk43oh6rlt7Hngrnlh7vnmbvlvZXkvb/nlKjvvIkKLy8gQG5vdGUgICAgICAgICAyMy0wNS0xMCA0LjEuNyDlop7lvLrlhY3nmbvlvZXlpI3liLblip/og70KLy8gQG5vdGUgICAgICAgICAyMy0wNC0xMSA0LjEuNiDljrvlub/lkYrmm7TmlrAKLy8gQG5vdGUgICAgICAgICAyMy0wNC0wNiA0LjEuNSDmlrDlop46IOi3s+i/hyBDU0ROIOeahCBsaW5rIOmhtemdogovLyBAbm90ZSAgICAgICAgIDIzLTA0LTA0IDQuMS40IOWinuWKoGFkc+agh+ivhgovLyBAbm90ZSAgICAgICAgIDIzLTAzLTMwIDQuMS4zIOenu+mZpOe7n+iuoeS7o+egge+8jOeZu+W9lemXrumimOebuOWFs+S8mOWMlu+8iOWPquWxj+iUveS4gOasoe+8iQovLyBAbm90ZSAgICAgICAgIDIzLTAyLTAzIDQuMS4yIOS/ruWkjeS6huaXoOazleeZu+W9leeahOmXrumimO+8iOivhOiuuuS4jeeZu+W9leaXoOazleWKoOi9veaaguaXoOino+WGs+aWueahiO+8jOaIkeS7rOWcqOaMgee7reWKquWKm+S4re+8iQovLyBAbm90ZSAgICAgICAgIDIyLTA1LTMwIDQuMS4xIOWKn+iDveS/ruWkje+8jOW5v+WRiuWxj+iUvQovLyBAbm90ZSAgICAgICAgIDIyLTAxLTE4IDQuMS4wIOS7o+eggeaKmOWPoOmAgumFjQovLyBAbm90ZSAgICAgICAgIDIyLTAxLTA1IDQuMC45IOabtOaWsOW5v+WRigovLyBAbm90ZSAgICAgICAgIDIxLTEyLTEyIDQuMC44IOWxj+iUveWtpueUn+iupOivgQovLyBAbm90ZSAgICAgICAgIDIxLTEwLTIxIDQuMC43IOWxj+iUvee6ouWMhembqAovLyBAbm90ZSAgICAgICAgIDIxLTA5LTI0IDQuMC42IOS/ruWkjeeZu+W9leW8ueeql+aXoOazleW9u+W6leWOu+mZpOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIxLTA5LTIwIDQuMC41IOWinuWKoOiHquWumuS5ieiDjOaZr+WKn+iDvQovLyBAbm90ZSAgICAgICAgIDIxLTA5LTEzIDQuMC40IOWinuWKoOS4gOS4quayoeacieaUtumSseeahOW5v+WRiu+8iOWcqOiuvue9rumHjO+8jOS4jeW9seWTjeS9k+mqjO+8iQovLyBAbm90ZSAgICAgICAgIDIxLTA5LTAxIDQuMC4zIOWinuWKoOeUqOaIt+S9v+eUqOaDheWGtee7n+iuoeaooeWdlwovLyBAbm90ZSAgICAgICAgIDIxLTA4LTI1IDQuMC4yIOS/ruWkjeWPs+S+p+e9rumhtuagj+aMiemSrua2iOWkseeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIxLTA4LTIxIDQuMC4xIOWOu+mZpOWPs+S+p+aCrOa1ruagj++8jOS8mOWMluiEmuacrAovLyBAbm90ZSAgICAgICAgIDIxLTA4LTIwIDQuMC4wIOWFqOaWsDQuMOWPkeW4g++8gVVJ576O5YyW77yM5Luj56CB5LyY5YyW77yM5YW85a65RmlyZWZveO+8jOabtOWkmuaOkueJiOaooeW8jwovLyBAbm90ZSAgICAgICAgIDIxLTA4LTIwIDMuNS43IOS/ruWkjeaXoOazleWujOaVtOWkjeWItuOAgeS/neWtmGNzZG7nmoTnvZHpobXkvJrot7PovazpppbpobXnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wOC0xOSAzLjUuNiDoh6rliqjpmpDol4/lupXmoI/lip/og73mlLnkuLrlp4vnu4jpmpDol4/lupXmoI8KLy8gQG5vdGUgICAgICAgICAyMS0wOC0xOCAzLjUuNSDkv67lpI3ml6Dms5XpgInmi6nlpI3liLbnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wNi0xNyAzLjUuNCDljrvpmaTlj7PkvqfnuqLljIXmgqzmta7nqpcKLy8gQG5vdGUgICAgICAgICAyMS0wNC0xOCAzLjUuMyDlop7liqDmmL7npLrlsI/lupfnmoTorr7lrpoKLy8gQG5vdGUgICAgICAgICAyMS0wMy0xMyAzLjUuMiDljrvkuLvpobXlub/lkYrvvIzljrvmlofnq6DpobXpnaLmjqjojZDlhoXlrrlUaXRsZQovLyBAbm90ZSAgICAgICAgIDIxLTAzLTAxIDMuNS4xIOS/ruaUueaWh+ahiAovLyBAbm90ZSAgICAgICAgIDIxLTAyLTA2IDMuNS4wIOS/ruWkjeS4iuS8oOi1hOa6kOeVjOmdouagh+etvumAieaLqea2iOWkseeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIxLTAxLTE3IDMuNC45IOWIoOmZpOaWh+eroOmhteWSjOiuuuWdm+W5v+WRiu+8jOaaguaXtuWBnOeUqOWPs+S+p+agj+a7muWKqOWKn+iDve+8iENTRE7pmZDliLbvvIkKLy8gQG5vdGUgICAgICAgICAyMS0wMS0xNSAzLjQuOCDkv53lrZjmjInpkq7kvJjljJbvvIzkv67lpI3mmL7npLrliJvkvZzkuK3lv4PmjInpkq7lip/og73lpLHmlYjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wMS0xNSAzLjQuNyDmlLnov5vohJrmnKznu4boioLvvIzlop7liqDlub/lkYrlsY/olL3og73lipvvvIzkv67lpI3nu7/ljJbmjInpkq7plJnkvY3nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0xMi0yNSAzLjQuNiDkuLvpobXpg6jliIbltYzlhaXlvI/lub/lkYrliKDpmaQKLy8gQG5vdGUgICAgICAgICAyMC0xMi0xOCAzLjQuNSDkv67lpI3nu7/ljJborr7lrprmjInpkq7mjpLniYjkuI3mraPnoa7nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0xMi0xNSAzLjQuNCDkv67lpI3kuobmn5DkupvlrZDpobXmmL7npLrkuI3mraPluLjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0xMC0yMyAzLjQuMyDpgILlupTmlrDniYhDU0RO77yM5Y676Zmk5Li76aG15ZKM55m75b2V6aG15bm/5ZGK77yM5Lul5Y+K55m75b2V5o+Q56S677yM5bm256e76Zmk5bqV6YOo5L+h5oGvCi8vIEBub3RlICAgICAgICAgMjAtMTAtMjAgMy40LjIg5Yig6Zmk5Y+z5L6n5bm/5ZGKCi8vIEBub3RlICAgICAgICAgMjAtMDktMjYgMy40LjEg5L+u5pS55o6S54mI6K6+5a6a77yM5L+u5aSN55m75b2V5qGG5by55Ye655qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDktMjQgMy40LjAg57Sn5oCl5L+u5aSN55Sx5LqOQ1NETuWJjeerr+agt+W8j+S/ruaUueWvvOiHtOiuvuWumuW8gOWFs+S4ouWkseeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwLTA4LTI3IDMuMy45IOe0p+aApeS/ruWkjeeUseS6jkNTRE7liY3nq6/moLflvI/kv67mlLnlr7zoh7TohJrmnKzlpLHmlYjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wOC0yNiAzLjMuOCDlkIjms5XohJrmnKzmj5DnpLoKLy8gQG5vdGUgICAgICAgICAyMC0wNy0yMCAzLjMuNyDkv67lpI3oj5zljZXmoI/lnKjliJvkvZzkuK3lv4PmmL7npLrlvILluLjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNy0xOCAzLjMuNiDlt6XlhbfnrrHmjInpkq7kvJjljJYKLy8gQG5vdGUgICAgICAgICAyMC0wNy0wNSAzLjMuNSDor4TorrrlpI3liLblip/og73kuqTkupLkvJjljJYKLy8gQG5vdGUgICAgICAgICAyMC0wNy0wNCAzLjMuNCDkv67lpI3lj7PkvqfmoI/mtojlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNy0wMyAzLjMuMyDmlrDlop7lpI3liLbor4Torrrlip/og73vvIHliKDpmaTpobbpg6jlub/lkYoKLy8gQG5vdGUgICAgICAgICAyMC0wNi0yOCAzLjMuMiDmj5DnpLrkv67mlLkKLy8gQG5vdGUgICAgICAgICAyMC0wNi0yNyAzLjMuMSDlvLnnqpfmj5DnpLrpgLvovpHkv67mlLnkuLrku4Xmj5DnpLrkuIDmrKHjgIIKLy8gQG5vdGUgICAgICAgICAyMC0wNi0yNyAzLjMuMCDnvZHnq5nmoIfpopjmlrDmtojmga/mj5DphpLljrvpmaQKLy8gQG5vdGUgICAgICAgICAyMC0wNi0yNiAzLjIuOSDmgaLlpI1HcmVhc3lGb3Jr5bmz5Y+w6ISa5pys5pSv5oyBCi8vIEBub3RlICAgICAgICAgMjAtMDYtMjEgMy4yLjAg6ISa5pys6L+B56e76YCa55+lCi8vIEBub3RlICAgICAgICAgMjAtMDYtMjEgMy4xLjkg5aKe5Yqg6Ieq5Yqo6ZqQ6JeP5bqV5qCP5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMjEgMy4xLjgg5aKe5Yqg6Ieq5Yqo6ZqQ6JeP6aG25qCP5Yqf6IO977yM5L+u5aSN6YCJ6aG556qX5Y+j6KKr54K56LWe6ZW/5p2h5oyh5L2P55qEQnVn77yM6YCJ6aG556qX5Y+j5biD5bGA5L+u5pS5Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMjAgMy4xLjcg6K6+572u56qX5Y+j5aSn5bCP5Zu65a6a77yM5aKe5Yqg5omT6LWP5YWl5Y+jCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTkgMy4xLjYg5pi+56S65o6o6I2Q5YaF5a655oyJ6ZKu5Zue5b2S77yM5paw5biD5bGA57Sn5oCl5L+u5aSNCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTggMy4xLjUg6Ieq5a6a5LmJ5Yqf6IO95pu05pawCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTYgMy4xLjQg5pSv5oyB5aSn6YOo5YiG5Yqf6IO95qih5Z2X5YyW5pi+56S6Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMTQgMy4xLjMg57u/5YyW6K6+5a6a5LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTQgMy4xLjIgSVNTVUXmqKHmnb/osIPmlbRTdXBwb3J0IFVSTAovLyBAbm90ZSAgICAgICAgIDIwLTA2LTE0IDMuMS4xIOWinuWKoOaQnOWNmuS4u+aWh+eroOaooeWdlwovLyBAbm90ZSAgICAgICAgIDIwLTA2LTEzIDMuMS4wIOS/ruWkjeiuvue9rui/h+acn+eahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwLTA2LTEyIDMuMC45IOagh+mimOWbnua7mgovLyBAbm90ZSAgICAgICAgIDIwLTA2LTEyIDMuMC44IOS4u+mhteW5v+WRiuWIoOmZpO+8jOe7v+WMluiuvue9ruS7heaYvuekuuWcqOaWh+eroOmhtemdou+8jOWIoOmZpOmhteiEmu+8jOmhtumDqOS8mOWMlu+8jOiLpeW5sue7huiKguS8mOWMlgovLyBAbm90ZSAgICAgICAgIDIwLTA2LTExIDMuMC43IOWinuWKoOWumOaWuVFR5Lqk5rWB576k77yM5aKe5Yqg5YWz6Zet5by65Yi255m96Imy5Li76aKY5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMTEgMy4wLjYg55So5oi35ZCN54mH5Yqf6IO95LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTEgMy4wLjUg5LyY5YyW5Yqg6L296YCf5bqmCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTAgMy4wLjQg5L+u5aSN6K6+572u55WM6Z2i6YGu5oyh55qE6Zeu6aKY77yM5pi+56S65Y2a5Li75aS05YOPCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDkgMy4wLjMg6buY6K6k6K6+5a6a5L+u5pS5Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMDkgMy4wLjIg5L+u5aSN5o6o6I2Q5YaF5a655oyJ6ZKu5Yi35paw5LiN55Sf5pWI55qE6Zeu6aKY77yM5aKe5Yqg5bel5YW3566x5o+Q56S65qGGCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDggMy4wLjEg6K6+572u5Lit5b+D5o6o5Ye677yB5aKe5Yqg5rWP6KeI5pWI5p6c6YCJ6aG5ICYmIEdyZWVuIEJvb2sgSWNvbiBVcGRhdGUKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wOCAzLjAuMCDorr7nva7kuK3lv4Pmjqjlh7rvvIHlop7liqDmtY/op4jmlYjmnpzpgInpobkKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNyAyLjQuMiDorr7nva7op6PogKbvvIzkuIvkuKrniYjmnKzmkJ7phY3nva7kuK3lv4MKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNiAyLjQuMSDkv67lpI3mlofnq6DlhoXlrrnmtojlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNCAyLjQuMCDkv67lpI3mjqjojZDmjInpkq7plJnkvY3nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNCAyLjMuOSDnqoTlsY/pgILphY3kvJjljJYKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNCAyLjMuOCDpu5HlpJzmqKHlvI/lh7rnjrDpl67popjvvIzntKfmgKXlm57moaPliLAgMi4zLjYKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wMyAyLjMuNyDmhJ/osKIgQEFsZXhMV1Qg5aKe5Yqg6buR5pqX5qih5byPCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDIgMi4zLjYgQWRzQnlHb29nbGUg5Yig6ZmkCi8vIEBub3RlICAgICAgICAgMjAtMDUtMjUgMi4zLjUg5oSf6LCiIEBSeWFuSVBPIOS/ruWkjSBDYW5ub3QgcmVhZCBwcm9wZXJ0eSAncmVwbGFjZScgb2YgdW5kZWZpbmVkIOaKpemUmeeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwLTA1LTI0IDIuMy40IOS/ruWkjeWFjeeZu+W9leWkjeWItuWKn+iDvQovLyBAbm90ZSAgICAgICAgIDIwLTA1LTIyIDIuMy4zIExvZ2/kuI7og4zmma/lkIzmraUKLy8gQG5vdGUgICAgICAgICAyMC0wNS0yMiAyLjMuMiDmt7HluqbliKDpmaTog4zmma8KLy8gQG5vdGUgICAgICAgICAyMC0wNS0yMCAyLjMuMSDpgJrov4dyZXF1aXJl5L2/55SoTlByb2dyZXNzCi8vIEBub3RlICAgICAgICAgMjAtMDUtMjAgMi4zLjAg5pi+56S65o6o6I2Q5YaF5a655oyJ6ZKu5qC35byP5YaF572u77yM5YmU6ZmkQ0ROCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTcgMi4yLjkg6L+b5bqm5p2h5qC35byP5pu05paw77yM5pe26Ze05bu25pe25LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTcgMi4yLjgg5pu05paw6ISa5pys5o+P6L+w77yM5bGV5byA6K+E6K6655qE5omA5pyJ5Zue5aSN77yM5Yig6Zmk5Yib5L2c5Lit5b+D5oyJ6ZKu77yM5Yqg6L296L+b5bqm5p2hCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTcgMi4yLjcg5pu05paw6ISa5pys5o+P6L+wCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTYgMi4yLjYg5L+u5aSN56ys5LiA5qyh54K55Ye75pi+56S65o6o6I2Q5YaF5a655peg5Y+N5bqU55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTYgMi4yLjUg5Yig6Zmk5oqi5rKZ5Y+R6KeS5qCH77yM5L+u5pS55pi+56S65o6o6I2Q5YaF5a655oyJ6ZKu5qC35byPCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTYgMi4yLjQg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcSGVyb25aaGFuZ+KAneeahElzc3Vl5bu66K6u77yM5Yig6Zmk5omA5pyJ5Y2a5a6i6Iqx6YeM6IOh5ZOo55qE6IOM5pmv77yM5Li76aG15YiG57G75Lit5bm/5ZGK5riF6Zmk77yMQ1NT5qC35byP5o6n5Yi25a695bqm6YCC6YWN5Luj56CB5LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTYgMi4yLjMg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcUmV0aXJlZFdvcmxk4oCd55qE5Luj56CB6LSh54yu77yM5L2/55SoQ1NT5p2l5o6n5Yi25qC35byP77yM6ICM5LiN5pivSlPvvIzlop7lpKfngbXmtLvmgKfjgIIKLy8gQG5vdGUgICAgICAgICAyMC0wNS0xMyAyLjIuMiDlsY/olL3mgqjnmoTnvKnmlL7kuI3mmK8xMDAl55qE5o+Q56S6Ci8vIEBub3RlICAgICAgICAgMjAtMDQtMjkgMi4yLjEg5oSf6LCi5aSn5a6255qE5pSv5oyB77yM5aKe5Yqg55uu5b2V5pi+56S677yM6Ieq5Yqo5Yik5pat5piv5ZCm5a2Y5Zyo55uu5b2V6LCD5pW06aG16Z2i5a695bqm77yM5bGP6JS95paw5aKe5bm/5ZGK77yM5qyi6L+O5aSn5a625L2T6aqM5bm25o+Q5Ye65oSP6KeB77yBCi8vIEBub3RlICAgICAgICAgMjAtMDQtMTUgMi4yLjAg5LiA5Lqb5bm/5ZGK6KKr5YW25LuW5o+S5Lu25bGP6JS95a+86Ie055qE5byC5bi45peg6KeG5LmLCi8vIEBub3RlICAgICAgICAgMjAtMDMtMzAgMi4xLjkg5bmy5o6J4oCc6K6w5b2V5L2g55qE5Yib5L2c5Y6G56iL4oCd77yM5bmy5o6J5pyq55m75b2V5oOF5Ya15LiL55qE6KeS5qCH5o+Q6YaSCi8vIEBub3RlICAgICAgICAgMjAtMDMtMTMgMi4xLjgg56qE5bGP6YCC6YWN5Yqg5by6Ci8vIEBub3RlICAgICAgICAgMjAtMDMtMTMgMi4xLjcg5pu05paw566A5LuLCi8vIEBub3RlICAgICAgICAgMjAtMDMtMTIgMi4xLjYg5a695bqm6Ieq6YCC5bqU77yI5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+LTGVvbkc355qE5bu66K6u77yJ77yB5L+u5aSN5Ymq6LS05p2/5YeA5YyW5peg5pWI55qE6Zeu6aKY44CCCi8vIEBub3RlICAgICAgICAgMjAtMDMtMDQgMi4xLjUg6YCC6YWNQWRHdWFyZAovLyBAbm90ZSAgICAgICAgIDIwLTAyLTI3IDIuMS40IOS8mOWMluWFjeeZu+W9leWkjeWItgovLyBAbm90ZSAgICAgICAgIDIwLTAyLTI1IDIuMS4zIOWFjeeZu+W9leWkjeWItuabtOaWsO+8jOeOsOW3suWPr+eUqAovLyBAbm90ZSAgICAgICAgIDIwLTAyLTI0IDIuMS4yIEJ5IEdpdGh1YkBKYWxpbldhbmcg5pu05pS55Y676Zmk5Ymq6LS05p2/5Yqr5oyB55qE5pa55byP77yM5L2/5b6X5Y6f5paH5qC85byP5Zyo5aSN5Yi25pe26IO95aSf5L+d55WZCi8vIEBub3RlICAgICAgICAgMjAtMDItMjIgMi4xLjEg57Sn5oCl5L+u5aSN55Sx5LqOIENTRE4g5L+u5pS55YmN56uv57uT5p6E5a+86Ie055qE5paH56ug6ZSZ5L2NCi8vIEBub3RlICAgICAgICAgMjAtMDItMTEgMi4xLjAg6Iul5bmy5Yqo55S75LyY5YyW77yM6KeG6KeJ5L2T6aqM5pu05rWB55WFCi8vIEBub3RlICAgICAgICAgMjAtMDItMDYgMi4wLjkg5q2m5rGJ5Yqg5rK577yB5L+u5pS55o6o6I2Q5YaF5a655YiH5o2i5byA5YWz5L2N572u77yM5YeP5bCR6L+d5ZKM5oSfCi8vIEBub3RlICAgICAgICAgMjAtMDEtMTcgMi4wLjgg5Y676Zmk5Y+z5L6n5bm/5ZGKCi8vIEBub3RlICAgICAgICAgMjAtMDEtMTcgMi4wLjcg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcZ2xlYW5z4oCd55qE5bu66K6u77yM5Y675o6J6aG15aS05bm/5ZGKCi8vIEBub3RlICAgICAgICAgMTktMTItMTIgMi4wLjYg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCceWV4dWVzb25n4oCd55qE5bu66K6u77yM5bCG5L2c6ICF5L+h5oGv5Zyo5paH56ug6aG26YOo5bGV56S6Ci8vIEBub3RlICAgICAgICAgMTktMTAtMzAgMi4wLjUg576O5YyW6ZqQ6JeP5oyJ6ZKu77yM5aKe5Yqg54K55Ye75Yqo55S7Ci8vIEBub3RlICAgICAgICAgMTktMTAtMzAgMi4wLjQg5Yig6ZmkQ1NETuWumOaWueWcqOS4u+mhteaOqOmAgeeahOaWh+eroO+8iOWkp+WkmuaYr+W5v+WRiu+8iQovLyBAbm90ZSAgICAgICAgIDE5LTEwLTMwIDIuMC4zIOa3u+WKoOabtOWkmuWxj+iUveiEmuacrAovLyBAbm90ZSAgICAgICAgIDE5LTEwLTMwIDIuMC4wIOelneiHquW3seeUn+aXpeW/q+S5kH7lrozlhajph43lhplDU0ROR3JlZW5lcu+8jOe7n+S4gOS9v+eUqEpRdWVyee+8jOaViOeOh+abtOmrmAovLyBAbm90ZSAgICAgICAgIDE5LTEwLTI3IDEuNS4yIOWIoOmZpOWIhuS6q+a1t+aKpeaPkOekuiYm5oSf6LCiR2l0SHVi55qE5pyL5Y+L4oCcQ0hOLVNUVURFTlTigJ3nmoTlj43ppojvvIzljrvpmaTlupXpg6jor77nqIvmjqjojZAKLy8gQG5vdGUgICAgICAgICAxOS0xMC0yNyAxLjUuMSDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxDSE4tU1RVREVOVOKAneeahOe7huiHtOWkjeeOsOWPjemmiO+8jOWOu+mZpOS6huW6lemDqOeahOivvueoi+aOqOiNkOW5v+WRigovLyBAbm90ZSAgICAgICAgIDE5LTEwLTA0IDEuNS4wIOenu+mZpOS6huW6lemDqOS4u+mimOS/oeaBr+WSjOaJk+i1jwovLyBAbm90ZSAgICAgICAgIDE5LTA5LTEwIDEuNC45IOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnHByb2dyYW1tZXJaZeKAneeahOe7huiHtOWkjeeOsOWPjemmiO+8jOS/ruWkjeS6huivhOiuuuWMuueCueWHu+afpeeci+WbnuWkjeWQju+8jOW3sue7j+WxleW8gOeahOivhOiuuuS8muaUtui1t+eahOmXrumimAovLyBAbm90ZSAgICAgICAgIDE5LTA5LTA0IDEuNC44IOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnGR3ZGN0aOKAneeahOe7huiHtOWkjeeOsOWPjemmiO+8jOeOsOWcqOafpeeci+WOn+WIm+aWh+eroOS4jeS8muaXoOmZkOW8ueeZu+W9leeql+WPo+S6hu+8jOS4lOWKoOW8uuS6huiHquWKqOWxleW8gOWKn+iDvQovLyBAbm90ZSAgICAgICAgIDE5LTA4LTIwIDEuNC43IOaEn+iwouayueWPieeUqOaIt+KAnFN1cHJlbWVTaXLigJ3nmoTlj43ppojvvIzkv67lpI3kuoblj7Pkvqfmgqzmta7moI/pga7mjKHmlofnq6DnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wOC0xNCAxLjQuNiDml6Dor63jgILliJrmm7TmlrDnmoTlhY3nmbvlvZXlpI3liLbvvIzlj4jmlLnkuobjgILkv67lpI3vvIEKLy8gQG5vdGUgICAgICAgICAxOS0wOC0xMyAxLjQuNSDmm7TmlrDkuobni6zlrrblip/og73vvJrlhY3nmbvlvZXlpI3liLYKLy8gQG5vdGUgICAgICAgICAxOS0wOC0xMyAxLjQuNCDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxpYW1zdW54aW5n4oCd55qE5Y+N6aaI77yM5L+u5aSN5LqG6aG26YOo5LiN6LS06L6555qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMTktMDgtMDEgMS40LjMg5oSf6LCi5rK55Y+J55So5oi34oCcZGRkZHnigJ3nmoTlj43ppojvvIzljrvpmaTkuobmm7TlpJrmjqjlub/lub/lkYoKLy8gQG5vdGUgICAgICAgICAxOS0wNy0zMCAxLjQuMiDmhJ/osKLmsrnlj4nnlKjmiLfigJzlkajkuYnmnbDigJ3nmoTlj43ppojvvIzlop7liqDkuobpmLJDU0RO5aSW6ZO+6YeN5a6a5ZCR55qE5Yqf6IO977yIQ1NETuiHrea1geawk++8iQovLyBAbm90ZSAgICAgICAgIDE5LTA3LTIwIDEuNC4xIOS/ruWkjeS6huaOqOiNkOWGheWuueW8gOWFs+i3qOaWh+eroOaXoOaViOmXrumimO+8iOW/mOS6humFjee9rkNvb2tpZeS9nOeUqOWfn++8iQovLyBAbm90ZSAgICAgICAgIDE5LTA3LTE5IDEuNC4wIDEuIOaehOaetuWkp+abtOaWsCAyLiDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4sibHVrZW1pbiLnmoTlj43ppojvvIzliqDlhaXkuobkuIvmlrnmjqjojZDlhoXlrrnmmK/lkKbpmpDol4/lvIDlhbPvvIjlrp7nlKjvvIkKLy8gQG5vdGUgICAgICAgICAxOS0wNy0xMyAxLjMuMCDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxIb2xhcGxhY2XigJ3nmoTlj43ppojvvIzkv67lpI3kuobmlofnq6Dml6Dms5Xoh6rliqjlsZXlvIDnmoTpl67popjvvIhDU0RO5oC75pS56L+Z5Liq77yM5Luk5Lq65aS055a877yJCi8vIEBub3RlICAgICAgICAgMTktMDYtMDggMS4yLjYg5oSf6LCi5rK55Y+J55So5oi34oCcRGVza3lBa2nigJ3nmoTlj43ppojvvIzkv67lpI3kuobmlofnq6Dml6Dms5Xoh6rliqjlsZXlvIDnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNyAxLjIuNCDkv67lpI3kuobnmbvlvZXlkI7or4Torrrml6Dms5XmraPluLjmiZPlvIDnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNyAxLjIuMyDmhJ/osKLmsrnlj4nnlKjmiLci5rC46L+c55qE5q6/5LiLIueahOWPjemmiO+8jOWcqOS4gOS4iuWNiOeahOWKquWKm+aUu+WFi+S4i++8jOe7iOS6juWunueOsOS6huacqueZu+W9leWxleW8gOivhOiuuueahOivreWPpQovLyBAbm90ZSAgICAgICAgIDE5LTA2LTA1IDEuMi4wIOS/ruWkjeS6huivhOiuuuaXoOazleiHquWKqOWxleW8gOeahEJVRwovLyBAbm90ZSAgICAgICAgIDE5LTA2LTA0IDEuMS45IOS/ruWkjeS6huaXoOazleiHquWKqOWxleW8gOeahEJVR++8iOiHqumXreS6hu+8iQovLyBAbm90ZSAgICAgICAgIDE5LTA2LTA0IDEuMS42IENTRE7lpKrlnY/kuobvvIzmiorigJzmtojmga/igJ3mjInpkq7nmoRDbGFzc+iuvue9ruaIkOS6huKAnEdpdENoYXTigJ3vvIzmiYDku6Xkv67lpI3kuobigJzmtojmga/igJ3mjInpkq7mtojlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNCAxLjEuNSAxLiDkvJjljJbkuoborrrlnZvkvZPpqowgMi7nvo7ljJbjgIHkvJjljJbku6PnoIHnu5PmnoQKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNCAxLjEuNCDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxpYW1zdW54aW5n4oCd55qE5Y+N6aaI77yM5aKe5Yqg5LqG6K665Z2b5bm/5ZGK5Yy56YWN6KeE5YiZCi8vIEBub3RlICAgICAgICAgMTktMDYtMDMgMS4xLjMg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcd2FuZ3dlaTEzNeKAneeahOWPjemmiO+8jOWOu+mZpOS6huivhOiuuuWMuuS4iuaWueeahOW5v+WRigovLyBAbm90ZSAgICAgICAgIDE5LTA1LTI3IDEuMS4yIOaEn+iwouayueWPieeUqOaIt+KAnOWkj+S8n+adsOKAneeahOWPjemmiO+8jOS/ruWkjeS6huWvjOaWh+acrOe8lui+keWZqOaXoOazleS9v+eUqOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDE5LTA1LTI1IDEuMS4wIDEuIOS/ruWkjeS6huS4u+mhteW5v+WRiueahOmXrumimCAyLiDorrrlnZvoh6rliqjlsZXlvIAgMy4g6K665Z2b5bm/5ZGK5raI6ZmkCi8vIEBub3RlICAgICAgICAgMTktMDUtMjUgMS4wLjkg5oSf6LCi5rK55Y+J55So5oi34oCc5rij5rij5LiN5YeG6K+06K+d4oCd55qE5Y+N6aaI77yM5L+u5aSN5LqG5pS26JeP5oyJ6ZKu5raI5aSx55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMTktMDMtMDEgMS4wLjMg5re75Yqg6aG16Z2i6YCJ5oup5oCn6L+H5ruk6KeE5YiZCi8vIEBub3RlICAgICAgICAgMTktMDMtMDEgMS4wLjIg5aKe5Yqg5LqG5YeA5YyW5Ymq6LS05p2/5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgMTktMDMtMDEgMS4wLjEg5L+u5aSN5LqG5o6S54mI6Zeu6aKYLCDkvJjljJbkuobku6PnoIHnu5PmnoQKLy8gQG5vdGUgICAgICAgICAxOS0wMi0yNiAxLjAuMCDliJ3niYjlj5HluIMKLy8gPT0vVXNlclNjcmlwdD09CnZhciB2ZXJzaW9uID0gIjQuMS45IjsKdmFyIGN1cnJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKaWYgKGN1cnJlbnRVUkwuaW5kZXhPZigiPyIpICE9PSAtMSkgewpjdXJyZW50VVJMID0gY3VycmVudFVSTC5zdWJzdHJpbmcoMCwgY3VycmVudFVSTC5pbmRleE9mKCI/IikpOwp9CnZhciBsaXN0Owp2YXIgd2luZG93VG9wID0gMDsKdmFyIHN0YXJ0VGltZU1pbGxpID0gRGF0ZS5ub3coKTsKdmFyIHN0b3BUaW1lTWlsbGkgPSAwOwovLyDphY3nva7mjqfliLbnsbsKY2xhc3MgQ29uZmlnIHsKZ2V0KGtleSwgdmFsdWUpIHsKdmFyIGNvb2tpZSA9ICQuY29va2llKGtleSk7CmlmIChjb29raWUgPT0gdW5kZWZpbmVkKSB7Cm5ldyBDb25maWcoKS5zZXQoa2V5LCB2YWx1ZSk7CmNvbnNvbGUuZGVidWcoIlJlbmV3IGtleTogIiArIGtleSArICIgOiAiICsgdmFsdWUpOwpyZXR1cm4gdmFsdWU7Cn0KY29uc29sZS5kZWJ1ZygiUmVhZCBrZXk6ICIgKyBrZXkgKyAiIDogIiArIGNvb2tpZSk7CmlmIChjb29raWUgPT09ICJ0cnVlIikgeyByZXR1cm4gdHJ1ZTsgfQppZiAoY29va2llID09PSAiZmFsc2UiKSB7IHJldHVybiBmYWxzZTsgfQpyZXR1cm4gY29va2llOwp9CgogICAgZ2V0UyhrZXksIHZhbHVlKSB7CiAgICAgICAgdmFyIGNvb2tpZSA9ICQuY29va2llKGtleSk7CiAgICAgICAgaWYgKGNvb2tpZSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldChrZXksIHZhbHVlKTsKICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiUmVuZXcga2V5OiAiICsga2V5ICsgIiA6ICIgKyB2YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CiAgICAgICAgY29uc29sZS5kZWJ1ZygiUmVhZCBrZXk6ICIgKyBrZXkgKyAiIDogIiArIGNvb2tpZSk7CiAgICAgICAgcmV0dXJuIGNvb2tpZTsKICAgIH0KCiAgICBzZXQoc2V0S2V5LCBzZXRWYWx1ZSkgewogICAgICAgICQuY29va2llKHNldEtleSwgc2V0VmFsdWUsIHsKICAgICAgICAgICAgcGF0aDogJy8nLAogICAgICAgICAgICBleHBpcmVzOiAzNjUKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgc2V0S2V5ICsgIiA6ICIgKyBzZXRWYWx1ZSk7CiAgICB9CgogICAgbGlzdGVuQnV0dG9uKGVsZW1lbnQsIGxpc3RlbktleSwgdHJ1ZUFjdGlvbiwgZmFsc2VBY3Rpb24pIHsKICAgICAgICAkKGVsZW1lbnQpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbGV0IHN0YXR1cyA9IG5ldyBDb25maWcoKS5nZXQobGlzdGVuS2V5LCB0cnVlKTsKICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiU3RhdHVzOiAiICsgc3RhdHVzKTsKICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gInRydWUiIHx8IHN0YXR1cykgewogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiS2V5IHNldDogIiArIGxpc3RlbktleSArICIgOjogIiArIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQobGlzdGVuS2V5LCBmYWxzZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgbGlzdGVuS2V5ICsgIiA6OiAiICsgdHJ1ZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KGxpc3RlbktleSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICBsaXN0ZW5CdXR0b25BbmRBY3Rpb24oZWxlbWVudCwgbGlzdGVuS2V5LCB0cnVlQWN0aW9uLCBmYWxzZUFjdGlvbikgewogICAgICAgICQoZWxlbWVudCkuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgc3RhdHVzID0gbmV3IENvbmZpZygpLmdldChsaXN0ZW5LZXksIHRydWUpOwogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJTdGF0dXM6ICIgKyBzdGF0dXMpOwogICAgICAgICAgICBpZiAoc3RhdHVzID09PSAidHJ1ZSIgfHwgc3RhdHVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgbGlzdGVuS2V5ICsgIiA6OiAiICsgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldChsaXN0ZW5LZXksIGZhbHNlKTsKICAgICAgICAgICAgICAgIGZhbHNlQWN0aW9uKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgbGlzdGVuS2V5ICsgIiA6OiAiICsgdHJ1ZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KGxpc3RlbktleSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB0cnVlQWN0aW9uKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KfQp2YXIgY29uZmlnID0gbmV3IENvbmZpZygpOwp2YXIgcHJvZ3Jlc3MgPSAwOwpjbGFzcyBQcm9ncmVzcyB7CmluaXQoKSB7CnByb2dyZXNzID0gMDsKTlByb2dyZXNzLnN0YXJ0KCk7CiQoIiNncmVlbmVyUHJvZ3Jlc3MiKS50ZXh0KCLnu7/ljJbkuK0uLi4iKTsKJCgiLnRvb2xiYXItc2VhcmNoIikuaGlkZSgpOwp9CgogICAgc2V0UHJvZ3Jlc3MocCkgewogICAgICAgIHByb2dyZXNzID0gcDsKICAgICAgICAkKCIjZ3JlZW5lclByb2dyZXNzIikudGV4dChwcm9ncmVzcyArICIlIik7CiAgICAgICAgTlByb2dyZXNzLnNldChwcm9ncmVzcyAvIDEwMCk7CiAgICAgICAgY29uc29sZS5sb2cocHJvZ3Jlc3MgKyAiJSIpOwogICAgfQoKICAgIGluY1Byb2dyZXNzKHApIHsKICAgICAgICBwcm9ncmVzcyA9IHByb2dyZXNzICsgcDsKICAgICAgICBwcm9ncmVzcyA9IHByb2dyZXNzID4gMTAwID8gMTAwIDogcHJvZ3Jlc3M7CiAgICAgICAgJCgiI2dyZWVuZXJQcm9ncmVzcyIpLnRleHQocHJvZ3Jlc3MgKyAiJSIpOwogICAgICAgIE5Qcm9ncmVzcy5zZXQocHJvZ3Jlc3MgLyAxMDApOwogICAgICAgIGNvbnNvbGUubG9nKHByb2dyZXNzICsgIiUiKTsKICAgIH0KCiAgICBkb25lKCkgewogICAgICAgIHByb2dyZXNzID0gMTAwOwogICAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CiAgICAgICAgJCgiI2dyZWVuZXJQcm9ncmVzcyIpLmh0bWwocHJvdGVjdF9zdmcgKyAnIENTRE5HcmVlbmVyIOato+WcqOWuiOaKpOaCqOeahOa1j+iniOS9k+mqjCcpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICQoIiNncmVlbmVyUHJvZ3Jlc3MiKS5mYWRlT3V0KDUwMCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAkKCIudG9vbGJhci1zZWFyY2giKS5mYWRlSW4oNTAwKTsKICAgICAgICAgICAgICAgIGlmICghaXNGaXJlZm94KCkpIHsKICAgICAgICAgICAgICAgICAgICAvLyDmj5DnpLoKICAgICAgICAgICAgICAgICAgICBsZXQgdGlwc0Nvb2tpZSA9IGNvbmZpZy5nZXQoInNob3dUaXAiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGlwc0Nvb2tpZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb25maWcuc2V0KCJzaG93VGlwIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0sIDE1MDApOwogICAgfQp9CnZhciBwcm9ncmVzc29yID0gbmV3IFByb2dyZXNzKCk7CgovLyDoh6rlrprkuYkgQ1NTCi8vIOi/m+W6puadoQokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+I25wcm9ncmVzc3twb2ludGVyLWV2ZW50czpub25lfSNucHJvZ3Jlc3MgLmJhcntiYWNrZ3JvdW5kOiNmNDQ0NDQ7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoxMDMxO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoycHh9I25wcm9ncmVzcyAucGVne2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt3aWR0aDoxMDBweDtoZWlnaHQ6MTAwJTtib3gtc2hhZG93OjAgMCAxMHB4ICNmNDQ0NDQsMCAwIDVweCAjZjQ0NDQ0O29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoM2RlZykgdHJhbnNsYXRlKDAsLTRweCk7LW1zLXRyYW5zZm9ybTpyb3RhdGUoM2RlZykgdHJhbnNsYXRlKDAsLTRweCk7dHJhbnNmb3JtOnJvdGF0ZSgzZGVnKSB0cmFuc2xhdGUoMCwtNHB4KX0jbnByb2dyZXNzIC5zcGlubmVye2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoxMDMxO3RvcDoxNXB4O3JpZ2h0OjE1cHh9I25wcm9ncmVzcyAuc3Bpbm5lci1pY29ue3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlcjpzb2xpZCAycHggdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcC1jb2xvcjojZjQ0NDQ0O2JvcmRlci1sZWZ0LWNvbG9yOiNmNDQ0NDQ7Ym9yZGVyLXJhZGl1czo1MCU7LXdlYmtpdC1hbmltYXRpb246bnByb2dyZXNzLXNwaW5uZXIgLjRzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246bnByb2dyZXNzLXNwaW5uZXIgLjRzIGxpbmVhciBpbmZpbml0ZX0ubnByb2dyZXNzLWN1c3RvbS1wYXJlbnR7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlfS5ucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCAjbnByb2dyZXNzIC5iYXIsLm5wcm9ncmVzcy1jdXN0b20tcGFyZW50ICNucHJvZ3Jlc3MgLnNwaW5uZXJ7cG9zaXRpb246YWJzb2x1dGV9QC13ZWJraXQta2V5ZnJhbWVzIG5wcm9ncmVzcy1zcGlubmVyezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwKX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1Aa2V5ZnJhbWVzIG5wcm9ncmVzcy1zcGlubmVyezAle3RyYW5zZm9ybTpyb3RhdGUoMCl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fTwvc3R5bGU+Iik7Ci8vIOiuvue9rueql+WPowokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+LmJsYWNrX292ZXJsYXl7dG9wOjAlO2xlZnQ6MCU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOiMwMDA7ei1pbmRleDoxMDAxOy1tb3otb3BhY2l0eTowLjg7b3BhY2l0eTouMTA7ZmlsdGVyOmFscGhhKG9wYWNpdHk9ODgpfS5ibGFja19vdmVybGF5LC53aGl0ZV9jb250ZW50e2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZX0ud2hpdGVfY29udGVudHt6LWluZGV4Ojk5OTkhaW1wb3J0YW50O3RvcDoyNSU7bGVmdDoyNSU7d2lkdGg6NjUwcHg7aGVpZ2h0OjYwJTtwYWRkaW5nOjIwcHg7Ym9yZGVyOjBweDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsMC45KTt6LWluZGV4OjEwMDI7b3ZlcmZsb3c6YXV0b308L3N0eWxlPiIpOwovLyDmj5DnpLrmnaEKJCgnaGVhZCcpLmFwcGVuZCgiPHN0eWxlPi50cmlwc2NvbntwYWRkaW5nOjEwcHh9PC9zdHlsZT4iKTsKLy8g5oyJ6ZKu77yI5pen77yJCiQoJ2hlYWQnKS5hcHBlbmQoIjxzdHlsZT4jdG9nZ2xlLWJ1dHRvbntkaXNwbGF5Om5vbmV9LmJ1dHRvbi1sYWJlbHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDo4MnB4O2JhY2tncm91bmQtY29sb3I6I2NjYztib3JkZXI6MXB4IHNvbGlkICNjY2M7Ym9yZGVyLXJhZGl1czozMHB4O2N1cnNvcjpwb2ludGVyfS5jaXJjbGV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjMwcHg7aGVpZ2h0OjMwcHg7Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5idXR0b24tbGFiZWwgLnRleHR7bGluZS1oZWlnaHQ6MzBweDtmb250LXNpemU6MThweDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0ub257Y29sb3I6I2ZmZjtkaXNwbGF5Om5vbmU7dGV4dC1pbmRlbnQ6MTBweH0ub2Zme2NvbG9yOiNmZmY7ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1pbmRlbnQ6NTNweH0uYnV0dG9uLWxhYmVsIC5jaXJjbGV7bGVmdDowO3RyYW5zaXRpb246YWxsIC4zc30jdG9nZ2xlLWJ1dHRvbjpjaGVja2VkK2xhYmVsLmJ1dHRvbi1sYWJlbCAuY2lyY2xle2xlZnQ6NTBweH0jdG9nZ2xlLWJ1dHRvbjpjaGVja2VkK2xhYmVsLmJ1dHRvbi1sYWJlbCAub257ZGlzcGxheTppbmxpbmUtYmxvY2t9I3RvZ2dsZS1idXR0b246Y2hlY2tlZCtsYWJlbC5idXR0b24tbGFiZWwgLm9mZntkaXNwbGF5Om5vbmV9I3RvZ2dsZS1idXR0b246Y2hlY2tlZCtsYWJlbC5idXR0b24tbGFiZWx7YmFja2dyb3VuZC1jb2xvcjojNzhkNjkwfTwvc3R5bGU+Iik7Ci8vIOS/neWtmOaMiemSrgokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+LnNhdmVCdXR0b257YmFja2dyb3VuZC1jb2xvcjojMTlhNGVkO2JvcmRlcjpub25lO2NvbG9yOiNmZmY7cGFkZGluZzo1cHggMTVweDt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXNpemU6MTRweDtjdXJzb3I6cG9pbnRlcn08L3N0eWxlPiIpOwovLyBTdGFyIOagt+W8jwokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+LmdpdmVNZU9uZVN0YXI6aG92ZXJ7Y29sb3I6I0ZGNjlCNDt9PC9zdHlsZT4iKTsKLy8g6K6+572u56qX5Y+j5paH5a2X5pWI5p6cCmlmIChpc0ZpcmVmb3goKSkgewokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+LmNvbmZpZ0NvbnRhaW5lciBsYWJlbHtmb250LXNpemU6MTVweH0uY29uZmlnQ29udGFpbmVyIHB7Zm9udC1zaXplOjE1cHh9LmdpdmVNZU9uZVN0YXJ7Zm9udC1zaXplOjE1cHh9LmNvbmZpZ0NvbnRhaW5lciAudGl0bGV7Zm9udC1zaXplOjIwcHh9LmNvbmZpZ0NvbnRhaW5lciAuYm9sZHtmb250LXdlaWdodDpib2xkO21hcmdpbi1ib3R0b206NXB4fTwvc3R5bGU+Iik7Cn0gZWxzZSB7CiQoJ2hlYWQnKS5hcHBlbmQoIjxzdHlsZT4uY29uZmlnQ29udGFpbmVyIGxhYmVse2ZvbnQtc2l6ZTo1cHh9LmNvbmZpZ0NvbnRhaW5lciBwe2ZvbnQtc2l6ZToxMHB4fS5naXZlTWVPbmVTdGFye2ZvbnQtc2l6ZToxNXB4fS5jb25maWdDb250YWluZXIgLnRpdGxle2ZvbnQtc2l6ZToyMHB4fS5jb25maWdDb250YWluZXIgLmJvbGR7Zm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tYm90dG9tOjVweH08L3N0eWxlPiIpOwp9Ci8vIFNWRwovL3ZhciBzYXZlX3N2ZyA9ICc8c3ZnIHQ9IjE1OTUwODI2NTAxNzMiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTA3NSAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMjA3OCIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxNDAiPjxwYXRoIGQ9Ik03NTMuNzYzOTAyIDY4NS44MzAyNDRhNDguOTUyMTk1IDQ4Ljk1MjE5NSAwIDAgMSA0OS4xNTItNDguNzAyNDM5YzgxLjQyMDQ4OCAwIDE0MS4xNjIxNDYtNjUuMzg2MTQ2IDE0MS4xNjIxNDctMTQ2LjA1NzM2NiAwLTQzLjUwNzUxMi0xMy4wMzcyNjgtODIuNDE5NTEyLTQzLjQ1NzU2MS0xMDkuMjQzMzE3YTE0Mi4zNjA5NzYgMTQyLjM2MDk3NiAwIDAgMC0yMC4yODAxOTUtMTQuOTM1NDE1IDE1OC4wNDU2NTkgMTU4LjA0NTY1OSAwIDAgMC0xMS4yMzkwMjUtNi4yNDM5MDJsLTIuNzQ3MzE3LTEuMjk4NzMyYTE1NS44NDc4MDUgMTU1Ljg0NzgwNSAwIDAgMC05LjE5MTAyNC0zLjk5NjA5N2MtMS4zNDg2ODMtMC41NDk0NjMtMi42OTczNjYtMC45OTkwMjQtNC4wOTYtMS40OTg1MzdhMTUyLjM1MTIyIDE1Mi4zNTEyMiAwIDAgMC04LjQ5MTcwNy0yLjg0NzIxOWMtMS45NDgwOTgtMC41OTk0MTUtMy44OTYxOTUtMC45OTkwMjQtNS44NDQyOTMtMS40OTg1MzctMi40OTc1NjEtMC41OTk0MTUtNC45NDUxNzEtMS4yNDg3OC03LjQ5MjY4My0xLjc0ODI5My0yLjU5NzQ2My0wLjQ5OTUxMi01LjM0NDc4LTAuODk5MTIyLTguMDQyMTQ2LTEuMjQ4NzgtMS45NDgwOTgtMC4yNDk3NTYtMy44NDYyNDQtMC41OTk0MTUtNS44NDQyOTMtMC43OTkyMmExNTMuMTUwNDM5IDE1My4xNTA0MzkgMCAwIDAtMTQuNDM1OTAzLTAuNzQ5MjY4Yy0xLjQ5ODUzNyAwLTIuOTk3MDczIDAuMTk5ODA1LTQuNTQ1NTYxIDAuMjQ5NzU2YTI2NS4zOTA4MjkgMjY1LjM5MDgyOSAwIDAgMC01LjU5NDUzNi0yNC41MjYwNDljLTAuNDk5NTEyLTEuOTk4MDQ5LTEuMjk4NzMyLTMuODQ2MjQ0LTEuODk4MTQ2LTUuODQ0MjkyYTI2Ny40Mzg4MjkgMjY3LjQzODgyOSAwIDAgMC01Ljk0NDE5Ni0xNy45ODI0MzljLTAuNjQ5MzY2LTEuNzk4MjQ0LTEuNDk4NTM3LTMuNDk2NTg1LTIuMTk3ODUzLTUuMjk0ODNhMjgzLjEyMzUxMiAyODMuMTIzNTEyIDAgMCAwLTcuNzQyNDM5LTE3LjczMjY4M0w3NzIuNzQ1MzY2IDI2OS43MzY1ODVhMjgyLjk3MzY1OSAyODIuOTczNjU5IDAgMCAwLTkuNzkwNDM5LTE3LjgzMjU4NUM3MTQuMzAyNDM5IDE3MS41ODI0MzkgNjI1Ljg4ODc4IDEyNC44NzgwNDkgNTI0LjQ4NzgwNSAxMjQuODc4MDQ5Yy0xMDEuNDAwOTc2IDAtMTg5LjkxNDUzNyA0Ni42NTQ0MzktMjM4LjUxNzA3MyAxMjYuOTc2LTMuNDk2NTg1IDUuNzk0MzQxLTYuNjkzNDYzIDExLjc4ODQ4OC05Ljc5MDQzOSAxNy44MzI1ODVsLTIuMTk3ODU0IDQuMDk2YTI4My41MjMxMjIgMjgzLjUyMzEyMiAwIDAgMC03Ljc0MjQzOSAxNy43MzI2ODNsLTIuMTk3ODU0IDUuMjQ0ODc4Yy0yLjI0NzgwNSA1Ljg5NDI0NC00LjE0NTk1MSAxMS45ODgyOTMtNS45OTQxNDYgMTguMDMyMzktMC41NDk0NjMgMS45OTgwNDktMS4yOTg3MzIgMy44NDYyNDQtMS44NDgxOTUgNS44NDQyOTNhMjY2LjczOTUxMiAyNjYuNzM5NTEyIDAgMCAwLTUuNTk0NTM3IDI0LjQ3NjA5OGMtMS40OTg1MzcgMC0yLjk5NzA3My0wLjE5OTgwNS00LjU0NTU2MS0wLjE5OTgwNS00Ljg5NTIyIDAtOS42OTA1MzcgMC4yOTk3MDctMTQuNDg1ODUzIDAuNzQ5MjY4LTEuOTk4MDQ5IDAuMTk5ODA1LTMuODQ2MjQ0IDAuNDk5NTEyLTUuNzk0MzQyIDAuNzk5MjItMi42OTczNjYgMC4zNDk2NTktNS40NDQ2ODMgMC42OTkzMTctOC4wOTIwOTcgMS4yNDg3OC0yLjQ5NzU2MSAwLjQ5OTUxMi00Ljk5NTEyMiAxLjE0ODg3OC03LjQ5MjY4MyAxLjc0ODI5My0xLjg5ODE0NiAwLjQ5OTUxMi0zLjg0NjI0NCAwLjg5OTEyMi01Ljc5NDM0MiAxLjQ5ODUzNmExNTMuNjQ5OTUxIDE1My42NDk5NTEgMCAwIDAtOC40OTE3MDcgMi43OTcyNjlsLTQuMDk2IDEuNDk4NTM2YTE2NC4yODk1NjEgMTY0LjI4OTU2MSAwIDAgMC05LjI0MDk3NiAzLjk5NjA5OGwtMi42OTczNjYgMS4zNDg2ODNhMTQ1LjU1Nzg1NCAxNDUuNTU3ODU0IDAgMCAwLTMxLjQ2OTI2OCAyMS4xNzkzMTdDMTE3Ljg4NDg3OCA0MDguNjAwOTc2IDEwNC44OTc1NjEgNDQ3LjU2MjkyNyAxMDQuODk3NTYxIDQ5MS4wNzA0MzljMCA4MC42NzEyMiA1OS43NDE2NTkgMTQ2LjA1NzM2NiAxNDEuMTYyMTQ2IDE0Ni4wNTczNjZhNDguOTUyMTk1IDQ4Ljk1MjE5NSAwIDAgMSA0OS4xNTIgNDguNzAyNDM5IDQ4Ljk1MjE5NSA0OC45NTIxOTUgMCAwIDEtNDkuMTUyIDQ4LjcwMjQzOWMtMTM1LjcxNzQ2MyAwLTI0NS43MTAwNDktMTA4Ljk5MzU2MS0yNDUuNzEwMDQ4LTI0My40NjIyNDQgMC0xMDkuNjkyODc4IDczLjIyODQ4OC0yMDIuNDAyMzQxIDE3My44MzAyNDMtMjMyLjg3MjU4NUEzNzUuODMyOTc2IDM3NS44MzI5NzYgMCAwIDEgNTI0LjQ4NzgwNSAyMC4zMzAxNDZhMzc1Ljg4MjkyNyAzNzUuODgyOTI3IDAgMCAxIDM1MC4zMDc5MDIgMjM3Ljg2NzcwOGMxMDAuNjAxNzU2IDMwLjQ3MDI0NCAxNzMuODMwMjQ0IDEyMy4xNzk3MDcgMTczLjgzMDI0NCAyMzIuODcyNTg1IDAgMTM0LjQ2ODY4My0xMDkuOTkyNTg1IDI0My40NjIyNDQtMjQ1LjcxMDA0OSAyNDMuNDYyMjQ0YTQ4Ljk1MjE5NSA0OC45NTIxOTUgMCAwIDEtNDkuMTAyMDQ4LTQ4LjcwMjQzOXoiIHAtaWQ9IjIwNzkiPjwvcGF0aD48cGF0aCBkPSJNNDg3Ljk3MzQ2MyAzODYuMTIyOTI3YTQ5LjEwMjA0OSA0OS4xMDIwNDkgMCAwIDEgNzIuOTI4NzgxIDAuMDk5OTAybDE0Ny4zNTYwOTcgMTYyLjA0MTc1NmM2Ljk5MzE3MSA3Ljc0MjQzOSAxMS40ODg3OCAxOS40MzEwMjQgMTIuNTM3NzU3IDMwLjEyMDU4NmwwLjI0OTc1NiAxMi45MzczNjZjMCAxOS40ODA5NzYtMjAuNDggMzkuNjYxMjY4LTM5LjIxMTcwOCAzOS42NjEyNjhoLTEwNC44OTc1NjF2MjYyLjk5MzE3MWE1Mi40NDg3OCA1Mi40NDg3OCAwIDEgMS0xMDQuODk3NTYxIDB2LTI2Mi45OTMxNzFoLTEwNC44OTc1NjFjLTEzLjg4NjQzOSAwLTM5LjIxMTcwNy0yMS43Mjg3OC0zOS4yMTE3MDctMzkuNjYxMjY4di0xMi45ODczMTdjMC0xMi40ODc4MDUgNC43OTUzMTctMjEuMjc5MjIgMTIuNjM3NjU5LTI5LjkyMDc4MWwxNDcuMzU2MDk3LTE2Mi4yOTE1MTJ6IiBwLWlkPSIyMDgwIj48L3BhdGg+PC9zdmc+JzsKdmFyIHN0YXJfc3ZnXzEgPSAnPHN2ZyB0PSIxNTk1MDgzNjMxNjg1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwNTEgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIxNzMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cGF0aCBkPSJNNTI1LjgzNzgzOCA4NTIuNDEwODExTDE5OS4yNjQ4NjUgMTAwMS44NTk0NTlsNDEuNTEzNTEzLTM1Ny4wMTYyMTZMMCAzODEuOTI0MzI0bDM1MS40ODEwODEtNjkuMTg5MTg5TDUyNS44Mzc4MzggMGwxNzQuMzU2NzU3IDMxMi43MzUxMzVMMTA1MS42NzU2NzYgMzgxLjkyNDMyNGwtMjQwLjc3ODM3OSAyNjIuOTE4OTE5IDQxLjUxMzUxNCAzNTcuMDE2MjE2eiIgZmlsbD0iI0ZGRDU2NiIgcC1pZD0iMjE3NCI+PC9wYXRoPjwvc3ZnPic7CnZhciBzdGFyX3N2Z18yID0gJyA8c3ZnIHQ9IjE1OTUwODM3MTUzMTIiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iNzg0OCIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxNDAiPjxwYXRoIGQ9Ik0xMDE0LjAwMTM0NyA4NjYuMDkwMjM2TDgxMC4yMzU2OSA2NjIuMzI0NTc5bDE0NS40OTc2NDMtODQuMTI2NTk5YzExLjM3Nzc3OC02LjU1MDg0MiAxNy45Mjg2Mi0xOC45NjI5NjMgMTYuODk0Mjc2LTMyLjA2NDY0Ny0xLjAzNDM0My0xMy4xMDE2ODQtOS4zMDkwOTEtMjQuNDc5NDYxLTIxLjM3NjQzMS0yOS4zMDYzOTdsLTY0OC4xODg1NTItMjU4LjU4NTg1OWMtMTIuNzU2OTAyLTUuMTcxNzE3LTI3LjIzNzcxLTIuMDY4Njg3LTM2Ljg5MTU4MiA3LjU4NTE4Ni05LjY1Mzg3MiA5LjY1Mzg3Mi0xMi43NTY5MDIgMjQuMTM0NjgtNy41ODUxODUgMzYuODkxNTgybDI1OC41ODU4NTggNjQ4LjUzMzMzM2M0LjgyNjkzNiAxMi4wNjczNCAxNi4yMDQ3MTQgMjAuNjg2ODY5IDI5LjMwNjM5NyAyMS4zNzY0MzEgMTMuMTAxNjg0IDEuMDM0MzQzIDI1LjUxMzgwNS01LjUxNjQ5OCAzMi4wNjQ2NDctMTYuODk0Mjc2bDg0LjEyNjU5OS0xNDUuNDk3NjQzIDIwMy43NjU2NTcgMjAzLjc2NTY1N2M2LjU1MDg0MiA2LjU1MDg0MiAxNS4xNzAzNyA5Ljk5ODY1MyAyNC4xMzQ2OCA5Ljk5ODY1MyA4Ljk2NDMxIDAgMTcuOTI4NjItMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTNsOTkuMjk2OTctOTkuMjk2OTdjMTMuNDQ2NDY1LTEzLjQ0NjQ2NSAxMy40NDY0NjUtMzUuMTY3Njc3IDAtNDguNjE0MTQxek0xNTAuMzI0NTc5IDEwMi4wNTUyMTljLTEzLjQ0NjQ2NS0xMy40NDY0NjUtMzUuMTY3Njc3LTEzLjQ0NjQ2NS00OC4yNjkzNiAwLTEzLjQ0NjQ2NSAxMy40NDY0NjUtMTMuNDQ2NDY1IDM1LjE2NzY3NyAwIDQ4LjI2OTM2bDc2LjE5NjYzMyA3Ni4xOTY2MzNjNi41NTA4NDIgNi41NTA4NDIgMTUuNTE1MTUyIDkuOTk4NjUzIDI0LjEzNDY4IDkuOTk4NjUzczE3LjU4MzgzOC0zLjQ0NzgxMSAyNC4xMzQ2OC05Ljk5ODY1M2MxMy40NDY0NjUtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0zNS4xNjc2NzcgMC00OC4yNjkzNkwxNTAuMzI0NTc5IDEwMi4wNTUyMTl6TTE3Ni4xODMxNjUgMzM4LjU3NTA4NGMwLTE4Ljk2Mjk2My0xNS4xNzAzNy0zNC4xMzMzMzMtMzQuMTMzMzMzLTM0LjEzMzMzM0gzNC4xMzMzMzNjLTE4Ljk2Mjk2MyAwLTM0LjEzMzMzMyAxNS4xNzAzNy0zNC4xMzMzMzMgMzQuMTMzMzMzczE1LjE3MDM3IDM0LjEzMzMzMyAzNC4xMzMzMzMgMzQuMTMzMzM0aDEwNy41NzE3MThjMTguOTYyOTYzIDAgMzQuNDc4MTE0LTE1LjE3MDM3IDM0LjQ3ODExNC0zNC4xMzMzMzR6TTE2Mi4zOTE5MTkgNDQ0LjQyMjg5NmwtNzYuMTk2NjMzIDc1Ljg1MTg1MWMtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0xMy40NDY0NjUgMzUuMTY3Njc3IDAgNDguMjY5MzYxIDYuNTUwODQyIDYuNTUwODQyIDE1LjUxNTE1MiA5Ljk5ODY1MyAyNC4xMzQ2OCA5Ljk5ODY1M3MxNy41ODM4MzgtMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTNsNzYuMTk2NjMzLTc2LjE5NjYzM2MxMy40NDY0NjUtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0zNS4xNjc2NzcgMC00OC4yNjkzNjEtMTMuNDQ2NDY1LTEzLjEwMTY4NC0zNS4xNjc2NzctMTMuMTAxNjg0LTQ4LjI2OTM2IDAuMzQ0Nzgyek0zMzguNTc1MDg0IDE3Ni4xODMxNjVjMTguOTYyOTYzIDAgMzQuMTMzMzMzLTE1LjE3MDM3IDM0LjEzMzMzNC0zNC4xMzMzMzNWMzQuMTMzMzMzYzAtMTguOTYyOTYzLTE1LjE3MDM3LTM0LjEzMzMzMy0zNC4xMzMzMzQtMzQuMTMzMzMzcy0zNC4xMzMzMzMgMTUuMTcwMzctMzQuMTMzMzMzIDM0LjEzMzMzM3YxMDcuNTcxNzE4YzAgMTguOTYyOTYzIDE1LjE3MDM3IDM0LjQ3ODExNCAzNC4xMzMzMzMgMzQuNDc4MTE0ek00NjguNTU3NTc2IDIyMC42NTk5MzNjOC42MTk1MjkgMCAxNy41ODM4MzgtMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTRMNTY4Ljg4ODg4OSAxMzQuNDY0NjQ2YzEzLjQ0NjQ2NS0xMy40NDY0NjUgMTMuNDQ2NDY1LTM1LjE2NzY3NyAwLTQ4LjI2OTM2LTEzLjQ0NjQ2NS0xMy40NDY0NjUtMzUuMTY3Njc3LTEzLjQ0NjQ2NS00OC4yNjkzNiAwbC03Ni4xOTY2MzMgNzYuMTk2NjMzYy0xMy40NDY0NjUgMTMuNDQ2NDY1LTEzLjQ0NjQ2NSAzNS4xNjc2NzcgMCA0OC4yNjkzNiA2LjU1MDg0MiA2LjU1MDg0MiAxNS41MTUxNTIgOS45OTg2NTMgMjQuMTM0NjggOS45OTg2NTR6IiBmaWxsPSIjMmMyYzJjIiBwLWlkPSI3ODQ5Ij48L3BhdGg+PC9zdmc+JzsKdmFyIHN0YXJfc3ZnXzMgPSAnIDxzdmcgdD0iMTU5NTA4MzkyNTQzOCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMjA0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSI0ODA5IiB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCI+PHBhdGggZD0iTTEwODguODY0MzQ4IDYxOC4xMzcwMWExNTU1LjAwOTM4NCAxNTU1LjAwOTM4NCAwIDAgMS0xNTAuMjczMDA0IDE2Ny4xMzczMDhjLTUyLjg4MTY0MiA1MS4xOTUyMTItMTA3LjkzMTU1MiAxMDEuMTg1ODMtMTYzLjY0Mzk4OSAxNDcuMjYxNTIxLTMzLjg0OTA2OSAyNy41MjQ5NTUtNjAuMjI5NjYxIDQ4LjY2NTU2Ni03Ni4xOTA1MjEgNjAuMjI5NjYxYTE2Mi45ODE0NjIgMTYyLjk4MTQ2MiAwIDAgMS0xOTEuODkxNjk5IDBjLTE1LjUzOTI1My0xMi4wNDU5MzItNDIuMTYwNzYzLTMyLjY0NDQ3Ni03Ni4xOTA1MjEtNjAuODMxOTU3YTI2MzguNDgwNzU0IDI2MzguNDgwNzU0IDAgMCAxLTE2NC4zNjY3NDUtMTQ3LjI2MTUyMSAxNTc5LjEwMTI0OSAxNTc5LjEwMTI0OSAwIDAgMS0xNTAuMjczMDA0LTE2NS44MTIyNTdBNDY4LjEwNDkyNCA0NjguMTA0OTI0IDAgMCAxIDAuMTUyOTk4IDM0NC43NTQ1NzkgMzE1LjU0MzE5MyAzMTUuNTQzMTkzIDAgMCAxIDEwOS4wNDgyMjUgOTYuMzY3NDU3YTM5OS40NDMxMTEgMzk5LjQ0MzExMSAwIDAgMSA0OTMuODgzMjE5LTIwLjQ3ODA4NCAzOTguNjYwMTI1IDM5OC42NjAxMjUgMCAwIDEgNDkzLjg4MzIxOSAyMC40NzgwODRBMzE1LjQ4Mjk2NCAzMTUuNDgyOTY0IDAgMCAxIDEyMDQuNzQ2MjE1IDM0My4zMDkwNjdhNDY2Ljg0MDEwMSA0NjYuODQwMTAxIDAgMCAxLTExNS43MDExNzggMjc0LjY0NzI1NHoiIGZpbGw9IiNGRTRCODMiIHAtaWQ9IjQ4MTAiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc3Rhcl9zdmdfNCA9ICcgPHN2ZyB0PSIxNTk1MDg0MDg5MTE1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjgwMDgiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cGF0aCBkPSJNNTEyIDQ2LjU0NTQ1NUMyNTYgNDYuNTQ1NDU1IDQ2LjU0NTQ1NSAyNTYgNDYuNTQ1NDU1IDUxMnMyMDkuNDU0NTQ1IDQ2NS40NTQ1NDUgNDY1LjQ1NDU0NSA0NjUuNDU0NTQ1IDQ2NS40NTQ1NDUtMjA5LjQ1NDU0NSA0NjUuNDU0NTQ1LTQ2NS40NTQ1NDVTNzY4IDQ2LjU0NTQ1NSA1MTIgNDYuNTQ1NDU1eiBtMCA4MzcuODE4MTgxYy0yMDQuOCAwLTM3Mi4zNjM2MzYtMTY3LjU2MzYzNi0zNzIuMzYzNjM2LTM3Mi4zNjM2MzZzMTY3LjU2MzYzNi0zNzIuMzYzNjM2IDM3Mi4zNjM2MzYtMzcyLjM2MzYzNiAzNzIuMzYzNjM2IDE2Ny41NjM2MzYgMzcyLjM2MzYzNiAzNzIuMzYzNjM2LTE2Ny41NjM2MzYgMzcyLjM2MzYzNi0zNzIuMzYzNjM2IDM3Mi4zNjM2MzZ6IiBmaWxsPSIjMDBDNUM1IiBwLWlkPSI4MDA5Ij48L3BhdGg+PHBhdGggZD0iTTY1Ni4yOTA5MDkgNTg2LjQ3MjcyN2MtNzkuMTI3MjczIDY5LjgxODE4Mi0yMDkuNDU0NTQ1IDY5LjgxODE4Mi0yODguNTgxODE4IDAtMTguNjE4MTgyLTEzLjk2MzYzNi00MS44OTA5MDktMTMuOTYzNjM2LTYwLjUwOTA5MSA0LjY1NDU0Ni0xMy45NjM2MzYgMTMuOTYzNjM2LTEzLjk2MzYzNiA0MS44OTA5MDkgNC42NTQ1NDUgNjAuNTA5MDkxIDU1Ljg1NDU0NSA1MS4yIDEyNS42NzI3MjcgNzQuNDcyNzI3IDIwMC4xNDU0NTUgNzQuNDcyNzI3czE0NC4yOTA5MDktMjcuOTI3MjczIDIwMC4xNDU0NTUtNzQuNDcyNzI3YzE4LjYxODE4Mi0xMy45NjM2MzYgMTguNjE4MTgyLTQxLjg5MDkwOSA0LjY1NDU0NS02MC41MDkwOTFzLTQxLjg5MDkwOS0xOC42MTgxODItNjAuNTA5MDkxLTQuNjU0NTQ2ek0zNTguNCA0NjAuOGMyNy45MjcyNzMgMCA1MS4yLTIzLjI3MjcyNyA1MS4yLTUxLjJzLTIzLjI3MjcyNy01NS44NTQ1NDUtNTEuMi01NS44NTQ1NDVjLTI3LjkyNzI3MyAwLTUxLjIgMjMuMjcyNzI3LTUxLjIgNTEuMnMyMy4yNzI3MjcgNTUuODU0NTQ1IDUxLjIgNTUuODU0NTQ1ek02NjUuNiA0NjAuOGMyNy45MjcyNzMgMCA1MS4yLTIzLjI3MjcyNyA1MS4yLTUxLjJzLTIzLjI3MjcyNy01MS4yLTUxLjItNTEuMi01MS4yIDIzLjI3MjcyNy01MS4yIDUxLjIgMjMuMjcyNzI3IDUxLjIgNTEuMiA1MS4yeiIgZmlsbD0iIzAwQzVDNSIgcC1pZD0iODAxMCI+PC9wYXRoPjwvc3ZnPic7CnZhciBzdGFyX3N2ZyA9IHN0YXJfc3ZnXzEgKyBzdGFyX3N2Z18yICsgc3Rhcl9zdmdfMyArIHN0YXJfc3ZnXzQ7CnZhciBkb25hdGVfc3ZnID0gJzxzdmcgdD0iMTU5Mjk4MjUwODI1OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSI0MjA3IiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik02NjQuNDggMjM0LjQzMmEzMiAzMiAwIDAgMC00NS4yNDgtMC44bC03Ni4yNTYgNzMuNi03My4zNDQtNzMuMjE2YTMyIDMyIDAgMSAwLTQ1LjI0OCA0NS4zMTJsNzIuMzg0IDcyLjI1NmgtNDkuMjhhMzIgMzIgMCAwIDAgMCA2NGg2My43NzZ2MzJoLTYzLjc3NmEzMiAzMiAwIDAgMCAwIDY0aDYzLjc3NnY2NS42NjRhMzIgMzIgMCAxIDAgNjQgMHYtNjUuNjY0aDY0LjI4OGEzMiAzMiAwIDEgMCAwLTY0aC02NC4yODh2LTMyaDY0LjI4OGEzMiAzMiAwIDEgMCAwLTY0aC01MC4zNjhsNzQuNDY0LTcxLjg3MmEzMi4wMzIgMzIuMDMyIDAgMCAwIDAuODMyLTQ1LjI4eiBtMjc1LjIgNTAzLjU1MmE5MDE3LjU2OCA5MDE3LjU2OCAwIDAgMC0xNDEuNjY0LTU2LjczNiAzNjguNTEyIDM2OC41MTIgMCAwIDAgOTcuNTY4LTI0OC42MDhjMC0yMDIuOTEyLTE2NS4xMi0zNjgtMzY4LjA2NC0zNjhzLTM2OCAxNjUuMDg4LTM2OCAzNjhjMCAxNi4yMjQgMS4wMjQgMzIuMzUyIDMuMDcyIDQ3Ljk2OCAyLjMwNCAxNy41MDQgMTguNDk2IDI5LjY2NCAzNS45MDQgMjcuNTg0YTMyIDMyIDAgMCAwIDI3LjU4NC0zNS45MDQgMzA0LjUxMiAzMDQuNTEyIDAgMCAxLTIuNTYtMzkuNjQ4YzAtMTY3LjYxNiAxMzYuMzg0LTMwNCAzMDQtMzA0IDE2Ny42NDggMCAzMDQuMDY0IDEzNi4zODQgMzA0LjA2NCAzMDRhMzAwLjU0NCAzMDAuNTQ0IDAgMCAxLTk2LjEyOCAyMjEuNDcyYy0wLjc2OCAwLjczNi0xLjA4OCAxLjc2LTEuODI0IDIuNTI4LTQyLjg0OC0xNS45MzYtNzkuMzI4LTI4LjQ4LTkzLjc2LTMwLjY1Ni0yNC44OTYtMy45MDQtNDguNjcyIDcuNjE2LTYzLjEwNCAyOC44OTYtMTIuMDMyIDE3Ljc5Mi0xNS4wNzIgMzguODE2LTguMDk2IDU2LjI1NiA0LjI4OCAxMC42NTYgMjAuNTEyIDMyLjg5NiAzOS43NzYgNTcuMjgtNDYuNDMyLTAuMDY0LTExNy4zMTItNi4zMzYtMTkyLjgzMi0zNS40ODgtMzEuMjY0LTEyLjA2NC02OS40NC01Mi42NC0xMDMuMTM2LTg4LjQxNi00Ny45NjgtNTAuOTc2LTkzLjI4LTk5LjEwNC0xNDIuNTYtOTkuMTA0LTE4LjMzNiAwLTM1Ljc0NCA2Ljg0OC01MC4zMzYgMTkuNzc2LTE4LjI0IDE2LjIyNC0zNS4xMzYgNDguMzItMTIgMTA5LjI0OCA0Mi42MjQgMTEyLjE2IDIwOC41NDQgMjg1LjEyIDM0MS43MjggMjg1LjEyaDQ3OC4xNDRhMzIgMzIgMCAwIDAgMzItMzJ2LTE2MGEzMS44NCAzMS44NCAwIDAgMC0xOS43NzYtMjkuNTY4eiBtLTQ0LjE2IDE1Ny42aC00NDUuMTJsLTEuMDI0IDMydi0zMmMtOTcuNiAwLTI0Ny4wNzItMTUyLjEyOC0yODEuOTItMjQzLjg3Mi0xMC4xMTItMjYuNjU2LTYuNzItMzcuNDA4LTUuMzQ0LTM4LjYyNCA0LjEyOC0zLjY0OCA2LjUyOC0zLjY0OCA3Ljg0LTMuNjQ4IDIxLjYzMiAwIDY0LjYwOCA0NS42MzIgOTUuOTY4IDc4Ljk0NCA0MC4yMjQgNDIuNzUyIDgxLjg1NiA4Ni45NDQgMTI2LjY1NiAxMDQuMjU2IDg1LjIxNiAzMi44OTYgMTY0Ljg5NiAzOS44MDggMjE2LjczNiAzOS44MDggNDEuMzc2IDAgNjcuNTg0LTQuMzUyIDY4LjY3Mi00LjU0NGEzMiAzMiAwIDAgMCAxOS4xMzYtNTIuMTZjLTI3LjAwOC0zMi4wOTYtNTguNTkyLTcxLjgwOC02Ny4yOTYtODUuMzQ0IDAuMjg4LTAuNTc2IDAuNTEyLTEuMDI0IDAuMzUyLTEuMTUyIDIyLjg0OCAzLjQ4OCAxNjIuNDMyIDU3Ljk1MiAyNjUuMjggOTkuODR2MTA2LjQ5NnoiIHAtaWQ9IjQyMDgiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc2V0X3N2ZyA9ICc8c3ZnIHQ9IjE1OTI5ODI5NzAzNzUiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTAxMTIiIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PHBhdGggZD0iTTI1NiAxMDIuNGg1MTJsMjU2IDI1Ni01MTIgNTYzLjJMMCAzNTguNHoiIGZpbGw9IiMyNkNENjMiIHAtaWQ9IjEwMTEzIj48L3BhdGg+PHBhdGggZD0iTTI1NiAxMDIuNGwyNTYgMjU2SDB6TTc2OCAxMDIuNGwyNTYgMjU2SDUxMnpNNTEyIDkyMS42bDIwNC44LTU2My4ySDMwNy4yeiIgZmlsbD0iIzE0QTM0NSIgcC1pZD0iMTAxMTQiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc2F2ZV9zdmcgPSAnPHN2ZyB0PSIxNjI5NDQ4NTg4MzUxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijc4NDkiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNNTEyIDBDMjI5LjIgMCAwIDIyOS4yIDAgNTEyczIyOS4yIDUxMiA1MTIgNTEyIDUxMi0yMjkuMiA1MTItNTEyUzc5NC44IDAgNTEyIDB6IG0wIDk0NS4yQzI3My4xIDk0NS4yIDc4LjggNzUwLjkgNzguOCA1MTJTMjczLjEgNzguOCA1MTIgNzguOCA5NDUuMiAyNzMuMSA5NDUuMiA1MTIgNzUwLjkgOTQ1LjIgNTEyIDk0NS4yeiIgcC1pZD0iNzg1MCIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjxwYXRoIGQ9Ik02ODAuOSAzNTkuNEw0NjEgNTgyLjMgMzQxLjYgNDczLjZjLTE2LTE0LjYtNDEtMTMuNC01NS42IDIuNi0xNC43IDE2LjEtMTMuNSA0MSAyLjYgNTUuNkw0MzYgNjY2LjFjNy41IDYuOCAxNyAxMC4yIDI2LjUgMTAuMiAxMC4yIDAgMjAuMy0zLjkgMjgtMTEuN0w3MzcgNDE0LjdjMTUuMy0xNS41IDE1LjEtNDAuNC0wLjQtNTUuNy0xNS41LTE1LjItNDAuNS0xNS4xLTU1LjcgMC40eiIgcC1pZD0iNzg1MSIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPic7CnZhciBzZXR0aW5nc19zdmcgPSAnPHN2ZyB0PSIxNjI5NDMzMzYwNDYyIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI4NzAiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNMTAwNi40MzggMTcuNTQ4Yy0wLjAzMiAwLTQzMC40My0xMTIuOTY2LTc4MC40NSAyMzcuMDIyLTI4OC45OSAyODkuMDA4LTMzLjUyMiA1NzYuOTY2LTMzLjUyMiA1NzYuOTY2czI4Ny45NTggMjU1LjQ4NCA1NzYuOTUyLTMzLjU1QzExMTkuNDM2IDQ0OC4wMTIgMTAwNi40NjggMTcuNjEyIDEwMDYuNDM4IDE3LjU0OHoiIGZpbGw9IiM5RUQzNkEiIHAtaWQ9IjI4NzEiPjwvcGF0aD48cGF0aCBkPSJNMTAwNi40MzggMTcuNTQ4bC00Mi42NzQtOC4yMTZjMC4wMzIgMC4wNjIgMTEyLjk5OCA0MzguNjc4LTIzNi45OSA3ODguNjUyLTk2LjM0NCA5Ni40MDYtMTkyLjU5OCAxMzIuMjA4LTI3OC4xMDQgMTM3LjE0NCA5NS40MSA1LjUgMjA4LTI0LjM2OCAzMjAuNzQ4LTEzNy4xNDRDMTExOS40MzYgNDQ4LjAxMiAxMDA2LjQ2OCAxNy42MTIgMTAwNi40MzggMTcuNTQ4eiIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iLjIiIHAtaWQ9IjI4NzIiPjwvcGF0aD48cGF0aCBkPSJNNjAwLjQwNiA0MjMuNjEyYy04LjMwOC04LjM0LTIxLjgzNi04LjM0LTMwLjE0OCAwTDYuNCA5ODcuNDI2Yy04LjMyNiA4LjM3Mi04LjMyNiAyMS44NjggMCAzMC4xOCA4LjMyNiA4LjMwOCAyMS44MjIgOC4zMDggMzAuMTYyIDBMNjAwLjQwNiA0NTMuNzZjOC4zNC04LjM0MiA4LjM0LTIxLjgzOCAwLTMwLjE0OHoiIGZpbGw9IiM4QUMwNTQiIHAtaWQ9IjI4NzMiPjwvcGF0aD48L3N2Zz4nOwp2YXIgcHJvdGVjdF9zdmcgPSAnPHN2ZyB0PSIxNjI5NTYwNTM4ODA1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMyMTIiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNODAwLjMgMjA1LjFMNTM0LjggMTE2Yy0xNi01LjQtMzMuMy01LjMtNDkuMiAwLjJsLTI2NC41IDkyLjNjLTI5LjMgMTAtNDkgMzcuNS00OS4xIDY4LjRsMS43IDI2NS40YzAuNyA4MSAzMS4xIDE1OC45IDg1LjYgMjE4LjkgMjUgMjcuNyA1Ni45IDUxLjUgOTcuOCA3Mi43bDE0NCA3NC42YzkgNC43IDE5LjcgNC42IDI4LjctMC4yTDY3Mi41IDgzMmM0MC40LTIxLjYgNzIuMi00NS43IDk2LjktNzMuOCA1My42LTYwLjYgODMtMTM4LjkgODIuNi0yMTkuOGwtMS43LTI2NS42Yy0wLjUtMzAuOS0yMC41LTU4LjEtNTAtNjcuN3oiIGZpbGw9IiMwN0MxNjAiIHAtaWQ9IjMyMTMiPjwvcGF0aD48cGF0aCBkPSJNNDc0LjEgNjUyYy03LjEgMC0xMy44LTIuOC0xOC45LTcuOGwtMTUxLTE1MS4xYy0xMC40LTEwLjQtMTAuNC0yNy40IDAtMzcuOHMyNy40LTEwLjQgMzcuOCAwbDEzMi4xIDEzMi4yIDIwNy43LTIwNy43YzEwLjQtMTAuNCAyNy40LTEwLjQgMzcuOCAwIDEwLjQgMTAuNCAxMC40IDI3LjQgMCAzNy44TDQ5MyA2NDQuMmMtNSA1LTExLjggNy44LTE4LjkgNy44eiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iMzIxNCI+PC9wYXRoPjwvc3ZnPic7CgovLyBqcXVlcnkuc2hvd3RpcHMuanMKKGZ1bmN0aW9uKGpRdWVyeSkgewpqUXVlcnkuZm4uc2hvd1RpcHMgPSBmdW5jdGlvbihvcHRpb25zLGVsZW0pewp2YXIgY29uZmlnID0gewpza2luOiJ0cmlwcyIsCmNvbnRlbnQ6JCh0aGlzKS5hdHRyKCJ0aXBzIil8fCLlvLnlh7rnsbvlnovnmoTmsJTms6Hmj5DnpLrvvIEiLCAgLy/msJTms6Hmj5DnpLrlhoXlrrnph4zpnaLlj6/ku6XmmK9IVE1M77yM6buY6K6k5pi+56S66Ieq5a6a5LmJ55qE5o+Q56S65YaF5a65CndpZHRoOiJhdXRvIiwgIC8v6buY6K6k5Li6YXV0b++8jOWPr+S7peWGmeWFt+S9k+WwuuWvuOWmgu+8mjIwMAphbGlnblRvOlsicmlnaHQiLCJjZW50ZXIiXSwgIC8v566t5aS05pa55ZCRCmNvbG9yOlsicmdiKDI0NywgMjA2LCA1NykiLCIjRkZGRUY0Il0sICAvL+i/memHjOaYr+aPkOekuuWxgueahOmjjuagvO+8jOesrOS4gOS4quWPguaVsOS4uuaPkOekuui+ueahhuminOiJsu+8jOesrOS6jOS4quWPguaVsOS4uuaPkOekuuiDjOaZr+minOiJsgp0eXBlOiJodG1sIiwgICAvL+aYvuekuuWGheWuueexu+Weiwp0cmlnZ2VyOiJjbGljayIsICAgIC8v6buY6K6k5Li654K55Ye75pi+56S677yMc2hvd+S4uuWIneWni+WMluWwseaYvuekuu+8jGhvdmVy5Li657uP6L+H5pi+56S677yMZm9jdXPnhKbngrnmmL7npLrvvIxtb3VzZei3n+maj+m8oOagh+aYvuekuumakOiXjwpzcGFjaW5nOjEwLCAgLy/pu5jorqTkuLrnrq3lpLTot53nprvlr7nosaHnmoTlsLrlr7gKY3VzdG9taWQ6IiIsICAvL+iHquWumuS5iUlECmlzY2xvc2U6ZmFsc2UsICAgLy/mmK/lkKbmmL7npLrlhbPpl63mjInpkq4Kc3VjY2VzcyA6IG51bGwgICAgLy/miJDlip/lkI7nmoTlm57osIPlh73mlbAKfTsKdmFyIG9wdHMgPSBqUXVlcnkuZXh0ZW5kKGNvbmZpZywgb3B0aW9ucyk7CnJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsKdmFyIHRoYXQgPSBqUXVlcnkodGhpcyksdGlwQm94LHRpcElkLHNlbGZILHNlbGZXLGNvbklkLGRvY1csIHNwYSA9IG9wdHMuc3BhY2luZywgc2tpbj1vcHRzLnNraW47CnZhciBNYXRocmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTk5OTk5OSk7CnZhciBwbXIgPSAob3B0cy5jdXN0b21pZD09IiIpID8gTWF0aHJhbmRvbSA6b3B0cy5jdXN0b21pZC5yZXBsYWNlKC9bIy5dLywgIiIpOwp2YXIgcG9pbnRlcj1vcHRzLmFsaWduVG8ubGVuZ3RoPT09MSA/ICcnK29wdHMuYWxpZ25Ub1swXSsnJyA6ICcnK29wdHMuYWxpZ25Ub1swXSsnLScrb3B0cy5hbGlnblRvWzFdKycnOwoKCQkJaWYodHlwZW9mIGVsZW0gPT0gJ3N0cmluZycpIHsKCQkJCWlmKGVsZW0gPT0ic2hvdyIpewoJCQkJCWpRdWVyeSgnI3RpcCcrcG1yKS5zaG93KCk7ICBqUXVlcnkoIiNjb24iK3BtcikuaHRtbChvcHRzLmNvbnRlbnQpOwoJCQkJCXNob3dQb3NpdGlvbihwb2ludGVyLGpRdWVyeSgnI3RpcCcrcG1yKSk7CgkJCQkJfTsKCQkJCWlmKGVsZW0gPT0iaGlkZSIpe2pRdWVyeSgnI3RpcCcrcG1yKS5oaWRlKCl9OwoJCQl9OwoJCQlpZih0eXBlb2YgZWxlbSA9PSAnJyB8fCB0eXBlb2YgZWxlbSA9PSB1bmRlZmluZWQpe3JldHVybiB0cnVlfTsKCQkJaWYoalF1ZXJ5KCcjdGlwJytwbXIpLmxlbmd0aD09MSl7cmV0dXJuIGZhbHNlO30KCQkJdGlwQm94PWpRdWVyeSgnPGRpdiBjbGFzcz0iJytza2luKycgJytza2luKyctJytwb2ludGVyKyciIGlkPSJ0aXAnK3BtcisnIj48aT48L2k+PGVtPjwvZW0+PGRpdiBjbGFzcz0iJytza2luKydjb24iIGlkPSJjb24nK3BtcisnIj48L2Rpdj48L2Rpdj4nKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKCQkJdGlwSWQgPSBqUXVlcnkoIiN0aXAiK3Btcik7CgkJCWNvbklkID0galF1ZXJ5KCIjY29uIitwbXIpOwoKCQkJdmFyIGVkZ2Vjb2xvcj0nYm9yZGVyLScrb3B0cy5hbGlnblRvWzBdKyctY29sb3InLCB0Zmk9dGlwSWQuZmluZCgiaSIpLCB0ZmVtPXRpcElkLmZpbmQoImVtIiksIHRmaWVtPXRpcElkLmZpbmQoImksZW0iKTsKCQkJdGlwSWQuY3NzKHsncG9zaXRpb24nOidhYnNvbHV0ZScsYm9yZGVyOicxcHggc29saWQnLCdib3JkZXItY29sb3InOm9wdHMuY29sb3JbMF0sJ2JhY2tncm91bmQtY29sb3InOm9wdHMuY29sb3JbMV19KTsKCQkJaWYob3B0cy5hbGlnblRvWzFdPT0nY2VudGVyJyl7IHZhciBvZmZwb3M9NTAscGVyY2VuPSIlIjsgfWVsc2V7IHZhciBvZmZwb3M9NSxwZXJjZW49InB4IjsgfTsKCQkJdGZpZW0uY3NzKHt3aWR0aDowLGhlaWdodDowLGNvbnRlbnQ6JycsJ3Bvc2l0aW9uJzonYWJzb2x1dGUnfSkKCQkJdGZpLmNzcyh7Ym9yZGVyOic4cHggc29saWQgdHJhbnNwYXJlbnQnLCd6LWluZGV4Jzo1fSk7CgkJCXRmZW0uY3NzKHtib3JkZXI6JzdweCBzb2xpZCB0cmFuc3BhcmVudCcsJ3otaW5kZXgnOjEwfSk7CgkJCXN3aXRjaCAocG9pbnRlcikgewoJCQkJY2FzZSAndG9wLWNlbnRlcic6CgkJCQljYXNlICdib3R0b20tY2VudGVyJzoKCQkJCWNhc2UgJ3RvcC1sZWZ0JzoKCQkJCWNhc2UgJ2JvdHRvbS1sZWZ0JzoKCQkJCQl2YXIgcG9pPSJsZWZ0IjsKCQkJCQlpZihwb2ludGVyPT0ndG9wLWNlbnRlcicgfHwgcG9pbnRlcj09J2JvdHRvbS1jZW50ZXInKXsKCQkJCQkJdGZpLmNzcyh7Im1hcmdpbi1sZWZ0IjoiLThweCJ9KTsKCQkJCQkJdGZlbS5jc3MoeyJtYXJnaW4tbGVmdCI6Ii03cHgifSk7CgkJCQkJfQoJCQkJICAgIGJyZWFrOwoJCQkJY2FzZSAnbGVmdC1jZW50ZXInOgoJCQkJY2FzZSAncmlnaHQtY2VudGVyJzoKCQkJCWNhc2UgJ2xlZnQtdG9wJzoKCQkJCWNhc2UgJ3JpZ2h0LXRvcCc6CgkJCQkJdmFyIHBvaT0idG9wIjsKCQkJCQlpZihwb2ludGVyPT0nbGVmdC1jZW50ZXInIHx8IHBvaW50ZXI9PSdyaWdodC1jZW50ZXInKXsKCQkJCQkJdGZpLmNzcyh7Im1hcmdpbi10b3AiOiItOHB4In0pOwoJCQkJCQl0ZmVtLmNzcyh7Im1hcmdpbi10b3AiOiItN3B4In0pOwoJCQkJCX0KCQkJCSAgICBicmVhazsKCQkJCWRlZmF1bHQ6CgkJCQkJdmFyIHBvaT0icmlnaHQiOwoJCQkJICAgIGJyZWFrOwoJCQl9OwoKCQkJaWYocG9pbnRlcj09J2ZvbGxvdycpewoJCQkJdGZpLmNzcyh7J2JvcmRlci1ib3R0b20tY29sb3InOm9wdHMuY29sb3JbMF0sbGVmdDonJytvZmZwb3MrcGVyY2VuKycnLGJvdHRvbTonMTAwJSd9KTsKCQkJCXRmZW0uY3NzKHsnYm9yZGVyLWJvdHRvbS1jb2xvcic6b3B0cy5jb2xvclsxXSxsZWZ0OicnKyhvZmZwb3MrKG9wdHMuYWxpZ25Ub1sxXT09J2NlbnRlcic/MDoxKSkrcGVyY2VuKycnLGJvdHRvbTonMTAwJSd9KTsKCQkJfWVsc2V7CgkJCQl0ZmkuY3NzKGVkZ2Vjb2xvcixvcHRzLmNvbG9yWzBdKS5jc3MocG9pLCcnK29mZnBvcytwZXJjZW4rJycpOwoJCQkJdGZlbS5jc3MoZWRnZWNvbG9yLG9wdHMuY29sb3JbMV0pLmNzcyhwb2ksJycrKG9mZnBvcysob3B0cy5hbGlnblRvWzFdPT0nY2VudGVyJz8wOjEpKStwZXJjZW4rJycpOwoJCQkJdGZpZW0uY3NzKG9wdHMuYWxpZ25Ub1swXSwnMTAwJScpOwoJCQl9OwoKCQkJc3dpdGNoIChvcHRzLnR5cGUpIHsKCQkJCWNhc2UgJ2h0bWwnOmNvbklkLmh0bWwob3B0cy5jb250ZW50KTsgYnJlYWs7CgkJCQljYXNlICdpZCcgIDoKCQkJCSAgICB2YXIgdGVtcGlkPWpRdWVyeShvcHRzLmNvbnRlbnQpICx3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgkJCQkJaWYodGVtcGlkLmNzcygiZGlzcGxheSIpID09ICJub25lIil7ICB0ZW1waWQuY3NzKHtkaXNwbGF5OiJibG9jayJ9KTsgfQoJCQkJCWNvbklkLmFwcGVuZCh0ZW1waWQpOwoJCQkJICAgIGJyZWFrOwoJCQl9OwoJCQlpZihvcHRzLmlzY2xvc2UpewoJCQkJalF1ZXJ5KCc8c3BhbiBjbGFzcz0iJytza2luKydjbG9zZSIgaWQ9ImNsb3NlJytwbXIrJyI+JnRpbWVzOzwvc3Bhbj4nKS5hcHBlbmRUbyh0aXBJZCk7CgkJCQl0aXBJZC5maW5kKCIjY2xvc2UiK3BtcisiIikub24oImNsaWNrIixmdW5jdGlvbigpe3RpcElkLmhpZGUoKTt9KTsKCQkJfQoKCQkJaWYodHlwZW9mIG9wdHMud2lkdGggPT09ICdzdHJpbmcnKXsKCQkJCWRvY1cgPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKihvcHRzLndpZHRoLnJlcGxhY2UoJyUnLCcnKS8xMDApKTsKCQkJCSh0eXBlb2Ygb3B0cy53aWR0aCA9PSAnYXV0bycgfHwgdHlwZW9mIG9wdHMud2lkdGggPT0gJycpID8gdGlwQm94LmNzcyh7d2lkdGg6J2F1dG8nfSkgOiB0aXBCb3guY3NzKHt3aWR0aDpkb2NXfSk7CgkJCQl0aXBCb3guaGVpZ2h0KCk7CgkJCX1lbHNlewoJCQkJdGlwQm94LndpZHRoKG9wdHMud2lkdGgpLmhlaWdodCgpOwoJCQl9CiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dQb3NpdGlvbihwb2ludGVyLGNlbGwpewoJCQkJdmFyIHNlbGZIID0gdGhhdC5vdXRlckhlaWdodCh0cnVlKSwgc2VsZlcgPSB0aGF0Lm91dGVyV2lkdGgodHJ1ZSk7CgkJCQl2YXIgcG9zdD10aGF0Lm9mZnNldCgpLnRvcCwgcG9zbD10aGF0Lm9mZnNldCgpLmxlZnQ7CgkJCQl2YXIgdGlwQ2VsbD0oY2VsbD09IiIgfHwgY2VsbD09dW5kZWZpbmVkKSA/IHRpcElkIDogY2VsbDsKCQkJICAgIHZhciB0aXBIPXRpcENlbGwub3V0ZXJIZWlnaHQodHJ1ZSksIHRpcFc9dGlwQ2VsbC5vdXRlcldpZHRoKHRydWUpOwoKCQkJCXN3aXRjaCAocG9pbnRlcikgewoJCQkJCWNhc2UgJ3RvcC1sZWZ0JzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbH0pOyBicmVhazsKCQkJCQljYXNlICd0b3AtY2VudGVyJzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbC0odGlwVy8yKSsoc2VsZlcvMil9KTsgYnJlYWs7CgkJCQkJY2FzZSAndG9wLXJpZ2h0JzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbC0odGlwVy1zZWxmVyl9KTsgYnJlYWs7CgkJCQkJY2FzZSAnYm90dG9tLWxlZnQnOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3Qrc2VsZkgrc3BhLGxlZnQ6cG9zbH0pOyBicmVhazsKCQkJCQljYXNlICdib3R0b20tY2VudGVyJzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0K3NlbGZIK3NwYSxsZWZ0OnBvc2wtKHRpcFcvMikrKHNlbGZXLzIpfSk7IGJyZWFrOwoJCQkJCWNhc2UgJ2JvdHRvbS1yaWdodCc6IHRpcENlbGwuY3NzKHt0b3A6cG9zdCtzZWxmSCtzcGEsbGVmdDpwb3NsLSh0aXBXLXNlbGZXKX0pOyBicmVhazsKCQkJCQljYXNlICdsZWZ0LXRvcCc6IHRpcENlbGwuY3NzKHt0b3A6cG9zdCxsZWZ0OnBvc2wtdGlwVy1zcGF9KTsgYnJlYWs7CgkJCQkJY2FzZSAnbGVmdC1jZW50ZXInOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QtKHRpcEgvMikrKHNlbGZILzIpLGxlZnQ6cG9zbC10aXBXLXNwYX0pOyBicmVhazsKCQkJCQljYXNlICdyaWdodC10b3AnOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QsbGVmdDpwb3NsK3NlbGZXK3NwYX0pOyBicmVhazsKCQkJCQljYXNlICdyaWdodC1jZW50ZXInOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QtKHRpcEgvMikrKHNlbGZILzIpLGxlZnQ6cG9zbCtzZWxmVytzcGF9KTsgYnJlYWs7CgkJCQkJY2FzZSAnZm9sbG93JzogdGhhdC5tb3VzZW1vdmUoZnVuY3Rpb24oZSkgeyB0aXBDZWxsLmNzcyh7dG9wOmUucGFnZVkgKyAzMCxsZWZ0OmUucGFnZVggLSA2fSk7IH0pOyBicmVhazsKCQkJCX07CgkJCX0KCQkJdGlwQm94LmhpZGUoKTsKCQkJc3dpdGNoIChvcHRzLnRyaWdnZXIpewoJCQkJY2FzZSAnc2hvdyc6c2hvd1Bvc2l0aW9uKHBvaW50ZXIpO3RpcEJveC5zaG93KCk7YnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdjbGljayc6dGhhdC5jbGljayhmdW5jdGlvbigpe3Nob3dQb3NpdGlvbihwb2ludGVyKTt0aXBCb3guc2hvdygpO30pO2JyZWFrOwoJCQkJY2FzZSAnaG92ZXInOnRoYXQuaG92ZXIoZnVuY3Rpb24oKXtzaG93UG9zaXRpb24ocG9pbnRlcik7dGlwQm94LnNob3coKTsgdGlwQm94Lm9uKCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7alF1ZXJ5KHRoaXMpLnNob3coKX0pLm9uKCJtb3VzZW91dCIsZnVuY3Rpb24oKXtqUXVlcnkodGhpcykuaGlkZSgpfSl9LGZ1bmN0aW9uKCl7dGlwQm94LmhpZGUoKTt9KTticmVhazsKCQkJCWNhc2UgJ2ZvY3VzJzp0aGF0LmZvY3VzKGZ1bmN0aW9uKCl7c2hvd1Bvc2l0aW9uKHBvaW50ZXIpO3RpcEJveC5zaG93KCk7fSk7ICB0aGF0LmJsdXIoZnVuY3Rpb24oKXt0aXBCb3guaGlkZSgpO30pO2JyZWFrOwoJCQkJY2FzZSAnbW91c2UnOnRoYXQuaG92ZXIoZnVuY3Rpb24oKXtzaG93UG9zaXRpb24ocG9pbnRlcik7dGlwQm94LnNob3coKTt9LGZ1bmN0aW9uKCl7dGlwQm94LmhpZGUoKTt9KTticmVhazsKCQkJfTsKCQkJc2V0VGltZW91dChmdW5jdGlvbigpe29wdHMuc3VjY2VzcyAmJiBvcHRzLnN1Y2Nlc3MoKTt9LCAxKTsKCQl9KTsKCX0KfSkoalF1ZXJ5KTsKCihmdW5jdGlvbiAoKSB7Cid1c2Ugc3RyaWN0JzsKCiAgICBsKCJDU0ROR3JlZW5lciBWIiArIHZlcnNpb24pOwogICAgaWYgKGlzRmlyZWZveCgpKSB7CiAgICAgICAgY29uc29sZS5sb2coIuaCqOato+WcqOS9v+eUqOeBq+eLkOa1j+iniOWZqO+8jOWwhuS9v+eUqOWFvOWuueaooeW8j+i/kOihjCBDU0ROR3JlZW5lcuOAgiIpOwogICAgfQogICAgcHJvZ3Jlc3Nvci5pbml0KCk7CgogICAgLy8g57u/5YyW6K6+5a6a5oyJ6ZKu54K55Ye75LqL5Lu2CiAgICBsZXQganNzID0gIiI7CiAgICBqc3MgKz0gIjxzY3JpcHQ+ZnVuY3Rpb24gc2hvd0NvbmZpZygpIHsiOwogICAganNzICs9ICIkKHdpbmRvdykuc2Nyb2xsVG9wKDApOyI7CiAgICBqc3MgKz0gIiQoJy53aGl0ZV9jb250ZW50JykuZmFkZUluKDUwMCk7IjsKICAgIGpzcyArPSAiJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7IjsKICAgIGpzcyArPSAiJCgnYm9keScpLmNzcygnZmlsdGVyJywnYmx1cigzcHgpJyk7IjsKICAgIGpzcyArPSAiJCgnYm9keScpLmNzcygncG9pbnRlci1ldmVudHMnLCdub25lJykiOwogICAganNzICs9ICJ9PC9zY3JpcHQ+IjsKICAgICQoImJvZHkiKS5hcHBlbmQoanNzKTsKCiAgICAvLyDkv53lrZjmjInpkq7ngrnlh7vkuovku7YKICAgIGxldCBzYXZlSnNzID0gIiI7CiAgICBzYXZlSnNzICs9ICI8c2NyaXB0PmZ1bmN0aW9uIHNhdmVBbmRSZWxvYWQoKSB7IjsKICAgIHNhdmVKc3MgKz0gIiQoJyNjb25maWdDb250ZW50JykuZmFkZU91dCgyMDApOyI7CiAgICBzYXZlSnNzICs9ICJzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sMjAwKSI7CiAgICBzYXZlSnNzICs9ICJ9PC9zY3JpcHQ+IjsKICAgICQoImJvZHkiKS5hcHBlbmQoc2F2ZUpzcyk7CgogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgYmxvY2tVUkwgPSBjdXJyZW50VVJMLnNwbGl0KCIvIikubGVuZ3RoOwogICAgICAgIHZhciBtYWluID0gLyh3d3dcLmNzZG5cLm5ldFwvKSQvOwogICAgICAgIHZhciBtYWluTmF2ID0gL25hdi87CiAgICAgICAgdmFyIGFydGljbGUgPSAvYXJ0aWNsZS87CiAgICAgICAgdmFyIGJicyA9IC9iYnNcLmNzZG5cLm5ldC87CiAgICAgICAgdmFyIGJsb2cgPSAvYmxvZ1wuY3NkblwubmV0LzsKICAgICAgICB2YXIgYmxvZzIgPSAvXC9hcnRpY2xlXC9saXN0XC8vOwogICAgICAgIHZhciBkb3dubG9hZCA9IC9kb3dubG9hZFwuY3NkblwubmV0LzsKICAgICAgICB2YXIgbG9naW4gPSAvcGFzc3BvcnRcLmNzZG5cLm5ldC87CiAgICAgICAgdmFyIHpvbmUgPSAvbWVcLmNzZG5cLm5ldC87CiAgICAgICAgdmFyIG90aGVyID0gLyh3d3dcLmNzZG5cLm5ldFwvKS87CiAgICAgICAgdmFyIG1wID0gL21wXC5jc2RuXC5uZXQvOwogICAgICAgIHZhciBhcnRpY2xlX21vbnRoID0gL2FydGljbGVcL21vbnRoLzsKICAgICAgICB2YXIgbGluayA9IC9saW5rXC5jc2RuXC5uZXQvOwoKICAgICAgICAvLyDmlbDnu4TliJ3lp4vljJYKICAgICAgICBsaXN0ID0gW107CiAgICAgICAgLy8g5aS06YOo5YiGCiAgICAgICAgLy8gQVBQCiAgICAgICAgLy8gcHV0KCIuYXBwLWFwcCIpOwogICAgICAgIC8vIFZJUAogICAgICAgIHB1dCgiLnZpcC1jYWlzZSIpOwogICAgICAgIC8vIOiusOW9leS9oOeahOaIkOmVv+WOhueoi++8iOiusOS4quavm++8iQogICAgICAgIHB1dCgiI3dyaXRlR3VpZGUiKTsKICAgICAgICAvLyDmlrDpgJrnn6XlsI/lnIbngrnvvIjmnKrnmbvlvZXmiY3mtojmjonvvIkKICAgICAgICBpZiAoJCgiLnVzZXJpbmZvIGEiKS50ZXh0KCkgPT09ICfnmbvlvZUv5rOo5YaMJykgewogICAgICAgICAgICBwdXQoIiNtc2ctY2lyY2xlIik7CiAgICAgICAgfQogICAgICAgIC8vIOmhtumDqOiwt+atjOW5v+WRigogICAgICAgIHB1dCgiLmFkc2J5Z29vZ2xlIik7CiAgICAgICAgLy8g5oKs5rWu5Zyo6aG25qCP5oyJ6ZKu5LiK5Ye6546w55qE5LqM57u056CBCiAgICAgICAgcHV0KCIuYXBwQ29udHJvbCIpOwogICAgICAgIC8vIOmhtumDqOW5v+WRigogICAgICAgIHB1dCgiLmFkdmVydC1iZyIpOwoKICAgICAgICBpZiAobWFpbi50ZXN0KGN1cnJlbnRVUkwpIHx8IG1haW5OYXYudGVzdChjdXJyZW50VVJMKSkgewogICAgICAgICAgICBsKCLmraPlnKjkvJjljJbkuLvpobXkvZPpqowuLi4iKTsKICAgICAgICAgICAgLy8g5bi46KeECiAgICAgICAgICAgIC8vIOWktOmDqOW5v+WRigogICAgICAgICAgICBwdXQoIi5iYW5uZXItYWQtYm94Iik7CiAgICAgICAgICAgIC8vIOW1jOWFpeW5v+WRigogICAgICAgICAgICBwdXQoIiNrcF9ib3hfMjExIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5zbGlkZS1vdXRlciIpOwogICAgICAgICAgICAvLyDlj7Pkvqfor6bmg4UKICAgICAgICAgICAgcHV0KCIucGVyc2lvbl9hcnRpY2xlIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aOqOiNkAogICAgICAgICAgICAkKCIuZmVlZF9jb21wYW55IikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIOW5v+WRiui9ruaSrQogICAgICAgICAgICBwdXQoIi5lbC1jYXJvdXNlbF9fY29udGFpbmVyIik7CiAgICAgICAgICAgIC8vIOmhtumDqOaoquW5hQogICAgICAgICAgICBwdXQoIi50b29sYmFyLWFkdmVydCIpOwogICAgICAgICAgICAvLyDpobbmoI9WSVDpgInpobkKICAgICAgICAgICAgJCgnLnRvb2xiYXItc3ViTWVudS1ib3gnKS5maW5kKCJbaHJlZj0naHR0cHM6Ly9tYWxsLmNzZG4ubmV0L3ZpcCddIikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIENTRE7lt6Xlhbflub/lkYoKICAgICAgICAgICAgcHV0KCIjZmxvb3ItYWRfNjQiKTsKICAgICAgICAgICAgY2xlYW4oMTApOwogICAgICAgICAgICAvLyBjb21tb24oNSwgMTApOwogICAgICAgICAgICAvLyDljZrlrqLlj4rkuLvpobXkvJjljJYKICAgICAgICAgICAgY29tbW9uKDksIDEwKTsKICAgICAgICAgICAgbG9vcCgzKTsKICAgICAgICAgICAgbG9vcCgxKTsKICAgICAgICB9IGVsc2UgaWYgKChibG9nLnRlc3QoY3VycmVudFVSTCkgJiYgYmxvY2tVUkwgPT09IDQpIHx8IGJsb2cyLnRlc3QoY3VycmVudFVSTCkpIHsKICAgICAgICAgICAgbCgi5q2j5Zyo5LyY5YyW5Liq5Lq65Y2a5a6i5Li76aG15L2T6aqMLi4uIik7CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDlpLTpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIuYmFubmVyLWFkLWJveCIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIuc2xpZGUtb3V0ZXIiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n6K+m5oOFCiAgICAgICAgICAgIHB1dCgiLnBlcnNpb25fYXJ0aWNsZSIpOwogICAgICAgICAgICAvLyDlt6bkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIubWI4Iik7CiAgICAgICAgICAgIHB1dCgiI2twX2JveF81MDMiKTsKICAgICAgICAgICAgcHV0KCIja3BfYm94XzIxNCIpOwogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIC8vIGNvbW1vbig1LCAxMCk7CiAgICAgICAgICAgIGxvb3AoMyk7CiAgICAgICAgICAgIGxvb3AoMSk7CiAgICAgICAgfSBlbHNlIGlmIChhcnRpY2xlLnRlc3QoY3VycmVudFVSTCkgJiYgIW1wLnRlc3QoY3VycmVudFVSTCkgJiYgIWFydGljbGVfbW9udGgudGVzdChjdXJyZW50VVJMKSkgewogICAgICAgICAgICBsKCLmraPlnKjkvJjljJbpmIXor7vkvZPpqowuLi4iKTsKICAgICAgICAgICAgLy8g57u/5YyW6K6+5a6aCiAgICAgICAgICAgIGlmIChpc0ZpcmVmb3goKSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCIudG9vbGJhci1jb250YWluZXItbWlkZGxlIikucHJlcGVuZCgiPGRpdiBpZD0nZ3JlZW5lclByb2dyZXNzJyBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodCc+PC9kaXY+Iik7CiAgICAgICAgICAgICAgICAgICAgbGV0IGh0bWxPZjAgPSAnPGRpdiBjbGFzcz0idG9vbGJhci1idG4gY3Nkbi10b29sYmFyLWZsIj48YSBpZD0iZ3JlZW5lclNldHRpbmdzIiB0aXRsZT0i54K55Ye75omT5byAIENTRE5HcmVlbmVyIOe7v+WMluiuvuWumiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBvbmNsaWNrPSJzaG93Q29uZmlnKCk7Ij4nICsgc2V0dGluZ3Nfc3ZnICsgJzwvYT48L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWJ0bnMiKS5wcmVwZW5kKGh0bWxPZjApOwogICAgICAgICAgICAgICAgICAgIGlmIChpc0ZpcmVmb3goKSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDmj5DnpLoKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpcHNDb29raWUgPSBjb25maWcuZ2V0KCJzaG93VGlwIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aXBzQ29va2llKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5zZXQoInNob3dUaXAiLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIudG9vbGJhci1jb250YWluZXItbWlkZGxlIikucHJlcGVuZCgiPGRpdiBpZD0nZ3JlZW5lclByb2dyZXNzJyBzdHlsZT0ndGV4dC1hbGlnbjpyaWdodCc+PC9kaXY+Iik7CiAgICAgICAgICAgICAgICBsZXQgaHRtbE9mMCA9ICc8ZGl2IGNsYXNzPSJ0b29sYmFyLWJ0biBjc2RuLXRvb2xiYXItZmwiPjxhIGlkPSJncmVlbmVyU2V0dGluZ3MiIHRpdGxlPSLngrnlh7vmiZPlvIAgQ1NETkdyZWVuZXIg57u/5YyW6K6+5a6aIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIG9uY2xpY2s9InNob3dDb25maWcoKTsiPicgKyBzZXR0aW5nc19zdmcgKyAnPC9hPjwvZGl2Pic7CiAgICAgICAgICAgICAgICAkKCIudG9vbGJhci1idG5zIikucHJlcGVuZChodG1sT2YwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGK77yM5pS+5Yiw56ys5LiA5Liq5riF6ZmkCiAgICAgICAgICAgIC8vIHB1dCgiLnJlY29tbWVuZC1yaWdodCIpOwogICAgICAgICAgICBwdXQoIiNhZGRBZEJveCIpOwogICAgICAgICAgICAvLyBwdXQoIi5hc2lkZS1ib3gua2luZF9wZXJzb24uZC1mbGV4LmZsZXgtY29sdW1uIik7CiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC10b3AtYWRib3giKTsKICAgICAgICAgICAgLy8gcHV0KCIucmVjb21tZW5kLWxpc3QtYm94LmQtZmxleC5mbGV4LWNvbHVtbi5hc2lkZS1ib3giKTsKICAgICAgICAgICAgLy8g5bem5L6n5bm/5ZGKCiAgICAgICAgICAgIC8vIHB1dCgiI2NvbnRhaW5lciIpOwogICAgICAgICAgICAvLyDlv6vmnaXlhpnljZrlrqLlkKcKICAgICAgICAgICAgcHV0KCIuYmxvZ190aXBfYm94Iik7CiAgICAgICAgICAgIC8vIOaOqOiNkOWFs+azqOeUqOaItwogICAgICAgICAgICBwdXQoIi5ibG9nLWV4cGVydC1yZWNvbW1lbmQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S4i+inklZJUAogICAgICAgICAgICBwdXQoIi5tZWF1LWdvdG9wLWJveCIpOwogICAgICAgICAgICAvLyDlub/lkYoKICAgICAgICAgICAgcHV0KCIubWVkaWF2X2FkIik7CiAgICAgICAgICAgIHB1dCgiLnB1bGxsb2ctYm94Iik7CiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1hZC1ib3giKTsKICAgICAgICAgICAgcHV0KCIuYm94LXNoYWRvdyIpOwogICAgICAgICAgICBwdXQoIi50eXBlX2hvdF93b3JkIik7CiAgICAgICAgICAgIHB1dCgiLmZvdXJ0aF9jb2x1bW4iKTsKICAgICAgICAgICAgLy8g6auY5YiG6L6o546H5pe25Y+z5L6n5paH56ug5o6o6I2QCiAgICAgICAgICAgIC8vIHB1dCgiLnJpZ2h0LWl0ZW0iKTsKICAgICAgICAgICAgLy8g5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiI2FzaWRlRm9vdGVyIik7CiAgICAgICAgICAgIHB1dCgiI2FkLWRpdiIpOwogICAgICAgICAgICBwdXQoIiM0NzkiKTsKICAgICAgICAgICAgcHV0KCIjNDgwIik7CiAgICAgICAgICAgIC8vIOaJk+i1jwogICAgICAgICAgICBwdXQoIi5wb3N0VGltZSIpOwogICAgICAgICAgICAvLyDor77nqIvmjqjojZAKICAgICAgICAgICAgcHV0KCIudDAiKTsKICAgICAgICAgICAgLy8g5YiG5Lqr5rW35oqlCiAgICAgICAgICAgIHB1dCgiLnNoYXJlU3VnZ2VzdCIpOwogICAgICAgICAgICAvLyDlupXpg6jkuLvpopgKICAgICAgICAgICAgcHV0KCIudGVtcGxhdGUtYm94Iik7CiAgICAgICAgICAgIC8vIOivhOiuuuWMuuW5v+WRigogICAgICAgICAgICBwdXQoImRpdiNkbXBfYWRfNTgiKTsKICAgICAgICAgICAgLy8g5omT6LWPCiAgICAgICAgICAgIHB1dCgiLnJld2FyZC11c2VyLWJveCIpOwogICAgICAgICAgICAvLyDlj7PkvqfmiZPotY/mjInpkq4KICAgICAgICAgICAgcHV0KCIudG8tcmV3YXJkIik7CiAgICAgICAgICAgIC8vIOaOqOiNkOWGheWuueW5v+WRigogICAgICAgICAgICBwdXQoIi5yZWNvbW1lbmQtcmVjb21tZW5kLWJveCIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIuaW5kZXhTdXBlcmlzZSIpOwogICAgICAgICAgICAvLyDmiqLmspnlj5Hop5LmoIcKICAgICAgICAgICAgcHV0KCIuY29tbWVudC1zb2ZhLWZsYWciKTsKICAgICAgICAgICAgLy8g6aG1amlvCiAgICAgICAgICAgIHB1dCgiLmJvdHRvbS1wdWItZm9vdGVyIik7CiAgICAgICAgICAgIC8vIOeZu+W9leafpeeci+acquivu+a2iOaBrwogICAgICAgICAgICBwdXQoIi50b29sYmFyLW5vdGljZS1idWJibGUiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC10b3AtYWRib3giKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5Zub5Liq5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnByb2dyYW1tZXIxQm94Iik7CiAgICAgICAgICAgIHB1dCgiLnByb2dyYW1tZXIyQm94Iik7CiAgICAgICAgICAgIHB1dCgiLnByb2dyYW1tZXIzQm94Iik7CiAgICAgICAgICAgIHB1dCgiLnByb2dyYW1tZXI0Qm94Iik7CiAgICAgICAgICAgIC8vIOeCuei1nuawlOazoQogICAgICAgICAgICBwdXQoIi50cmlwbGV0LXByb21wdCIpOwogICAgICAgICAgICAvLyDpobbpg6jmqKrluYUKICAgICAgICAgICAgcHV0KCIudG9vbGJhci1hZHZlcnQiKTsKICAgICAgICAgICAgLy8g5bqV6YOo5L+h5oGvCiAgICAgICAgICAgIHB1dCgiLmJsb2ctZm9vdGVyLWJvdHRvbSIpOwogICAgICAgICAgICAvLyDlj7PkvqfmoI/lub/lkYoKICAgICAgICAgICAgcHV0KCIjNjUyNyIpOwogICAgICAgICAgICBwdXQoIiNyZWNvbW1lbmRBZEJveCIpOwogICAgICAgICAgICAvLyDmjqjojZDlhoXlrrlUaXRsZQogICAgICAgICAgICBwdXQoIi5yZWNvbW1lbmQtdGl0LW1vZCIpOwogICAgICAgICAgICAvLyDnuqLljIXmj5DphpIKICAgICAgICAgICAgcHV0KCIuY3Nkbi1yZWRwYWNrLWxvdHRlcnktYnRuLWJveCIpOwogICAgICAgICAgICAvLyDlrabnlJ/orqTor4EKICAgICAgICAgICAgcHV0KCIuY3Nkbi1oaWdoc2Nob29sLXdpbmRvdyIpOwogICAgICAgICAgICAvLyDlj7Pkvqfmgqzmta7moI/pmaTnva7pobbku6XlpJbnmoTmjInpkq4KICAgICAgICAgICAgcHV0KCIub3B0aW9uLWJveFtkYXRhLXR5cGU9J2d1aWRlJ10sLm9wdGlvbi1ib3hbZGF0YS10eXBlPSdjcyddLC5jc2RuLWNvbW1vbi1sb2dvLWFkdmVydCIpOwogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgIC8vIOWxleW8gOivhOiuuueahOaJgOacieWbnuWkjQogICAgICAgICAgICAgICAkKCcuYnRuLXJlYWQtcmVwbHknKS5jbGljaygpOwogICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgICAgLy8g5Li75Yqo5Yqg5YWl5Y+z5L6n5qCPCiAgICAgICAgICAgIGlmICgkKCIucmVjb21tZW5kLXJpZ2h0IikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAkKCIjbWFpbkJveCIpLmFmdGVyKCc8ZGl2IGNsYXNzPSJyZWNvbW1lbmQtcmlnaHQgIGFsaWduLWl0ZW1zLXN0cmV0Y2ggY2xlYXJmaXgiIGlkPSJyaWdodEFzaWRlIj48YXNpZGUgY2xhc3M9InJlY29tbWVuZC1yaWdodF9hc2lkZSI+PGRpdiBpZD0icmVjb21tZW5kLXJpZ2h0IiBzdHlsZT0iaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNTJweDsgb3ZlcmZsb3c6IHNjcm9sbDsiPjwvZGl2PjwvYXNpZGU+PC9kaXY+Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5LiK5qCP5oyJ6ZKu5Yig6ZmkCiAgICAgICAgICAgICQoIi50b29sYmFyLW1lbnVzID4gbGkgPiBhOmNvbnRhaW5zKCfkuJPmoI/or77nqIsnKSIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAkKCIudG9vbGJhci1tZW51cyA+IGxpID4gYTpjb250YWlucygn5o+S5Lu2JykiKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgJCgiLnRvb2xiYXItbWVudXMgPiBsaSA+IGE6Y29udGFpbnMoJ+iupOivgScpIikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIOS/ruWkjeaXoOazlemAieaLqeWkjeWItgogICAgICAgICAgICAkKCJjb2RlIikuY3NzKCJ1c2VyLXNlbGVjdCIsImF1dG8iKTsKICAgICAgICAgICAgJCgiI2NvbnRlbnRfdmlld3MiKS5jc3MoInVzZXItc2VsZWN0IiwiYXV0byIpOwogICAgICAgICAgICAkKCJwcmUiKS5jc3MoInVzZXItc2VsZWN0IiwiYXV0byIpOzcKICAgICAgICAgICAgLy8g5Zu+54mH5re35paH5a2X5pe277yM5peg5rOV5a6M5pW05aSN5Yi277yM5Zu+54mH5LiN5Lya6KKr5aSN5Yi25LiL5p2lIGh0dHBzOi8vZ2l0aHViLmNvbS9hZGxlcmVkL0NTRE5HcmVlbmVyL2lzc3Vlcy84NwogICAgICAgICAgICAvL2xldCBlbCA9ICQoIm1haW4gLmJsb2ctY29udGVudC1ib3giKVswXTsKICAgICAgICAgICAgLy9sZXQgZWxDbG9uZSA9IGVsLmNsb25lTm9kZSh0cnVlKTsKICAgICAgICAgICAgLy9lbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbENsb25lLCBlbCk7CiAgICAgICAgICAgIC8vIOS/neWtmGNzZG7nmoTnvZHpobXlho3mrKHmiZPlvIDkvJroh6rliqjot7PovazliLDpppbpobUgaHR0cHM6Ly9naXRodWIuY29tL2FkbGVyZWQvQ1NETkdyZWVuZXIvaXNzdWVzLzk3CiAgICAgICAgICAgICQoIltvbmVycm9yXSIpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyBDU0RO6YeN5a6a5ZCR5aSW6ZO+5LiN6IO95Zyo5paw55qE56qX5Y+j6Lez6L2sIGh0dHBzOi8vZ2l0aHViLmNvbS9hZGxlcmVkL0NTRE5HcmVlbmVyL2lzc3Vlcy84MAogICAgICAgICAgICAkKCIjYXJ0aWNsZV9jb250ZW50IGFbaHJlZl0iKS5hdHRyKCJ0YXJnZXQiLCAiX2JsYW5rIik7CiAgICAgICAgICAgIC8vIOaQnOe0ouahhuS8mOWMlgogICAgICAgICAgICAvLyQoIiN0b29sYmFyLXNlYXJjaC1pbnB1dCIpLmNzcygid2lkdGgiLCAiY2FsYygxMDAlIC0gNDAwcHgpIik7CiAgICAgICAgICAgIC8vIOWPlua2iOS7o+eggeaKmOWPoAogICAgICAgICAgICAkKCIubG9vay1tb3JlLXByZUNvZGUiKS5jbGljaygpOwogICAgICAgICAgICAvLyDor6Lpl67mjqjojZDmmK/lkKbmnInmhI/kuYnnmoTpl67ljbfosIPmn6UKICAgICAgICAgICAgJCgiI3JlY29tbWVuZE5wcyIpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDnu7/ljJborr7nva4KICAgICAgICAgICAgY29tbW9uKDYsIDEpOwogICAgICAgICAgICAvLyDlsY/luZXpgILphY0KICAgICAgICAgICAgY29tbW9uKDQsIDEpOwogICAgICAgICAgICAvLyDor4TorroKICAgICAgICAgICAgY29tbW9uKDEsIDMwKTsKICAgICAgICAgICAgLy8g5YW25a6DCiAgICAgICAgICAgIGNvbW1vbigyLCAyMCk7CiAgICAgICAgICAgIC8vIOmhtumDqOaYvuekuuS9nOiAheS/oeaBrwogICAgICAgICAgICBjb21tb24oOCwgMSk7CiAgICAgICAgICAgIC8vIOWNmuWuouWPiuS4u+mhteS8mOWMlgogICAgICAgICAgICBjb21tb24oOSwgMTApOwogICAgICAgICAgICAvLyDlvqrnjq/nur/nqIvlvIDlp4sKICAgICAgICAgICAgbG9vcCgyKTsKICAgICAgICAgICAgbG9vcCgzKTsKICAgICAgICB9IGVsc2UgaWYgKGJicy50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIGwoIuato+WcqOS8mOWMluiuuuWdm+S9k+mqjC4uLiIpOwogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgLy8g6K+E6K665bWM5YWl5bCP5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnBvc3RfcmVjb21tZW5kIik7CiAgICAgICAgICAgIC8vIOW6lemDqOaOqOiNkAogICAgICAgICAgICBwdXQoIiNwb3N0X2ZlZWRfd3JhcCIpOwogICAgICAgICAgICAvLyDlupXpg6jnm7jlhbPmlofnq6Dph4zpnaLnmoTlub/lkYoKICAgICAgICAgICAgcHV0KCIuYmJzX2ZlZWRfYWRfYm94Iik7CiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1hZC1ib3giKTsKICAgICAgICAgICAgLy8g5bqV6YOo55u45YWz5paH5a2X6YeM6Z2i55qE54Ot6K+N5o+Q56S6CiAgICAgICAgICAgIHB1dCgiLnR5cGVfaG90X3dvcmQiKTsKICAgICAgICAgICAgLy8g5bqV6YOo6JOd6ImyZmxleOWxnuaAp+eahOW5v+WRiuagjyvnmbvlvZXms6jlhozmoYYKICAgICAgICAgICAgcHV0KCIucHVsbGxvZy1ib3giKTsKICAgICAgICAgICAgLy8g54yc5L2g5Zac5qyiCiAgICAgICAgICAgIHB1dCgiLnBlcnNvbmFsaXplZC1yZWNvbW1lbmQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPkeW4luWHj+WNiuaPkOekugogICAgICAgICAgICBwdXQoIi50b3Rhc3QtYm94Iik7CiAgICAgICAgICAgIC8vIOmhtumDqOW5v+WRigogICAgICAgICAgICBwdXQoIi5yZWNvbW1lbmQtcmlnaHQiKTsKICAgICAgICAgICAgLy8g6aG26YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmFkX3RvcCIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIuYWRfMSIpOwogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIC8vIOWxleW8gAogICAgICAgICAgICBjb21tb24oMywgNTApOwogICAgICAgICAgICAvLyBjb21tb24oNSwgMTApOwogICAgICAgICAgICBsb29wKDMpOwogICAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWQudGVzdChjdXJyZW50VVJMKSkgewogICAgICAgICAgICBsKCLmraPlnKjkvJjljJbkuIvovb3pobXkvZPpqowuLi4iKTsKICAgICAgICAgICAgLy8g5bi46KeECiAgICAgICAgICAgIHB1dCgiLmZpeGVkX2RsIik7CiAgICAgICAgICAgIHB1dCgiaW5kZXhTdXBlcmlzZSIpOwogICAgICAgICAgICAvLyDlj7PkvqfmjqjojZAKICAgICAgICAgICAgcHV0KCIuY29udGVudF9yZWNvbSIpOwogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIC8vIGNvbW1vbig1LCAxMCk7CiAgICAgICAgICAgIGxvb3AoMyk7CiAgICAgICAgfSBlbHNlIGlmIChsb2dpbi50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIGwoIuato+WcqOS8mOWMlueZu+W9lemhteS9k+mqjC4uLiIpOwogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgLy8g55m75b2V55WM6Z2i5aSn5Zu+5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLm1haW4tdHUiKTsKICAgICAgICAgICAgY2xlYW4oMTApOwogICAgICAgICAgICAvLyBjb21tb24oNSwgMTApOwogICAgICAgICAgICBsb29wKDMpOwogICAgICAgIH0gZWxzZSBpZiAoem9uZS50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIGwoIuato+WcqOS8mOWMluS4quS6uuepuumXtOS9k+mqjC4uLiIpOwogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgY2xlYW4oMTApOwogICAgICAgICAgICBjb21tb24oNywgMTApOwogICAgICAgICAgICAvLyBjb21tb24oNSwgMTApOwogICAgICAgICAgICBsb29wKDMpOwogICAgICAgIH0gZWxzZSBpZiAobGluay50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIC8vIOi3s+i/hyBDU0ROIOeahCBsaW5rIOmhtemdogogICAgICAgICAgICB2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikKICAgICAgICAgICAgdmFyIHRhcmdldCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd0YXJnZXQnKQogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRhcmdldAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGwoIuWTpuixge+8jOWlveWBj+mXqOeahOmhtemdou+8jOaIkeadpeivleedgOS8mOWMluS4gOS4i+WTpi4uLiIpOwogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgLy8g5bGV5byA5YWo5paHCiAgICAgICAgICAgICQoJy5yZWFkbW9yZV9idG4nKS5jbGljaygpOwogICAgICAgICAgICAvLyAqKiogaW5kZXggKioqCiAgICAgICAgICAgIC8vIOWktOmDqOW5v+WRigogICAgICAgICAgICBwdXQoIi5iYW5uZXItYWQtYm94Iik7CiAgICAgICAgICAgIC8vIOW1jOWFpeW5v+WRigogICAgICAgICAgICBwdXQoIiNrcF9ib3hfMjExIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5zbGlkZS1vdXRlciIpOwogICAgICAgICAgICAvLyDlj7Pkvqfor6bmg4UKICAgICAgICAgICAgcHV0KCIucGVyc2lvbl9hcnRpY2xlIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aOqOiNkAogICAgICAgICAgICAkKCIuZmVlZF9jb21wYW55IikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vICoqKiBhcnRpY2xlICoqKgogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGK77yM5pS+5Yiw56ys5LiA5Liq5riF6ZmkCiAgICAgICAgICAgIHB1dCgiI2FkZEFkQm94Iik7CiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC10b3AtYWRib3giKTsKICAgICAgICAgICAgLy8g5b+r5p2l5YaZ5Y2a5a6i5ZCnCiAgICAgICAgICAgIHB1dCgiLmJsb2dfdGlwX2JveCIpOwogICAgICAgICAgICAvLyDmjqjojZDlhbPms6jnlKjmiLcKICAgICAgICAgICAgcHV0KCIuYmxvZy1leHBlcnQtcmVjb21tZW5kLWJveCIpOwogICAgICAgICAgICAvLyDlj7PkuIvop5JWSVAKICAgICAgICAgICAgcHV0KCIubWVhdS1nb3RvcC1ib3giKTsKICAgICAgICAgICAgLy8g5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLm1lZGlhdl9hZCIpOwogICAgICAgICAgICBwdXQoIi5wdWxsbG9nLWJveCIpOwogICAgICAgICAgICBwdXQoIi5yZWNvbW1lbmQtYWQtYm94Iik7CiAgICAgICAgICAgIC8vcHV0KCIuYm94LXNoYWRvdyIpOyDmn5DkupvpobXpnaLlvILluLjvvIzkvovlpoJjbG91ZC5jc2RuLm5ldAogICAgICAgICAgICBwdXQoIi50eXBlX2hvdF93b3JkIik7CiAgICAgICAgICAgIHB1dCgiLmZvdXJ0aF9jb2x1bW4iKTsKICAgICAgICAgICAgLy8gY2xvdWQuY3Nkbi5uZXQg5aS06YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiI2twX2JveF8xMTgiKTsKICAgICAgICAgICAgLy8g5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiI2FzaWRlRm9vdGVyIik7CiAgICAgICAgICAgIHB1dCgiI2FkLWRpdiIpOwogICAgICAgICAgICBwdXQoIiM0NzkiKTsKICAgICAgICAgICAgcHV0KCIjNDgwIik7CiAgICAgICAgICAgIC8vIOaJk+i1jwogICAgICAgICAgICBwdXQoIi5wb3N0VGltZSIpOwogICAgICAgICAgICAvLyDor77nqIvmjqjojZAKICAgICAgICAgICAgcHV0KCIudDAiKTsKICAgICAgICAgICAgLy8g5YiG5Lqr5rW35oqlCiAgICAgICAgICAgIHB1dCgiLnNoYXJlU3VnZ2VzdCIpOwogICAgICAgICAgICAvLyDlupXpg6jkuLvpopgKICAgICAgICAgICAgcHV0KCIudGVtcGxhdGUtYm94Iik7CiAgICAgICAgICAgIC8vIOivhOiuuuWMuuW5v+WRigogICAgICAgICAgICBwdXQoImRpdiNkbXBfYWRfNTgiKTsKICAgICAgICAgICAgLy8g5omT6LWPCiAgICAgICAgICAgIHB1dCgiLnJld2FyZC11c2VyLWJveCIpOwogICAgICAgICAgICAvLyDlj7PkvqfmiZPotY/mjInpkq4KICAgICAgICAgICAgcHV0KCIudG8tcmV3YXJkIik7CiAgICAgICAgICAgIC8vIOaOqOiNkOWGheWuueW5v+WRigogICAgICAgICAgICBwdXQoIi5yZWNvbW1lbmQtcmVjb21tZW5kLWJveCIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIuaW5kZXhTdXBlcmlzZSIpOwogICAgICAgICAgICAvLyDmiqLmspnlj5Hop5LmoIcKICAgICAgICAgICAgcHV0KCIuY29tbWVudC1zb2ZhLWZsYWciKTsKICAgICAgICAgICAgLy8g6aG1amlvCiAgICAgICAgICAgIHB1dCgiLmJvdHRvbS1wdWItZm9vdGVyIik7CiAgICAgICAgICAgIC8vIOeZu+W9leafpeeci+acquivu+a2iOaBrwogICAgICAgICAgICBwdXQoIi50b29sYmFyLW5vdGljZS1idWJibGUiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC10b3AtYWRib3giKTsKICAgICAgICAgICAgLy8g5a2m6Zmi5by55Ye65bm/5ZGKCiAgICAgICAgICAgICQoIi5mb3VjZV9jbG9zZV9idG4iKS5jbGljaygpOwogICAgICAgICAgICAvLyDlhbblroMKICAgICAgICAgICAgLy8g5aS06YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmJhbm5lci1hZC1ib3giKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnNsaWRlLW91dGVyIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+ivpuaDhQogICAgICAgICAgICBwdXQoIi5wZXJzaW9uX2FydGljbGUiKTsKICAgICAgICAgICAgLy8g5bem5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiI2twX2JveF81MDMiKTsKICAgICAgICAgICAgcHV0KCIja3BfYm94XzIxNCIpOwogICAgICAgICAgICAvLyAqKiogYmJzICoqKgogICAgICAgICAgICAvLyDor4TorrrltYzlhaXlsI/lub/lkYoKICAgICAgICAgICAgcHV0KCIucG9zdF9yZWNvbW1lbmQiKTsKICAgICAgICAgICAgLy8g5bqV6YOo5o6o6I2QCiAgICAgICAgICAgIHB1dCgiI3Bvc3RfZmVlZF93cmFwIik7CiAgICAgICAgICAgIC8vIOW6lemDqOebuOWFs+aWh+eroOmHjOmdoueahOW5v+WRigogICAgICAgICAgICBwdXQoIi5iYnNfZmVlZF9hZF9ib3giKTsKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLWFkLWJveCIpOwogICAgICAgICAgICAvLyDlupXpg6jnm7jlhbPmloflrZfph4zpnaLnmoTng63or43mj5DnpLoKICAgICAgICAgICAgcHV0KCIudHlwZV9ob3Rfd29yZCIpOwogICAgICAgICAgICAvLyDlupXpg6jok53oibJmbGV45bGe5oCn55qE5bm/5ZGK5qCPK+eZu+W9leazqOWGjOahhgogICAgICAgICAgICBwdXQoIi5wdWxsbG9nLWJveCIpOwogICAgICAgICAgICAvLyDnjJzkvaDllpzmrKIKICAgICAgICAgICAgcHV0KCIucGVyc29uYWxpemVkLXJlY29tbWVuZC1ib3giKTsKICAgICAgICAgICAgLy8g5Y+R5biW5YeP5Y2K5o+Q56S6CiAgICAgICAgICAgIHB1dCgiLnRvdGFzdC1ib3giKTsKICAgICAgICAgICAgLy8g6aG26YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1yaWdodCIpOwogICAgICAgICAgICAvLyDpobbpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIuYWRfdG9wIik7CiAgICAgICAgICAgIC8vICoqKiBkb3dubG9hZCAqKioKICAgICAgICAgICAgcHV0KCIuZml4ZWRfZGwiKTsKICAgICAgICAgICAgcHV0KCJpbmRleFN1cGVyaXNlIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aOqOiNkAogICAgICAgICAgICBwdXQoIi5jb250ZW50X3JlY29tIik7CiAgICAgICAgICAgIGNsZWFuKDEwKTsKICAgICAgICB9CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcHJvZ3Jlc3Nvci5kb25lKCk7CiAgICAgICAgfSwgMCk7CiAgICAgICAgc3RvcFRpbWVNaWxsaSA9IERhdGUubm93KCk7CiAgICAgICAgbCgi5LyY5YyW5a6M5q+VISDogJfml7YgIiArIChzdG9wVGltZU1pbGxpIC0gc3RhcnRUaW1lTWlsbGkpICsgIm1zIik7CiAgICB9LCAwKTsKfSkoKTsKCmZ1bmN0aW9uIGwobG9nKSB7CmNvbnNvbGUubG9nKCJbQ1NETkdyZWVuZXJdICIgKyBsb2cpOwp9CgpmdW5jdGlvbiBlKGVycm9yKSB7CmNvbnNvbGUuZXJyb3IoIltDU0ROR3JlZW5lcl0gIiArIGVycm9yKTsKfQoKZnVuY3Rpb24gY2xlYXIoKSB7Cmxpc3QgPSBbXTsKfQoKZnVuY3Rpb24gcHV0KHRhZykgewpsaXN0LnB1c2godGFnKTsKfQoKZnVuY3Rpb24gY2xlYW4odGltZXMpIHsKdmFyIGxvb3AgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7Ci0tdGltZXM7CmlmICh0aW1lcyA8PSAwKSB7CmNsZWFySW50ZXJ2YWwobG9vcCk7Cn0KZm9yICh2YXIgayA9IDA7IGsgPCBsaXN0Lmxlbmd0aDsgaysrKSB7CiQobGlzdFtrXSkucmVtb3ZlKCk7Cn0KfSwgMTAwKTsKcHJvZ3Jlc3Nvci5pbmNQcm9ncmVzcygxMCk7Cn0KCnZhciBkZWxldGVkTG9naW4gPSBmYWxzZTsKCmZ1bmN0aW9uIGxvb3AobnVtKSB7CnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKaWYgKG51bSA9PT0gMSkgewovLyDkuLvpobXkuK3pl7TnmoTlub/lkYoKJCgiLkpfYWR2IikucmVtb3ZlKCk7Ci8vIOS4u+mhteacieaWsOeahOWGheWuueaoquadoQokKCIuZmVlZC1maXgtYm94IikucmVtb3ZlKCk7Ci8vIOS4u+mhteW5v+WRiiBpZnJhbWUKaWYgKGN1cnJlbnRVUkwgPT0gImh0dHBzOi8vd3d3LmNzZG4ubmV0LyIpIHsKJCgiaWZyYW1lIikucmVtb3ZlKCk7Cn0KLy8g5Yig6ZmkIENTRE4g5a6Y5pa55Zyo5Li76aG155qE5paH56ug77yI5aSn5aSa5piv5bm/5ZGK77yJCiQoImxpLmNsZWFyZml4IikuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlKSB7CnZhciBiYW5uZWQgPSAvY3NkbjxcL2E+LzsKdmFyIGFNYXJrID0gJChlbGUpLmZpbmQoIi5uYW1lIikuaHRtbCgpOwppZiAoYmFubmVkLnRlc3QoYU1hcmspKSB7CiQoZWxlKS5yZW1vdmUoKTsKfQp9KTsKLy8g5Li76aG15bm/5ZGKCiQoImxpIikuZWFjaChmdW5jdGlvbigpewpsZXQgc2VsZiA9ICQodGhpcyk7CmxldCBkYXRhVHlwZSA9IHNlbGYuYXR0cignZGF0YS10eXBlJyk7CmlmIChkYXRhVHlwZSA9PT0gJ2FkJykgewpzZWxmLnJlbW92ZSgpOwp9Cn0pOwovLyDkuLvpobXlub/lkYoKJCgibGkgPiBkaXYgPiBkaXYgPiBoMiA+IGFbaHJlZio9J2h0dHBzOi8vZWR1LmNzZG4ubmV0J10iKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTsKJCgibGkgPiBkaXYgPiBkaXYgPiBoMiA+IGFbaHJlZio9J2h0dHBzOi8vbWFya2V0aW5nLmNzZG4ubmV0J10iKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTsKLy8g5a6Y5pa56ISa5pys5qiq5bmFCiQoIi50b29sYmFyLWFkdmVydCIpLnJlbW92ZSgpOwp9IGVsc2UgaWYgKG51bSA9PT0gMikgewovLyDor4Torrrmn6XnnIvmm7TlpJrlsZXlvIDnm5HlkKwKJCgiZGl2LmNvbW1lbnQtbGlzdC1ib3giKS5jc3MoIm1heC1oZWlnaHQiLCAibm9uZSIpOwovLyDlsY/olL3mgqjnmoTnvKnmlL7kuI3mmK8xMDAl55qE5o+Q56S6CiQoJy5sZWZ0UG9wJykucmVtb3ZlKCk7Ci8vIOWumOaWueiEmuacrOaoquW5hQokKCIudG9vbGJhci1hZHZlcnQiKS5yZW1vdmUoKTsKfSBlbHNlIGlmIChudW0gPT0gMykgewovLyDlvqrnjq/liKDpmaTnmbvlvZXmj5DnpLrmoYYKaWYgKCQoJCgiLnBhc3Nwb3J0LWxvZ2luLWNvbnRhaW5lciIpWzBdKS5sZW5ndGggPT0gMSAmJiBkZWxldGVkTG9naW4gPT0gZmFsc2UpIHsKbGV0IHBhc3NJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewokKCcucGFzc3BvcnQtbG9naW4tY29udGFpbmVyJykuaGlkZSgpOwpjb25zb2xlLmxvZygiaGlkZSIpOwp9LCAxMCk7CnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CmNsZWFySW50ZXJ2YWwocGFzc0ludGVydmFsKTsKc2V0VGltZW91dChmdW5jdGlvbigpIHsKJCgiI3Bhc3Nwb3J0Ym94IikuZmluZCgic3BhbiIpLmNsaWNrKCk7Cn0sIDUwMCkKfSwgNTAwMCk7CmRlbGV0ZWRMb2dpbiA9IHRydWU7Cn0KLy8g57qi5YyF6ZuoCiQoIiNjc2RuLXJlZHBhY2siKS5yZW1vdmUoKTsKfQp9LCA1MDApOwp9CgpmdW5jdGlvbiBjb21tb24obnVtLCB0aW1lcykgewp2YXIgbG9vcCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKLS10aW1lczsKaWYgKHRpbWVzIDw9IDApIHsKY2xlYXJJbnRlcnZhbChsb29wKTsKfQppZiAobnVtID09PSAxKSB7Ci8vIOafpeeci+abtOWkmgokKCIuYnRuLXJlYWRtb3JlIikucmVtb3ZlQ2xhc3MoIm5vLWxvZ2luIik7CiQoIi5idG4tcmVhZG1vcmUiKS5hZGRDbGFzcygiZmFucy1yZWFkLW1vcmUiKTsKJCgiLmJ0bi1yZWFkbW9yZSIpLnJlbW92ZUF0dHIoImhyZWYiKTsKJCgiLmJ0bi1yZWFkbW9yZSIpLnJlbW92ZUF0dHIoInRhcmdldCIpOwokKCIuYnRuLXJlYWRtb3JlIikucmVtb3ZlQXR0cigicmVsIik7CiQoIi5idG4tcmVhZG1vcmUiKS5jbGljaygpOwovLyDlt7LnmbvlvZXnlKjmiLflsZXlvIDor4TorroKdHJ5IHsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0bk1vcmVDb21tZW50IikuY2xpY2soKTsKfSBjYXRjaCAoZSkge30KLy8g5Yig6Zmk5p+l55yL5pu05aSa5oyJ6ZKuCiQoIiNidG5Nb3JlQ29tbWVudCIpLnBhcmVudCgiZGl2Lm9wdC1ib3giKS5yZW1vdmUoKTsKLy8g5bGV5byA5YaF5a65CiQoImRpdi5jb21tZW50LWxpc3QtYm94IikuY3NzKCJtYXgtaGVpZ2h0IiwgIm5vbmUiKTsKLy8g5pS55Zue6IOM5pmv6aKc6ImyCiQoIi5sb2dpbi1tYXJrIikucmVtb3ZlKCk7Ci8vIOWIoOmZpOeZu+W9leahhgokKCIubG9naW4tYm94IikucmVtb3ZlKCk7Cn0gZWxzZSBpZiAobnVtID09PSAyKSB7Ci8vIOaMoeS9j+ivhOiuuueahOKAnOWHuuWktOaOqOiNkOKAnQppZiAoJCgiLnJlY29tbWVuZC1ib3giKS5sZW5ndGggPiAxKSB7CiQoIi5yZWNvbW1lbmQtYm94IilbMF0ucmVtb3ZlKCk7Cn0KLy8g5Y676Zmk5o6o5bm/5bm/5ZGKCiQoImxpW2RhdGEtdHlwZT0nYWQnXSIpLnJlbW92ZSgpOwovLyDlhY3nmbvlvZXlpI3liLYKJCgiLmhsanMtYnV0dG9uIikucmVtb3ZlQ2xhc3MoInNpZ25pbiIpOwokKCIuaGxqcy1idXR0b24iKS5hZGRDbGFzcygiezJ9Iik7CiQoIi5obGpzLWJ1dHRvbiIpLmF0dHIoImRhdGEtdGl0bGUiLCAi5YWN55m75b2V5aSN5Yi2Iik7CiQoIi5obGpzLWJ1dHRvbiIpLmF0dHIoIm9uY2xpY2siLCAiaGxqcy5jb3B5Q29kZShldmVudCk7c2V0VGltZW91dChmdW5jdGlvbigpeyQoJy5obGpzLWJ1dHRvbicpLmF0dHIoJ2RhdGEtdGl0bGUnLCAn5YWN55m75b2V5aSN5Yi2Jyk7fSwzNTAwKTsiKTsKJCgiI2NvbnRlbnRfdmlld3MiKS51bmJpbmQoImNvcHkiKTsKLy8g5Y676Zmk5Ymq6LS05p2/5Yqr5oyBCiQoImNvZGUiKS5hdHRyKCJvbmNsaWNrIiwgIm1kY3AuY29weUNvZGUoZXZlbnQpIik7CnRyeSB7Ci8vIOWkjeWItuaXtuS/neeVmeWOn+aWh+agvOW8j++8jOWPguiAgyBodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL3NjcmlwdHMvMzkwNTAyLWNzZG5yZW1vdmVjb3B5cmlnaHQvY29kZQpPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAiYXJ0aWNsZVR5cGUiLCB7CnZhbHVlOiAwLAp3cml0YWJsZTogZmFsc2UsCmNvbmZpZ3VyYWJsZTogZmFsc2UKfSk7Cn0gY2F0Y2ggKGVycikgewp9CmNzZG4uY29weXJpZ2h0LmluaXQoIiIsICIiLCAiIik7Ci8vIOmhteWktOW5v+WRigp0cnkgewpkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJjb2x1bW4tYWR2ZXJ0LWJveCIpWzBdLnN0eWxlLmRpc3BsYXk9Im5vbmUiOwp9IGNhdGNoIChlKSB7fQovLyDoh6rliqjmo4DmtYvmmK/lkKbmnInnm67lvZXvvIzlpoLmnpzmsqHmnInliJnliKDpmaTlj7PovrnmoI/vvIzmlofnq6DlsYXkuK0KaWYgKCQoIi5yZWNvbW1lbmQtcmlnaHRfYXNpZGUiKS5odG1sKCkgJiYgJCgiLnJlY29tbWVuZC1yaWdodF9hc2lkZSIpLmh0bWwoKS5yZXBsYWNlKC9bXHJcbl0vZywgIiIpLnJlcGxhY2UoLyhccykvZywgIiIpID09PSAiIikgewokKCIjcmlnaHRBc2lkZSIpLnJlbW92ZSgpOwp9IGVsc2UgaWYgKCQoIi5yZWNvbW1lbmQtcmlnaHRfYXNpZGUiKS5odG1sKCkgJiYgJCgiI3JlY29tbWVuZC1yaWdodCIpLmh0bWwoKS5yZXBsYWNlKC9bXHJcbl0vZywgIiIpLnJlcGxhY2UoLyhccykvZywgIiIpID09PSAiIikgewokKCIjcmlnaHRBc2lkZSIpLnJlbW92ZSgpOwp9Ci8vIOeZu+W9leaMiemSruaWh+Wtl+WkquWkmu+8jOS/ruaUuQokKCJhIikuZWFjaChmdW5jdGlvbigpIHsKaWYgKCQodGhpcykuYXR0cignaHJlZicpID09PSAnaHR0cHM6Ly9wYXNzcG9ydC5jc2RuLm5ldC9hY2NvdW50L2xvZ2luJykgewokKHRoaXMpLmh0bWwoJ+eZu+WFpScpOwp9Cn0pOwovLyDpobbmoI/lub/lkYoKJCgibGkiKS5lYWNoKGZ1bmN0aW9uKCl7CmxldCBzZWxmID0gJCh0aGlzKTsKbGV0IGRhdGFUeXBlID0gc2VsZi5hdHRyKCdkYXRhLXN1Yi1tZW51LXR5cGUnKTsKaWYgKGRhdGFUeXBlID09PSAndmlwJykgewpzZWxmLnJlbW92ZSgpOwp9CmxldCBkYXRhVGl0bGUgPSBzZWxmLmF0dHIoJ3RpdGxlJyk7CmlmIChkYXRhVGl0bGUgPT09ICfpq5jku7flgLzmupDnoIHor77nqIvliIbkuqsnIHx8IGRhdGFUaXRsZSA9PT0gJ+ezu+e7n+WtpuS5oMK36Zeu562Uwrfmr5TotZsnIHx8IGRhdGFUaXRsZSA9PT0gJ+eugOWNlemrmOaViOS8mOaDoOeahOS6keacjeWKoScpIHsKc2VsZi5yZW1vdmUoKTsKfQp9KTsKLy8g6aG25qCPVklQ6YCJ6aG5CiQoJy50b29sYmFyLXN1Yk1lbnUtYm94JykuZmluZCgiW2hyZWY9J2h0dHBzOi8vbWFsbC5jc2RuLm5ldC92aXAnXSIpLnBhcmVudCgpLnJlbW92ZSgpOwp9IGVsc2UgaWYgKG51bSA9PSAzKSB7Ci8v6K665Z2b6Ieq5Yqo5bGV5byACiQoIi5qc19zaG93X3RvcGljIikuY2xpY2soKTsKfSBlbHNlIGlmIChudW0gPT0gNCkgewovKiog6YWN572u5o6n5Yi2ICoqLwpsZXQgY29uZmlnID0gbmV3IENvbmZpZygpOwpsZXQgc21Db29raWUgPSBjb25maWcuZ2V0KCJzY3Itc20iLCB0cnVlKTsKbGV0IG1kQ29va2llID0gY29uZmlnLmdldCgic2NyLW1kIiwgZmFsc2UpOwpsZXQgbGdDb29raWUgPSBjb25maWcuZ2V0KCJzY3ItbGciLCBmYWxzZSk7CmxldCBmb0Nvb2tpZSA9IGNvbmZpZy5nZXQoInNjci1mbyIsIGZhbHNlKQoKICAgICAgICAgICAgJCgiI3Njci1zbSIpLnByb3AoImNoZWNrZWQiLCBzbUNvb2tpZSk7CiAgICAgICAgICAgICQoIiNzY3ItbWQiKS5wcm9wKCJjaGVja2VkIiwgbWRDb29raWUpOwogICAgICAgICAgICAkKCIjc2NyLWxnIikucHJvcCgiY2hlY2tlZCIsIGxnQ29va2llKTsKICAgICAgICAgICAgJCgiI3Njci1mbyIpLnByb3AoImNoZWNrZWQiLCBmb0Nvb2tpZSk7CgogICAgICAgICAgICBpZiAoc21Db29raWUpIHsKICAgICAgICAgICAgICAgIC8vIFNtYWxsIFNjcmVlbiBNb2RlCiAgICAgICAgICAgICAgICAkKCIubWFpbl9mYXRoZXIiKS5yZW1vdmVDbGFzcygianVzdGlmeS1jb250ZW50LWNlbnRlciIpOwogICAgICAgICAgICAgICAgR01fYWRkU3R5bGUoYAogICAgICAgICAgICAgICAgbWFpbnsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogYXV0byFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IG5vbmUhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogOTB2dzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG1haW4gYXJ0aWNsZSBpbWd7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYCk7CiAgICAgICAgICAgICAgICAkKCIjbWFpbkJveCIpLmNzcygid2lkdGgiLCAiMTAwJSIpOwogICAgICAgICAgICB9IGVsc2UgaWYgKG1kQ29va2llKSB7CiAgICAgICAgICAgICAgICAvLyBNaWRkbGUgU2NyZWVuIE1vZGUKICAgICAgICAgICAgICAgICQoIi5tYWluX2ZhdGhlciIpLnJlbW92ZUNsYXNzKCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobGdDb29raWUpIHsKICAgICAgICAgICAgICAgIC8vIExhcmdlIFNjcmVlbiBNb2RlCiAgICAgICAgICAgICAgICAkKCIuY29udGFpbmVyIikuY3NzKCJtYXJnaW4iLCAiMCBhdXRvIikKICAgICAgICAgICAgfSBlbHNlIGlmIChmb0Nvb2tpZSkgewogICAgICAgICAgICAgICAgLy8gRm9jdXMgbW9kZQogICAgICAgICAgICAgICAgJCgiLnJlY29tbWVuZC1yaWdodCIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgJCgiLmNvbnRhaW5lciIpLmNzcygid2lkdGgiLCAiMTAwJSIpOwogICAgICAgICAgICAgICAgJCgiLmNvbnRhaW5lciA+IG1haW4iKS5jc3MoIndpZHRoIiwgIjEwMCUiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g5bGP5bmV5bC65a+45Y2V6YCJ55uR5ZCsCiAgICAgICAgICAgICQoIiNzY3Itc20iKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3Itc20iLCB0cnVlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1tZCIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1sZyIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1mbyIsIGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIiNzY3ItbWQiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItbWQiLCB0cnVlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1zbSIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1sZyIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1mbyIsIGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIiNzY3ItbGciKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItbGciLCB0cnVlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1zbSIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1tZCIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1mbyIsIGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIiNzY3ItZm8iKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItZm8iLCB0cnVlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1zbSIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1tZCIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoInNjci1sZyIsIGZhbHNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuS4uueZu+W9leeKtuaAgQogICAgICAgICAgICAkKCJhIikuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2hyZWYnKSA9PT0gJ2h0dHBzOi8vcGFzc3BvcnQuY3Nkbi5uZXQvYWNjb3VudC9sb2dpbicpIHsKICAgICAgICAgICAgICAgICAgICAvLyDmnKrnmbvlvZXliKDpmaTml6DnlKjmjInpkq4KICAgICAgICAgICAgICAgICAgICAkKCJhOmNvbnRhaW5zKCfkvJrlkZjkuK3lv4MnKSIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICQoImE6Y29udGFpbnMoJ+aUtuiXjycpIikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgiYTpjb250YWlucygn5Yqo5oCBJykiKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAkKCJhOmNvbnRhaW5zKCfliJvkvZwnKSIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWJ0bi1jb2xsZWN0IikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgiLmJ0bi13cml0ZS1uZXciKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChudW0gPT0gNSkgewogICAgICAgICAgICAvLyDmlLnlm57og4zmma/popzoibIKICAgICAgICAgICAgJCgiLmxvZ2luLW1hcmsiKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5Yig6Zmk55m75b2V5qGGCiAgICAgICAgICAgICQoIi5sb2dpbi1ib3giKS5yZW1vdmUoKTsKICAgICAgICB9IGVsc2UgaWYgKG51bSA9PSA2KSB7CiAgICAgICAgICAgIGxldCBkaWQgPSBmYWxzZTsKICAgICAgICAgICAgbGV0IGNvbmZpZ0hUTUwgPSAnJzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGRpdiBjbGFzcz0iY29uZmlnQ29udGFpbmVyIj48cD48YSBjbGFzcz0idGl0bGUiIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9hZGxlcmVkL0NTRE5HcmVlbmVyIiB0YXJnZXQ9Il9ibGFuayI+Q1NETkdyZWVuZXI8L2E+IDxzdXA+VicgKyB2ZXJzaW9uICsgJyAnICsgc2V0dGluZ3Nfc3ZnICsgJzwvc3VwPjwvcD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8cD48YSBocmVmPSIvL3NoYW5nLnFxLmNvbS93cGEvcXVud3BhP2lka2V5PWQ3YWQ2ZWFkM2Y1NzcyMmU3ZjAwYTQyODFhZTc1ZGJhYzIxMzJjNWE4Y2YzMjE5OTJkNTczMDkwMzdmY2FmNjMiIHRhcmdldD0iX2JsYW5rIj7lrpjmlrkgUVEg5Lqk5rWB576k77yaMTA0MjM3MDQ1MzwvYT48L3A+PGJyPic7CgogICAgICAgICAgICAvLyDorr7lrprvvJrmjqjojZDlhoXlrrnmjInpkq4KICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPHAgY2xhc3M9ImJvbGQiPuagueaNruWxj+W5leWwuuWvuO+8jOmAgumFjeeJiOW8jzwvcD48cD7lu7rorq7pgJDkuKrlsJ3or5XlkI7pgInmi6npgILlkIjkvaDnmoTniYjlvI/vvIzlsY/luZXov4flsI/miJbogIXniYjlvI/pgInmi6nkuI3mraPnoa7lj7PkvqfmoI/lj6/og73msqHmnInnqbrpl7TmmL7npLrvvIzlr7zoh7TkvqfmoI/lrprliLbml6DmlYjvvIjor7flsJ3or5XosIPoioLmtY/op4jlmajnvKnmlL7vvIzlv6vmjbfplK4gQ3RybCvpvKDmoIfmu5rova7vvInjgII8L3A+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGxhYmVsPjxpbnB1dCBuYW1lPSJkaXNwbGF5TW9kZSIgdHlwZT0icmFkaW8iIHZhbHVlPSIiIGlkPSJzY3Itc20iIC8+IOW5s+mTuuaooeW8jyjkvJjljJbniYgpIDwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGxhYmVsPjxpbnB1dCBuYW1lPSJkaXNwbGF5TW9kZSIgdHlwZT0icmFkaW8iIHZhbHVlPSIiIGlkPSJzY3ItbWQiIC8+IOmAguW6lOaooeW8jyA8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxsYWJlbD48aW5wdXQgbmFtZT0iZGlzcGxheU1vZGUiIHR5cGU9InJhZGlvIiB2YWx1ZT0iIiBpZD0ic2NyLWxnIiAvPiDlsYXkuK3mqKHlvI8gPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8bGFiZWw+PGlucHV0IG5hbWU9ImRpc3BsYXlNb2RlIiB0eXBlPSJyYWRpbyIgdmFsdWU9IiIgaWQ9InNjci1mbyIgLz4g5rKJ5rW45qih5byPKOaXoOS+p+agjyk8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxociBzdHlsZT0iaGVpZ2h0OjFweDtib3JkZXI6bm9uZTtib3JkZXItdG9wOjFweCBzb2xpZCAjY2NjY2NjO21hcmdpbjogNXB4IDBweCA1cHggMHB4OyIgLz4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8cCBjbGFzcz0iYm9sZCI+6YCa55So6K6+5a6aPC9wPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxwPuiHquWumuS5ieiDjOaZr+Wbvu+8miA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImJhY2tncm91bmRJbWdVcmwiIHBsYWNlaG9sZGVyPSLlm77niYfmiYDlnKjnvZHlnYDmiJZCYXNlNjQiIHN0eWxlPSJib3JkZXItcmFkaXVzOiAycHg7Ym9yZGVyOiAxcHggc29saWQgI2YwZjBmMDtwYWRkaW5nOjVweDt3aWR0aDoxMDAlO21hcmdpbi1ib3R0b206NXB4OyI+IDxpbnB1dCBzdHlsZT0ibWFyZ2luLWJvdHRvbTo1cHg7IiBhY2NlcHQ9ImltYWdlLyoiIGlkPSJ1cGxvYWRfYmciIHR5cGU9ImZpbGUiPjwvcD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtcmVjb21tZW5kLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1yZWNvbW1lbmQtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrmjqjojZDlhoXlrrk8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtc2hvcC1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtc2hvcC1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuWwj+W6lzwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS13aGl0ZXRoZW1lLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS13aGl0ZXRoZW1lLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+55m96Imy5Li76aKYJkRhcmsgUmVhZGVy5YW85a655qih5byPPGJyPjxzcGFuIHN0eWxlPSJjb2xvcjogIzgwODA4MDsiPiMg6YCJ6aG55L2c55So77ya5byA5ZCv5ZCO5Y+v6YCa6L+HRGFyayBSZWFkZXLmj5Lku7bngbXmtLvmjqfliLbnmb3oibLkuI7pu5HmmpfmqKHlvI/vvIw8YSBzdHlsZT0iY29sb3I6IGdyZWVuOyIgaHJlZj0iaHR0cHM6Ly9jaHJvbWUuenp6bWguY24vaW5mbz90b2tlbj1laW1hZHBiY2Jmbm1ia29wb29qZmVraG5raGRiaWVlaCIgdGFyZ2V0PSJfYmxhbmsiPuaPkuS7tuS4i+i9veWcsOWdgOeCueaIkTwvYT48L3NwYW4+PC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWF1dG9zaXplLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1hdXRvc2l6ZS1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuWuveW6puiHquWKqOmAguW6lDxicj48c3BhbiBzdHlsZT0iY29sb3I6ICM4MDgwODA7Ij4jIOmAiemhueS9nOeUqO+8muW8gOWQr+atpOmAiemhueWPr+S7peWcqOmhtemdouWuveW6pue8qeWwj+aXtuiHquWKqOWIh+aNouiHs+Wwj+Wxj+aooeW8jzwvc3Bhbj48L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYXV0b2hpZGV0b29sYmFyLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1hdXRvaGlkZXRvb2xiYXItYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7lkJHkuIvmu5rliqjoh6rliqjpmpDol4/pobbmoI88L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYXV0b2hpZGVib3R0b21iYXItYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWF1dG9oaWRlYm90dG9tYmFyLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5aeL57uI6ZqQ6JeP5bqV5qCPPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLXdyaXRlYmxvZy1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtd3JpdGVibG9nLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65Yib5L2c5Lit5b+D5oyJ6ZKuPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGhyIHN0eWxlPSJoZWlnaHQ6MXB4O2JvcmRlcjpub25lO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2NjY2M7bWFyZ2luOiA1cHggMHB4IDVweCAwcHg7IiAvPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxwIGNsYXNzPSJib2xkIj48Yj7lj7PkvqfmoI/lrprliLY8L2I+PC9wPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1hZC1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtYWQtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrmnaXoh6rohJrmnKznmoTlsI/lub/lkYo8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYXV0aG9yY2FyZC1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtYXV0aG9yY2FyZC1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuS9nOiAheWQjeeJhzwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1zZWFyY2hibG9nLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1zZWFyY2hibG9nLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65pCc5Y2a5Li75paH56ugPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLW5ld2FydGljbGUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLW5ld2FydGljbGUtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrmnIDmlrDmlofnq6A8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtaG90YXJ0aWNsZS1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtaG90YXJ0aWNsZS1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuueDremXqOaWh+eroDwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1uZXdjb21tZW50cy1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtbmV3Y29tbWVudHMtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrmnIDmlrDor4Torro8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUta2luZHBlcnNvbi1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUta2luZHBlcnNvbi1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuWIhuexu+S4k+agjzwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1yZWNvbW1lbmRhcnRpY2xlLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1yZWNvbW1lbmRhcnRpY2xlLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65o6o6I2Q5paH56ugPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWFyY2hpdmUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWFyY2hpdmUtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrlvZLmoaM8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtY29udGVudC1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtY29udGVudC1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuebruW9lTwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPjxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8ZGl2PjxoNj7opoHkuI3opoHmnaXnnIvnnIsgOik8L2g2PjxwPu+8iOS9nOiAheacrOS6uuW7uuiuvueahOekvuWMuu+9njwvcD48cD7npL7ljLrkuK3ogZrpm4bkuoblkIzooYzkuJrnmoTlpKfkvazlsI/nmb3vvIzmrKLov47lsI/kvJnkvLTku6zkuIDotbfmkbjpsbzvvIE8L3A+PGEgaHJlZj0iaHR0cHM6Ly9maXNocGkuY24iIHRhcmdldD0iX2JsYW5rIj48aW1nIHNyYz0iaHR0cHM6Ly9zMi5sb2xpLm5ldC8yMDIyLzAxLzA1LzFIcEJaVXJhTWNSOGlzdC5wbmciIHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlOyIvPjwvYT48L2Rpdj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vYWRsZXJlZC9DU0ROR3JlZW5lciIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJnaXZlTWVPbmVTdGFyIj4nICsgc3Rhcl9zdmcgKyAnIDxiPueCueaIkX48L2I+IOWKqOWKqOWwj+aJi+WcqCBHaXRIdWIg54K55LiqIFN0YXIg5ZKM5YWz5rOo77yM5pSv5oyB5oiR57un57ut57u05oqk6ISa5pysIDopPC9hPjxicj48YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPHA+54m55Yir5o+Q56S677yaQ1NETkdyZWVuZXIg6ISa5pys5LiN5o+Q5L6b5Lu75L2V5Lya5ZGY5paH56ug56C06Kej44CB5Lya5ZGY6LWE5rqQ5LiL6L295Yqf6IO977yM5LuF6YCC55So5LqO5YmN56uv5LyY5YyW77yM6K+35ZyoQ1NETuWumOaWuea4oOmBk+i0reS5sENTRE7kvJrlkZjkvZPpqozku5jotLnlip/og73jgII8L3A+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGhyIHN0eWxlPSJoZWlnaHQ6MXB4O2JvcmRlcjpub25lO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2NjY2M7bWFyZ2luOiA1cHggMHB4IDVweCAwcHg7IiAvPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwoKICAgICAgICAgICAgLy8gY29uZmlnSFRNTCArPSAnPGEgaHJlZj0iaHR0cHM6Ly9kb2Muc3RhY2tvdmVyZmxvdy53aWtpL3dlYi8jLzIxP3BhZ2VfaWQ9MTM4IiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9Im1hcmdpbi10b3A6IDVweDsgZGlzcGxheTogYmxvY2s7Ij4nICsgZG9uYXRlX3N2ZyArICcg5oiR5piv6ICB5p2/77yM5oqV5biB5omT6LWPPC9hPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzwvZGl2PjwvZGl2PjxkaXYgaWQ9ImZhZGUiIGNsYXNzPSJibGFja19vdmVybGF5Ij48L2Rpdj4nOwogICAgICAgICAgICBsZXQgc2F2ZUJ1dHRvbiA9ICc8YnV0dG9uIGNsYXNzPSJzYXZlQnV0dG9uIiBzdHlsZT0icG9zaXRpb246IHN0aWNreTt0b3A6IDVweDtsZWZ0OiBjYWxjKDEwMCUgLSA4MHB4KTsiIG9uY2xpY2s9InNhdmVBbmRSZWxvYWQoKTsiPicgKyBzYXZlX3N2ZyArICcg5bqU55SoPC9idXR0b24+JzsKICAgICAgICAgICAgLy8g57u/5YyW5Zmo6K6+5a6aCiAgICAgICAgICAgICQoImJvZHkiKS5hZnRlcignPGRpdiBpZD0iY29uZmlnQ29udGVudCIgY2xhc3M9IndoaXRlX2NvbnRlbnQiPicgKyBzYXZlQnV0dG9uICsgY29uZmlnSFRNTCk7CgogICAgICAgICAgICAvKiog6YWN572u5o6n5Yi2ICoqLwogICAgICAgICAgICAvLyDmjqjojZDlhoXlrrkKICAgICAgICAgICAgJCgiLmJsb2ctY29udGVudC1ib3giKS5hcHBlbmQoIjxicj48ZGl2IGNsYXNzPSdibG9nLWNvbnRlbnQtYm94JyBpZD0ncmVjb21tZW5kU3dpdGNoJyBzdHlsZT0ndGV4dC1hbGlnbjogcmlnaHQ7Jz48L2Rpdj4iKTsKICAgICAgICAgICAgJCgiI3JlY29tbWVuZFN3aXRjaDpsYXN0IikuYXBwZW5kKCc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWJ1dHRvbiIgY2xhc3M9ImJ1dHRvbi1sYWJlbCI+IDxzcGFuIGNsYXNzPSJjaXJjbGUiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9InRleHQgb24iPiZuYnNwOzwvc3Bhbj4gPHNwYW4gY2xhc3M9InRleHQgb2ZmIj4mbmJzcDs8L3NwYW4+IDwvbGFiZWw+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHAgc3R5bGU9Im1hcmdpbi10b3A6IDVweDsgZm9udC1zaXplOiAxM3B4OyI+5pi+56S65o6o6I2Q5YaF5a65PC9wPicpOwogICAgICAgICAgICBsZXQgcmVjb21tZW5kQ29va2llID0gY29uZmlnLmdldCgicmVjb21tZW5kIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAoIXJlY29tbWVuZENvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiLnJlY29tbWVuZC1ib3giKS5oaWRlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJlY29tbWVuZENvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1yZWNvbW1lbmQtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXJlY29tbWVuZC1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtcmVjb21tZW5kLWJ1dHRvbiIsICJyZWNvbW1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7JCgiLnJlY29tbWVuZC1ib3giKS5zbGlkZURvd24oMjAwKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7JCgiLnJlY29tbWVuZC1ib3giKS5zbGlkZVVwKDIwMCk7fSk7CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b25BbmRBY3Rpb24oIiN0b2dnbGUtYnV0dG9uIiwgInJlY29tbWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7JCgiLnJlY29tbWVuZC1ib3giKS5zbGlkZURvd24oMjAwKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7JCgiLnJlY29tbWVuZC1ib3giKS5zbGlkZVVwKDIwMCk7fSk7CgogICAgICAgICAgICAvLyDmmL7npLrlsI/lupcKICAgICAgICAgICAgbGV0IHNob3BDb29raWUgPSBjb25maWcuZ2V0KCdzaG9wJyxmYWxzZSk7CiAgICAgICAgICAgIGlmKCFzaG9wQ29va2llKXsKICAgICAgICAgICAgICAgICQoIiNjc2RuLXNob3Atd2luZG93IikuaGlkZSgpOwogICAgICAgICAgICAgICAgJCgiI2NzZG4tc2hvcC13aW5kb3ctdG9wIikuaGlkZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzaG9wQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXNob3AtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1zaG9wLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1zaG9wLWJ1dHRvbiIsICJzaG9wIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwogICAgICAgICAgICAvLyDkvqfmoI/lsI/lub/lkYoKICAgICAgICAgICAgbGV0IGFkQ29va2llID0gY29uZmlnLmdldCgiYWQiLCB0cnVlKTsKICAgICAgICAgICAgaWYgKGFkQ29va2llKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIC8vICQoIiNyZWNvbW1lbmQtcmlnaHQiKS5hcHBlbmQoJzxkaXYgaWQ9ImFzaWRlQXJjaGl2ZSIgY2xhc3M9ImFzaWRlLWJveCIgc3R5bGU9Im1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7Ij48aDMgY2xhc3M9ImFzaWRlLXRpdGxlIj7mnaXoh6ogQ1NETiDohJrmnKznmoTlsI/lub/lkYo8L2gzPjxkaXYgY2xhc3M9ImFzaWRlLWNvbnRlbnQiPjx1bCBjbGFzcz0iaW5mX2xpc3QgY2xlYXJmaXgiPjxsaSBjbGFzcz0iY2xlYXJmaXgiPjxiPuaCqOWPr+WcqCA8YSBvbmNsaWNrPSJzaG93Q29uZmlnKCkiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij7ohJrmnKzorr7nva48L2E+IOS4reawuOS5heWFs+mXreWwj+W5v+WRijxicj7mhJ/osKLmgqjnmoTmlK/mjIEg4p2k77iPPC9iPjxicj48cCBzdHlsZT0iZm9udC1zaXplOiA0cHg7bWFyZ2luLXRvcDogMTBweDsiPjxiPjI55YWD5q+P5pyI77yBPC9iPkNUR05ldCBHSUEg5Zue56iL5LqU572R6auY56uvQ04yIEdJQS9HVOe9kee7nO+8jOaUr+aMgVZQQ+mrmOe6p+e9kee7nDxicj7mi5Lnu53nu5Xot6/vvIzmi5Lnu53kuI3nqLPlrprvvIzliqnlipvkvIHkuJrmi5PlsZXlhajnkIPkuJrliqE8YnI+5a6J5YWo77yM56iz5a6a77yM6auY5oCn6IO9PC9wPjwvbGk+PGxpIGNsYXNzPSJjbGVhcmZpeCI+PGEgaHJlZj0iaHR0cHM6Ly93d3cudHN5dnBzLmNvbS9hZmYvSEVIVFBHWUwiIHRhcmdldD0iX2JsYW5rIj48aW1nIHNyYz0iaHR0cHM6Ly93d3cudHN5dnBzLmNvbS9pbWcvZ2cucG5nIiBzdHlsZT0id2lkdGg6IDI2NXB4O2hlaWdodDoxNDlweCI+PC9hPjwvbGk+PC91bD48L2Rpdj48L2Rpdj4nKTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGFkQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWFkLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYWQtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWFkLWJ1dHRvbiIsICJhZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CiAgICAgICAgICAgIC8vIOaYvuekuuS9nOiAheWQjeeJhwogICAgICAgICAgICBsZXQgYXV0aG9yQ2FyZENvb2tpZSA9IGNvbmZpZy5nZXQoImF1dGhvckNhcmQiLCB0cnVlKTsKICAgICAgICAgICAgaWYgKGF1dGhvckNhcmRDb29raWUpIHsKICAgICAgICAgICAgICAgIC8vIOWNmuS4u+S/oeaBrwogICAgICAgICAgICAgICAgJCgnI3JlY29tbWVuZC1yaWdodCcpLmFwcGVuZCgkKCcjYXNpZGVQcm9maWxlJykucHJvcCgib3V0ZXJIVE1MIikpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVQcm9maWxlJykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7Iik7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhdXRob3JDYXJkQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWF1dGhvcmNhcmQtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hdXRob3JjYXJkLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1hdXRob3JjYXJkLWJ1dHRvbiIsICJhdXRob3JDYXJkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOW8uuWItueZveiJsuS4u+mimAogICAgICAgICAgICBsZXQgd2hpdGVUaGVtZUNvb2tpZSA9IGNvbmZpZy5nZXQoIndoaXRlVGhlbWUiLCBmYWxzZSk7CiAgICAgICAgICAgIGlmICh3aGl0ZVRoZW1lQ29va2llKSB7CiAgICAgICAgICAgICAgICAvLyDog4zmma/liKDpmaQKICAgICAgICAgICAgICAgICQoJy5tYWluX2ZhdGhlcicpLmF0dHIoJ3N0eWxlJywgJ2JhY2tncm91bmQtaW1hZ2U6IG5vbmUgIWltcG9ydGFudDsgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjZmNzsgYmFja2dyb3VuZDogI2Y1ZjZmNzsnKTsKICAgICAgICAgICAgICAgICQoJ1tocmVmXj0iaHR0cHM6Ly9jc2RuaW1nLmNuL3JlbGVhc2UvcGhvZW5peC90ZW1wbGF0ZS90aGVtZXNfc2tpbi8iXScpLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly9jc2RuaW1nLmNuL3JlbGVhc2UvcGhvZW5peC90ZW1wbGF0ZS90aGVtZXNfc2tpbi9za2luLXRlY2hub2xvZ3kvc2tpbi10ZWNobm9sb2d5LTYzMzY1NDk1NTcubWluLmNzcycpOwogICAgICAgICAgICAgICAgJCgnI2NzZG4tdG9vbGJhcicpLnJlbW92ZUNsYXNzKCdjc2RuLXRvb2xiYXItc2tpbi1ibGFjaycpOwogICAgICAgICAgICAgICAgJCgnLmNzZG4tbG9nbycpLmF0dHIoJ3NyYycsICcvL2NzZG5pbWcuY24vY2RuL2NvbnRlbnQtdG9vbGJhci9jc2RuLWxvZ28ucG5nP3Y9MjAyMDA0MTYuMScpOwogICAgICAgICAgICAgICAgJCgnaHRtbCcpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjZjVmNmY3Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHdoaXRlVGhlbWVDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtd2hpdGV0aGVtZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXdoaXRldGhlbWUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLXdoaXRldGhlbWUtYnV0dG9uIiwgIndoaXRlVGhlbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g6IOM5pmv5Zu+CiAgICAgICAgICAgIGxldCBiYWNrZ3JvdW5kSW1hZ2UgPSBHTV9nZXRWYWx1ZSgiYmFja2dyb3VuZEltYWdlIiwgIiIpOwogICAgICAgICAgICBpZiAoYmFja2dyb3VuZEltYWdlICE9PSAiIikgewogICAgICAgICAgICAgICAgJCgiI2JhY2tncm91bmRJbWdVcmwiKS52YWwoYmFja2dyb3VuZEltYWdlKTsKICAgICAgICAgICAgICAgICQoIi5tYWluX2ZhdGhlciIpLmF0dHIoJ3N0eWxlJywgJ2JhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBiYWNrZ3JvdW5kSW1hZ2UgKyAnKTtiYWNrZ3JvdW5kLWF0dGFjaG1lbnQ6Zml4ZWQ7YmFja2dyb3VuZC1zaXplOjEwMCU7Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJCgnI2JhY2tncm91bmRJbWdVcmwnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJiYWNrZ3JvdW5kSW1hZ2UiLCAkKCIjYmFja2dyb3VuZEltZ1VybCIpLnZhbCgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoJyNiYWNrZ3JvdW5kSW1nVXJsJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoImJhY2tncm91bmRJbWFnZSIsICQoIiNiYWNrZ3JvdW5kSW1nVXJsIikudmFsKCkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiI3VwbG9hZF9iZyIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGxldCBmaWxlID0gJCgiI3VwbG9hZF9iZyIpWzBdLmZpbGVzWzBdOwogICAgICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgYmFzZTY0ID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgICAgICAgICAgICQoJyNiYWNrZ3JvdW5kSW1nVXJsJykudmFsKGJhc2U2NCk7CiAgICAgICAgICAgICAgICAgICAgJCgnI2JhY2tncm91bmRJbWdVcmwnKS5jaGFuZ2UoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIOaQnOWNmuS4u+aWh+eroAogICAgICAgICAgICBsZXQgc2VhcmNoQmxvZ0Nvb2tpZSA9IGNvbmZpZy5nZXQoInNlYXJjaEJsb2ciLCBmYWxzZSk7CiAgICAgICAgICAgIGlmKHNlYXJjaEJsb2dDb29raWUpIHsKICAgICAgICAgICAgICAgICQoJyNyZWNvbW1lbmQtcmlnaHQnKS5hcHBlbmQoJCgnI2FzaWRlU2VhcmNoQXJ0aWNsZScpLnByb3AoIm91dGVySFRNTCIpKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlU2VhcmNoQXJ0aWNsZScpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyIpOwogICAgICAgICAgICAgICAgICAgIHZhciBpID0gJCgiI3NlYXJjaC1ibG9nLXdvcmRzIikKICAgICAgICAgICAgICAgICAgICAgICwgbiA9ICQoIi5idG4tc2VhcmNoLWJsb2ciKTsKICAgICAgICAgICAgICAgICAgICBpLmtleXVwKGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0LmtleUNvZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgxMyA9PSBuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IGVuY29kZVVSSUNvbXBvbmVudChpLnZhbCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAiLy9zby5jc2RuLm5ldC9zby9zZWFyY2gvcy5kbz9xPSIgKyBlICsgIiZ0PWJsb2cmdT0iICsgdXNlcm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4ocykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIG4ub24oImNsaWNrIiwgZnVuY3Rpb24odCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGVuY29kZVVSSUNvbXBvbmVudChpLnZhbCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gIi8vc28uY3Nkbi5uZXQvc28vc2VhcmNoL3MuZG8/cT0iICsgbiArICImdD1ibG9nJnU9IiArIHVzZXJuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHNlYXJjaEJsb2dDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtc2VhcmNoYmxvZy1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXNlYXJjaGJsb2ctYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLXNlYXJjaGJsb2ctYnV0dG9uIiwgInNlYXJjaEJsb2ciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5pyA5paw5paH56ugCiAgICAgICAgICAgIGxldCBuZXdBcnRpY2xlQ29va2llID0gY29uZmlnLmdldCgibmV3QXJ0aWNsZSIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKG5ld0FydGljbGVDb29raWUpIHsKICAgICAgICAgICAgICAgICQoJyNyZWNvbW1lbmQtcmlnaHQnKS5hcHBlbmQoJCgnI2FzaWRlTmV3QXJ0aWNsZScpLnByb3AoIm91dGVySFRNTCIpKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlTmV3QXJ0aWNsZScpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyIpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5ld0FydGljbGVDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtbmV3YXJ0aWNsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLW5ld2FydGljbGUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLW5ld2FydGljbGUtYnV0dG9uIiwgIm5ld0FydGljbGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g54Ot6Zeo5paH56ugCiAgICAgICAgICAgIGxldCBob3RBcnRpY2xlQ29va2llID0gY29uZmlnLmdldCgiaG90QXJ0aWNsZSIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKGhvdEFydGljbGVDb29raWUpIHsKICAgICAgICAgICAgICAgICQoJyNyZWNvbW1lbmQtcmlnaHQnKS5hcHBlbmQoJCgiI2FzaWRlSG90QXJ0aWNsZSIpLnByb3AoIm91dGVySFRNTCIpKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlSG90QXJ0aWNsZScpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyIpOwogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZUhvdEFydGljbGUgaW1nJykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaG90QXJ0aWNsZUNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1ob3RhcnRpY2xlLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtaG90YXJ0aWNsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtaG90YXJ0aWNsZS1idXR0b24iLCAiaG90QXJ0aWNsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDmnIDmlrDor4TorroKICAgICAgICAgICAgbGV0IG5ld0NvbW1lbnRzQ29va2llID0gY29uZmlnLmdldCgibmV3Q29tbWVudHMiLCBmYWxzZSk7CiAgICAgICAgICAgIGlmIChuZXdDb21tZW50c0Nvb2tpZSkgewogICAgICAgICAgICAgICAgJCgnI3JlY29tbWVuZC1yaWdodCcpLmFwcGVuZCgkKCIjYXNpZGVOZXdDb21tZW50cyIpLnByb3AoIm91dGVySFRNTCIpKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlTmV3Q29tbWVudHMnKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsiKTsKICAgICAgICAgICAgICAgICAgICAkKCIuY29tbWVudC5lbGxpcHNpcyIpLmF0dHIoInN0eWxlIiwgIm1heC1oZWlnaHQ6IG5vbmU7Iik7CiAgICAgICAgICAgICAgICAgICAgJCgiLnRpdGxlLnRleHQtdHJ1bmNhdGUiKS5hdHRyKCJzdHlsZSIsICJwYWRkaW5nOiAwIik7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobmV3Q29tbWVudHNDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtbmV3Y29tbWVudHMtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1uZXdjb21tZW50cy1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtbmV3Y29tbWVudHMtYnV0dG9uIiwgIm5ld0NvbW1lbnRzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOWIhuexu+S4k+agjwogICAgICAgICAgICBsZXQga2luZFBlcnNvbkNvb2tpZSA9IGNvbmZpZy5nZXQoImtpbmRQZXJzb24iLCBmYWxzZSk7CiAgICAgICAgICAgIGlmICgha2luZFBlcnNvbkNvb2tpZSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVDYXRlZ29yeScpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICQoJy5raW5kX3BlcnNvbicpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCcjcmVjb21tZW5kLXJpZ2h0JykuYXBwZW5kKCQoIiNhc2lkZUNhdGVnb3J5IikucHJvcCgib3V0ZXJIVE1MIikpOwogICAgICAgICAgICAgICAgaWYgKCQoIiNhc2lkZUNhdGVnb3J5IikubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICQoJy5raW5kX3BlcnNvbicpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkKCcua2luZF9wZXJzb24nKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsgaGVpZ2h0OjI1NXB4OyIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVDYXRlZ29yeScpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7Iik7CiAgICAgICAgICAgICAgICAgICAgJCgiYS5mbGV4aWJsZS1idG4iKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCdkaXYuYXNpZGUtYm94JykucmVtb3ZlQ2xhc3MoJ2ZsZXhpYmxlLWJveCcpOwogICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoInAudGV4dC1jZW50ZXIiKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoa2luZFBlcnNvbkNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1raW5kcGVyc29uLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUta2luZHBlcnNvbi1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUta2luZHBlcnNvbi1idXR0b24iLCAia2luZFBlcnNvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDnm67lvZUKICAgICAgICAgICAgbGV0IGNvbnRlbnRDb29raWUgPSBjb25maWcuZ2V0KCJjb250ZW50IiwgdHJ1ZSk7CiAgICAgICAgICAgIGlmICghY29udGVudENvb2tpZSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcuYWxpZ24taXRlbXMtc3RyZXRjaC5ncm91cF9pdGVtJykucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY29udGVudENvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1jb250ZW50LWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtY29udGVudC1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtY29udGVudC1idXR0b24iLCAiY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDmjqjojZDmlofnq6AKICAgICAgICAgICAgbGV0IHJlY29tbWVuZEFydGljbGVDb29raWUgPSBjb25maWcuZ2V0KCJyZWNvbW1lbmRBcnRpY2xlIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAoIXJlY29tbWVuZEFydGljbGVDb29raWUpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnLnJlY29tbWVuZC1saXN0LWJveCcpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJy5yZWNvbW1lbmQtbGlzdC1ib3gnKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsgaGVpZ2h0OjI1NXB4OyIpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHJlY29tbWVuZEFydGljbGVDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtcmVjb21tZW5kYXJ0aWNsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXJlY29tbWVuZGFydGljbGUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLXJlY29tbWVuZGFydGljbGUtYnV0dG9uIiwgInJlY29tbWVuZEFydGljbGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5b2S5qGjCiAgICAgICAgICAgIGxldCBhcmNoaXZlQ29va2llID0gY29uZmlnLmdldCgiYXJjaGl2ZSIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKCFhcmNoaXZlQ29va2llKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZUFyY2hpdmUnKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgnI3JlY29tbWVuZC1yaWdodCcpLmFwcGVuZCgkKCIjYXNpZGVBcmNoaXZlIikucHJvcCgib3V0ZXJIVE1MIikpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVBcmNoaXZlJykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7IGRpc3BsYXk6YmxvY2sgIWltcG9ydGFudDsiKTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGFyY2hpdmVDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXJjaGl2ZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWFyY2hpdmUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWFyY2hpdmUtYnV0dG9uIiwgImFyY2hpdmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g6Ieq5Yqo6Z2g5bem5bmz6ZO6CiAgICAgICAgICAgIGxldCBhdXRvU2l6ZUNvb2tpZSA9IGNvbmZpZy5nZXQoImF1dG9TaXplIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAoYXV0b1NpemVDb29raWUpIHsKICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAvLyDmlofnq6Dlrr3luqboh6rpgILlupQKICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCAxMTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWIoOmZpOWOn+acieWTjeW6lOW8j+agt+W8jwogICAgICAgICAgICAgICAgICAgICAgICAkKCIubWFpbl9mYXRoZXIiKS5yZW1vdmVDbGFzcygianVzdGlmeS1jb250ZW50LWNlbnRlciIpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCJhcnRpY2xlIikud2lkdGgod2luZG93LmlubmVyV2lkdGggLSAxNTApOwogICAgICAgICAgICAgICAgICAgICAgICBHTV9hZGRTdHlsZShgCiAgICAgICAgICAgICAgICAgICAgICAgIG1haW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYXV0byFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdDogbm9uZSFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDkwdnc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbWFpbiBhcnRpY2xlIGltZ3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiYXJ0aWNsZSIpLnJlbW92ZUF0dHIoInN0eWxlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGF1dG9TaXplQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWF1dG9zaXplLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXV0b3NpemUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWF1dG9zaXplLWJ1dHRvbiIsICJhdXRvU2l6ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDoh6rliqjpmpDol4/pobbmoI8KICAgICAgICAgICAgbGV0IGF1dG9IaWRlVG9vbGJhckNvb2tpZSA9IGNvbmZpZy5nZXQoImF1dG9IaWRlVG9vbGJhciIsIHRydWUpOwogICAgICAgICAgICBpZiAoYXV0b0hpZGVUb29sYmFyQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID4gMTAwKSB7CiAgICAgICAgICAgICAgICAJICAgIGxldCBzY3JvbGxTID0gJCh0aGlzKS5zY3JvbGxUb3AoKTsKICAgICAgICAgICAgICAgIAkgICAgaWYgKHNjcm9sbFMgPj0gd2luZG93VG9wKSB7CiAgICAgICAgICAgICAgICAJICAgIAkkKCcjY3Nkbi10b29sYmFyJykuc2xpZGVVcCgxMDApOwogICAgICAgICAgICAgICAgCSAgICAJd2luZG93VG9wID0gc2Nyb2xsUzsKICAgICAgICAgICAgICAgIAkgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIAkgICAgCSQoJyNjc2RuLXRvb2xiYXInKS5zbGlkZURvd24oMTAwKTsKICAgICAgICAgICAgICAgIAkgICAgCXdpbmRvd1RvcCA9IHNjcm9sbFM7CiAgICAgICAgICAgICAgICAJICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYXV0b0hpZGVUb29sYmFyQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWF1dG9oaWRldG9vbGJhci1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWF1dG9oaWRldG9vbGJhci1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtYXV0b2hpZGV0b29sYmFyLWJ1dHRvbiIsICJhdXRvSGlkZVRvb2xiYXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g6Ieq5Yqo6ZqQ6JeP5bqV5qCPCiAgICAgICAgICAgIGxldCBhdXRvSGlkZUJvdHRvbUJhckNvb2tpZSA9IGNvbmZpZy5nZXQoImF1dG9IaWRlQm90dG9tQmFyIiwgdHJ1ZSk7CiAgICAgICAgICAgIGlmIChhdXRvSGlkZUJvdHRvbUJhckNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3Rvb2xCYXJCb3ggLmxlZnQtdG9vbGJveCIpLmNzcyh7CiAgICAgICAgICAgICAgICAJcG9zaXRpb246ICJyZWxhdGl2ZSIsCiAgICAgICAgICAgICAgICAJbGVmdDogIjBweCIsCiAgICAgICAgICAgICAgICAJYm90dG9tOiAiMCIsCiAgICAgICAgICAgICAgICAJd2lkdGg6ICQoIiN0b29sQmFyQm94Iikud2lkdGgoKSArICJweCIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIAkkKCIjdG9vbEJhckJveCAubGVmdC10b29sYm94IikuY3NzKHsKICAgICAgICAgICAgICAgIAkJcG9zaXRpb246ICJyZWxhdGl2ZSIsCiAgICAgICAgICAgICAgICAJCWxlZnQ6ICIwcHgiLAogICAgICAgICAgICAgICAgCQlib3R0b206ICIwIiwKICAgICAgICAgICAgICAgIAkJd2lkdGg6ICQoIiN0b29sQmFyQm94Iikud2lkdGgoKSArICJweCIKICAgICAgICAgICAgICAgIAl9KQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGF1dG9IaWRlQm90dG9tQmFyQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWF1dG9oaWRlYm90dG9tYmFyLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXV0b2hpZGVib3R0b21iYXItYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWF1dG9oaWRlYm90dG9tYmFyLWJ1dHRvbiIsICJhdXRvSGlkZUJvdHRvbUJhciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDliJvkvZzkuK3lv4PmjInpkq4KICAgICAgICAgICAgbGV0IHdyaXRlQmxvZ0Nvb2tpZSA9IGNvbmZpZy5nZXQoIndyaXRlQmxvZyIsIHRydWUpOwogICAgICAgICAgICBpZiAoIXdyaXRlQmxvZ0Nvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiLnRvb2xiYXItYnRuLXdyaXRlIikucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHdyaXRlQmxvZ0Nvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS13cml0ZWJsb2ctYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS13cml0ZWJsb2ctYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLXdyaXRlYmxvZy1idXR0b24iLCAid3JpdGVCbG9nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOWPs+S+p+a7muWKqOadoQogICAgICAgICAgICAvKiogc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBsZXQgcmlnaHRTaWRlSGVpZ2h0ID0gMDsKICAgICAgICAgICAgICAgIGxldCBwYWdlSGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpOwogICAgICAgICAgICAgICAgcmlnaHRTaWRlSGVpZ2h0ICs9IGdldEhlaWdodCgkKCcuYWxpZ24taXRlbXMtc3RyZXRjaC5ncm91cF9pdGVtJykucGFyZW50KCkpOwogICAgICAgICAgICAgICAgcmlnaHRTaWRlSGVpZ2h0ICs9IGdldEhlaWdodCgkKCIjYXNpZGVQcm9maWxlIikpOwogICAgICAgICAgICAgICAgcmlnaHRTaWRlSGVpZ2h0ICs9IGdldEhlaWdodCgkKCIjYXNpZGVTZWFyY2hBcnRpY2xlIikpOwogICAgICAgICAgICAgICAgcmlnaHRTaWRlSGVpZ2h0ICs9IGdldEhlaWdodCgkKCIjYXNpZGVOZXdBcnRpY2xlIikpOwogICAgICAgICAgICAgICAgcmlnaHRTaWRlSGVpZ2h0ICs9IGdldEhlaWdodCgkKCIjYXNpZGVIb3RBcnRpY2xlIikpOwogICAgICAgICAgICAgICAgcmlnaHRTaWRlSGVpZ2h0ICs9IGdldEhlaWdodCgkKCIjYXNpZGVOZXdDb21tZW50cyIpKTsKICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUhlaWdodCArPSBnZXRIZWlnaHQoJCgiI2FzaWRlQ2F0ZWdvcnkiKSk7CiAgICAgICAgICAgICAgICByaWdodFNpZGVIZWlnaHQgKz0gZ2V0SGVpZ2h0KCQoIiNhc2lkZUFyY2hpdmUiKSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJSaWdodCBzaWRlIHRvdGFsIGhlaWdodDogIiArIHJpZ2h0U2lkZUhlaWdodCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJQYWdlIGhlaWdodDogIiArIHBhZ2VIZWlnaHQpOwogICAgICAgICAgICAgICAgaWYgKHJpZ2h0U2lkZUhlaWdodCA+IHBhZ2VIZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjcmVjb21tZW5kLXJpZ2h0JykuY3NzKCJvdmVyZmxvdyIsICJzY3JvbGwiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTUwMCk7ICovCiAgICAgICAgfSBlbHNlIGlmIChudW0gPT09IDcpIHsKICAgICAgICAgICAgJCgiLm1lX3IiKVsxXS5yZW1vdmUoKTsKICAgICAgICB9IGVsc2UgaWYgKG51bSA9PT0gOCkgewogICAgICAgICAgICAvKiAkKCIuYXJ0aWNsZS1iYXItdG9wIikuYXBwZW5kKCI8YnI+Iik7CiAgICAgICAgICAgICQoIi5hcnRpY2xlLWJhci10b3AiKS5hcHBlbmQoJCgiLmFzaWRlLWJveC1mb290ZXJDbGFzc2lmeSIpLmNoaWxkcmVuKCJkZCIpLmh0bWwoKSk7CiAgICAgICAgICAgICQoImRsIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIHZhciBrZXkgPSAkKHRoaXMpLmNoaWxkcmVuKCJkdCIpOwogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJCh0aGlzKS5jaGlsZHJlbigiZGQiKS5jaGlsZHJlbigic3BhbiIpOwogICAgICAgICAgICAgICAgaWYgKGtleS5odG1sKCkuaW5kZXhPZigi5Y6f5YibIikgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICBrZXkgPSAkKHRoaXMpLmNoaWxkcmVuKCJkdCIpLmNoaWxkcmVuKCJhIikKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICQodGhpcykuY2hpbGRyZW4oImRkIikuY2hpbGRyZW4oImEiKS5jaGlsZHJlbigic3BhbiIpOwogICAgICAgICAgICAgICAgICAgIGFkZEluZm8oa2V5LCB2YWx1ZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5odG1sKCkgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgYWRkSW5mbyhrZXksIHZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSApOwogICAgICAgICAgICBmdW5jdGlvbiBhZGRJbmZvKGtleSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgIHZhciBiaW5kID0ga2V5Lmh0bWwoKSArICImbmJzcDsiICsgdmFsdWUuaHRtbCgpICsgIiZuYnNwOyZuYnNwOyI7CiAgICAgICAgICAgICAgICAkKCIuYXJ0aWNsZS1iYXItdG9wIikuYXBwZW5kKGJpbmQgKyAiICIpOwogICAgICAgICAgICB9ICovCiAgICAgICAgICAgICQoIi5ibG9nX2NvbnRhaW5lcl9hc2lkZSIpLnJlbW92ZSgpOwoKICAgICAgICAgICAgLy8g5qCH6aKY5raI5oGv5o+Q6YaS5Y676ZmkCiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LnRpdGxlLnJlcGxhY2UoL15cKC4qP1wpL2csICIiKTsKICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTsKICAgICAgICAgICAgLy8g6K+E6K665aSN5Yi25oyJ6ZKuCiAgICAgICAgICAgICQoJy5jb21tZW50LWJveCcpLnByZXBlbmQoJzxidXR0b24gY2xhc3M9ImNvbW1lbnQtaGlkZGVuLXRleHQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPkNPUFkgQlVUVE9OPC9idXR0b24+Jyk7CiAgICAgICAgICAgICQoJy5uZXctb3B0LWJveC5uZXctb3B0LWJveC1iZycpLnByZXBlbmQoJzxhIGNsYXNzPSJidG4gYnRuLXJlcG9ydCBidG4tY29weSIgb25jbGljaz0iamF2YXNjcmlwdDokKFwnLmNvbW1lbnQtaGlkZGVuLXRleHRcJykuYXR0cihcJ2RhdGEtY2xpcGJvYXJkLXRleHRcJywkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCcubmV3LWNvbW1lbnRcJykudGV4dCgpKSI+5aSN5Yi26K+E6K66PC9hPjxzcGFuIGNsYXNzPSJidG4tYmFyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgICQoJy5idG4tY29weScpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmRKUygnLmNvbW1lbnQtaGlkZGVuLXRleHQnKTsKICAgICAgICAgICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ0FjdGlvbjonLCBlLmFjdGlvbik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdUZXh0OicsIGUudGV4dCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdUcmlnZ2VyOicsIGUudHJpZ2dlcik7CiAgICAgICAgICAgICAgICAgICAgZS5jbGVhclNlbGVjdGlvbigpOwogICAgICAgICAgICAgICAgICAgICQoJy5idG4tY29weScpLmh0bWwoJ+aIkOWKnycpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5idG4tY29weScpLmh0bWwoJ+WkjeWItuivhOiuuicpOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjbGlwYm9hcmQub24oJ2Vycm9yJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FjdGlvbjonLCBlLmFjdGlvbik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVHJpZ2dlcjonLCBlLnRyaWdnZXIpOwogICAgICAgICAgICAgICAgICAgICQoJy5idG4tY29weScpLmh0bWwoJ+Wksei0pe+8jOivt+aJi+WKqOWkjeWIticpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5idG4tY29weScpLmh0bWwoJ+WkjeWItuivhOiuuicpOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKCIuY29tbWVudC1oaWRkZW4tdGV4dCIpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBjbGlwYm9hcmQuZGVzdHJveSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKG51bSA9PT0gOSkgewogICAgICAgICAgICAvLyDliKDpmaRDU0ROIExPR0/mgqzmta7lkI7nmoTkuoznu7TnoIEKICAgICAgICAgICAgJCgiLnRvb2xiYXItc3ViTWVudSA+IGltZyIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sIDEwMCk7CiAgICBwcm9ncmVzc29yLmluY1Byb2dyZXNzKDEwKTsKfQoKZnVuY3Rpb24gc2hvd1RpcHMoKSB7CnZhciBjb25maWcgPSB7CmNvbnRlbnQ6ICLmrKLov47kvb/nlKggQ1NETkdyZWVuZXLvvIznu7/ljJborr7lrprmjInpkq7lnKjov5nph4zvvIE8YnI+PGEgb25jbGljaz0namF2YXNjcmlwdDokKFwiLnRyaXBzXCIpLnJlbW92ZSgpOyc+5aW955qE77yM5Lul5ZCO5LiN5YaN5o+Q56S65oiRPC9hPiIsCnR5cGU6ICJodG1sIiwKYWxpZ25UbzogWyJib3R0b20iLCAicmlnaHQiXSwKdHJpZ2dlcjogInNob3ciLAppc2Nsb3NlOiBmYWxzZSwKY29sb3I6IFsiI0IyRTI4MSIsICIjQjJFMjgxIl0KfTsKJCgiI2dyZWVuZXJTZXR0aW5ncyIpLnNob3dUaXBzKGNvbmZpZyk7Cn0KCmZ1bmN0aW9uIGdldEhlaWdodChlbGVtZW50KSB7CmxldCBvdXRlckhlaWdodCA9IGVsZW1lbnQub3V0ZXJIZWlnaHQoKTsKaWYgKG91dGVySGVpZ2h0ID09PSBudWxsKSB7CnJldHVybiAwOwp9CnJldHVybiBvdXRlckhlaWdodDsKfQoKZnVuY3Rpb24gaXNGaXJlZm94KCkgewpyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikgPiAwOwp9Ci8vID09VXNlclNjcmlwdD09Ci8vIEBuYW1lICAgICAgICAgTmV3IFVzZXJzY3JpcHQKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICB0cnkgdG8gdGFrZSBvdmVyIHRoZSB3b3JsZCEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICBodHRwOi8vKi8qCi8vIEBpY29uICAgICAgICAgZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT0KLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewondXNlIHN0cmljdCc7CgogICAgLy8gWW91ciBjb2RlIGhlcmUuLi4KfSkoKTs=","requires":[{"meta":{"name":"jquery.cookie.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery-cookie/1.4.1/jquery.cookie.min.js","ts":1714549530680,"mimetype":"text/javascript"},"source":"LyohIGpxdWVyeS5jb29raWUgdjEuNC4xIHwgTUlUICovCiFmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGEpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9hKHJlcXVpcmUoImpxdWVyeSIpKTphKGpRdWVyeSl9KGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGgucmF3P2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGgucmF3P2E6ZGVjb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGIoaC5qc29uP0pTT04uc3RyaW5naWZ5KGEpOlN0cmluZyhhKSl9ZnVuY3Rpb24gZShhKXswPT09YS5pbmRleE9mKCciJykmJihhPWEuc2xpY2UoMSwtMSkucmVwbGFjZSgvXFwiL2csJyInKS5yZXBsYWNlKC9cXFxcL2csIlxcIikpO3RyeXtyZXR1cm4gYT1kZWNvZGVVUklDb21wb25lbnQoYS5yZXBsYWNlKGcsIiAiKSksaC5qc29uP0pTT04ucGFyc2UoYSk6YX1jYXRjaChiKXt9fWZ1bmN0aW9uIGYoYixjKXt2YXIgZD1oLnJhdz9iOmUoYik7cmV0dXJuIGEuaXNGdW5jdGlvbihjKT9jKGQpOmR9dmFyIGc9L1wrL2csaD1hLmNvb2tpZT1mdW5jdGlvbihlLGcsaSl7aWYodm9pZCAwIT09ZyYmIWEuaXNGdW5jdGlvbihnKSl7aWYoaT1hLmV4dGVuZCh7fSxoLmRlZmF1bHRzLGkpLCJudW1iZXIiPT10eXBlb2YgaS5leHBpcmVzKXt2YXIgaj1pLmV4cGlyZXMsaz1pLmV4cGlyZXM9bmV3IERhdGU7ay5zZXRUaW1lKCtrKzg2NGU1KmopfXJldHVybiBkb2N1bWVudC5jb29raWU9W2IoZSksIj0iLGQoZyksaS5leHBpcmVzPyI7IGV4cGlyZXM9IitpLmV4cGlyZXMudG9VVENTdHJpbmcoKToiIixpLnBhdGg/IjsgcGF0aD0iK2kucGF0aDoiIixpLmRvbWFpbj8iOyBkb21haW49IitpLmRvbWFpbjoiIixpLnNlY3VyZT8iOyBzZWN1cmUiOiIiXS5qb2luKCIiKX1mb3IodmFyIGw9ZT92b2lkIDA6e30sbT1kb2N1bWVudC5jb29raWU/ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7ICIpOltdLG49MCxvPW0ubGVuZ3RoO28+bjtuKyspe3ZhciBwPW1bbl0uc3BsaXQoIj0iKSxxPWMocC5zaGlmdCgpKSxyPXAuam9pbigiPSIpO2lmKGUmJmU9PT1xKXtsPWYocixnKTticmVha31lfHx2b2lkIDA9PT0ocj1mKHIpKXx8KGxbcV09cil9cmV0dXJuIGx9O2guZGVmYXVsdHM9e30sYS5yZW1vdmVDb29raWU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gdm9pZCAwPT09YS5jb29raWUoYik/ITE6KGEuY29va2llKGIsIiIsYS5leHRlbmQoe30sYyx7ZXhwaXJlczotMX0pKSwhYS5jb29raWUoYikpfX0pOw=="},{"meta":{"name":"nprogress.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/nprogress/0.2.0/nprogress.min.js","ts":1714549530680,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKG4sZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUoKTpuLk5Qcm9ncmVzcz1lKCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sZSx0KXtyZXR1cm4gZT5uP2U6bj50P3Q6bn1mdW5jdGlvbiBlKG4pe3JldHVybiAxMDAqKC0xK24pfWZ1bmN0aW9uIHQobix0LHIpe3ZhciBpO3JldHVybiBpPSJ0cmFuc2xhdGUzZCI9PT1jLnBvc2l0aW9uVXNpbmc/e3RyYW5zZm9ybToidHJhbnNsYXRlM2QoIitlKG4pKyIlLDAsMCkifToidHJhbnNsYXRlIj09PWMucG9zaXRpb25Vc2luZz97dHJhbnNmb3JtOiJ0cmFuc2xhdGUoIitlKG4pKyIlLDApIn06eyJtYXJnaW4tbGVmdCI6ZShuKSsiJSJ9LGkudHJhbnNpdGlvbj0iYWxsICIrdCsibXMgIityLGl9ZnVuY3Rpb24gcihuLGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2Ygbj9uOm8obik7cmV0dXJuIHQuaW5kZXhPZigiICIrZSsiICIpPj0wfWZ1bmN0aW9uIGkobixlKXt2YXIgdD1vKG4pLGk9dCtlO3IodCxlKXx8KG4uY2xhc3NOYW1lPWkuc3Vic3RyaW5nKDEpKX1mdW5jdGlvbiBzKG4sZSl7dmFyIHQsaT1vKG4pO3IobixlKSYmKHQ9aS5yZXBsYWNlKCIgIitlKyIgIiwiICIpLG4uY2xhc3NOYW1lPXQuc3Vic3RyaW5nKDEsdC5sZW5ndGgtMSkpfWZ1bmN0aW9uIG8obil7cmV0dXJuKCIgIisobi5jbGFzc05hbWV8fCIiKSsiICIpLnJlcGxhY2UoL1xzKy9naSwiICIpfWZ1bmN0aW9uIGEobil7biYmbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9dmFyIHU9e307dS52ZXJzaW9uPSIwLjIuMCI7dmFyIGM9dS5zZXR0aW5ncz17bWluaW11bTouMDgsZWFzaW5nOiJlYXNlIixwb3NpdGlvblVzaW5nOiIiLHNwZWVkOjIwMCx0cmlja2xlOiEwLHRyaWNrbGVSYXRlOi4wMix0cmlja2xlU3BlZWQ6ODAwLHNob3dTcGlubmVyOiEwLGJhclNlbGVjdG9yOidbcm9sZT0iYmFyIl0nLHNwaW5uZXJTZWxlY3RvcjonW3JvbGU9InNwaW5uZXIiXScscGFyZW50OiJib2R5Iix0ZW1wbGF0ZTonPGRpdiBjbGFzcz0iYmFyIiByb2xlPSJiYXIiPjxkaXYgY2xhc3M9InBlZyI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0ic3Bpbm5lciIgcm9sZT0ic3Bpbm5lciI+PGRpdiBjbGFzcz0ic3Bpbm5lci1pY29uIj48L2Rpdj48L2Rpdj4nfTt1LmNvbmZpZ3VyZT1mdW5jdGlvbihuKXt2YXIgZSx0O2ZvcihlIGluIG4pdD1uW2VdLHZvaWQgMCE9PXQmJm4uaGFzT3duUHJvcGVydHkoZSkmJihjW2VdPXQpO3JldHVybiB0aGlzfSx1LnN0YXR1cz1udWxsLHUuc2V0PWZ1bmN0aW9uKGUpe3ZhciByPXUuaXNTdGFydGVkKCk7ZT1uKGUsYy5taW5pbXVtLDEpLHUuc3RhdHVzPTE9PT1lP251bGw6ZTt2YXIgaT11LnJlbmRlcighcikscz1pLnF1ZXJ5U2VsZWN0b3IoYy5iYXJTZWxlY3Rvciksbz1jLnNwZWVkLGE9Yy5lYXNpbmc7cmV0dXJuIGkub2Zmc2V0V2lkdGgsbChmdW5jdGlvbihuKXsiIj09PWMucG9zaXRpb25Vc2luZyYmKGMucG9zaXRpb25Vc2luZz11LmdldFBvc2l0aW9uaW5nQ1NTKCkpLGYocyx0KGUsbyxhKSksMT09PWU/KGYoaSx7dHJhbnNpdGlvbjoibm9uZSIsb3BhY2l0eToxfSksaS5vZmZzZXRXaWR0aCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihpLHt0cmFuc2l0aW9uOiJhbGwgIitvKyJtcyBsaW5lYXIiLG9wYWNpdHk6MH0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt1LnJlbW92ZSgpLG4oKX0sbyl9LG8pKTpzZXRUaW1lb3V0KG4sbyl9KSx0aGlzfSx1LmlzU3RhcnRlZD1mdW5jdGlvbigpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdS5zdGF0dXN9LHUuc3RhcnQ9ZnVuY3Rpb24oKXt1LnN0YXR1c3x8dS5zZXQoMCk7dmFyIG49ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5zdGF0dXMmJih1LnRyaWNrbGUoKSxuKCkpfSxjLnRyaWNrbGVTcGVlZCl9O3JldHVybiBjLnRyaWNrbGUmJm4oKSx0aGlzfSx1LmRvbmU9ZnVuY3Rpb24obil7cmV0dXJuIG58fHUuc3RhdHVzP3UuaW5jKC4zKy41Kk1hdGgucmFuZG9tKCkpLnNldCgxKTp0aGlzfSx1LmluYz1mdW5jdGlvbihlKXt2YXIgdD11LnN0YXR1cztyZXR1cm4gdD8oIm51bWJlciIhPXR5cGVvZiBlJiYoZT0oMS10KSpuKE1hdGgucmFuZG9tKCkqdCwuMSwuOTUpKSx0PW4odCtlLDAsLjk5NCksdS5zZXQodCkpOnUuc3RhcnQoKX0sdS50cmlja2xlPWZ1bmN0aW9uKCl7cmV0dXJuIHUuaW5jKE1hdGgucmFuZG9tKCkqYy50cmlja2xlUmF0ZSl9LGZ1bmN0aW9uKCl7dmFyIG49MCxlPTA7dS5wcm9taXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYicmVzb2x2ZWQiIT09dC5zdGF0ZSgpPygwPT09ZSYmdS5zdGFydCgpLG4rKyxlKyssdC5hbHdheXMoZnVuY3Rpb24oKXtlLS0sMD09PWU/KG49MCx1LmRvbmUoKSk6dS5zZXQoKG4tZSkvbil9KSx0aGlzKTp0aGlzfX0oKSx1LnJlbmRlcj1mdW5jdGlvbihuKXtpZih1LmlzUmVuZGVyZWQoKSlyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5wcm9ncmVzcyIpO2koZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJucHJvZ3Jlc3MtYnVzeSIpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuaWQ9Im5wcm9ncmVzcyIsdC5pbm5lckhUTUw9Yy50ZW1wbGF0ZTt2YXIgcixzPXQucXVlcnlTZWxlY3RvcihjLmJhclNlbGVjdG9yKSxvPW4/Ii0xMDAiOmUodS5zdGF0dXN8fDApLGw9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjLnBhcmVudCk7cmV0dXJuIGYocyx7dHJhbnNpdGlvbjoiYWxsIDAgbGluZWFyIix0cmFuc2Zvcm06InRyYW5zbGF0ZTNkKCIrbysiJSwwLDApIn0pLGMuc2hvd1NwaW5uZXJ8fChyPXQucXVlcnlTZWxlY3RvcihjLnNwaW5uZXJTZWxlY3RvciksciYmYShyKSksbCE9ZG9jdW1lbnQuYm9keSYmaShsLCJucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCIpLGwuYXBwZW5kQ2hpbGQodCksdH0sdS5yZW1vdmU9ZnVuY3Rpb24oKXtzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwibnByb2dyZXNzLWJ1c3kiKSxzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYy5wYXJlbnQpLCJucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCIpO3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJucHJvZ3Jlc3MiKTtuJiZhKG4pfSx1LmlzUmVuZGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJucHJvZ3Jlc3MiKX0sdS5nZXRQb3NpdGlvbmluZ0NTUz1mdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmJvZHkuc3R5bGUsZT0iV2Via2l0VHJhbnNmb3JtImluIG4/IldlYmtpdCI6Ik1velRyYW5zZm9ybSJpbiBuPyJNb3oiOiJtc1RyYW5zZm9ybSJpbiBuPyJtcyI6Ik9UcmFuc2Zvcm0iaW4gbj8iTyI6IiI7cmV0dXJuIGUrIlBlcnNwZWN0aXZlImluIG4/InRyYW5zbGF0ZTNkIjplKyJUcmFuc2Zvcm0iaW4gbj8idHJhbnNsYXRlIjoibWFyZ2luIn07dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dmFyIHQ9ZS5zaGlmdCgpO3QmJnQobil9dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uKHQpe2UucHVzaCh0KSwxPT1lLmxlbmd0aCYmbigpfX0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9eLW1zLS8sIm1zLSIpLnJlcGxhY2UoLy0oW1xkYS16XSkvZ2ksZnVuY3Rpb24obixlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gZShuKXt2YXIgZT1kb2N1bWVudC5ib2R5LnN0eWxlO2lmKG4gaW4gZSlyZXR1cm4gbjtmb3IodmFyIHQscj1pLmxlbmd0aCxzPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKTtyLS07KWlmKHQ9aVtyXStzLHQgaW4gZSlyZXR1cm4gdDtyZXR1cm4gbn1mdW5jdGlvbiB0KHQpe3JldHVybiB0PW4odCksc1t0XXx8KHNbdF09ZSh0KSl9ZnVuY3Rpb24gcihuLGUscil7ZT10KGUpLG4uc3R5bGVbZV09cn12YXIgaT1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdLHM9e307cmV0dXJuIGZ1bmN0aW9uKG4sZSl7dmFyIHQsaSxzPWFyZ3VtZW50cztpZigyPT1zLmxlbmd0aClmb3IodCBpbiBlKWk9ZVt0XSx2b2lkIDAhPT1pJiZlLmhhc093blByb3BlcnR5KHQpJiZyKG4sdCxpKTtlbHNlIHIobixzWzFdLHNbMl0pfX0oKTtyZXR1cm4gdX0pOw=="},{"meta":{"name":"clipboard.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/clipboard.js/2.0.10/clipboard.min.js","ts":1714549530681,"mimetype":"text/javascript"},"source":"LyohCiAqIGNsaXBib2FyZC5qcyB2Mi4wLjEwCiAqIGh0dHBzOi8vY2xpcGJvYXJkanMuY29tLwogKgogKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYQogKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQ2xpcGJvYXJkSlM9ZSgpOnQuQ2xpcGJvYXJkSlM9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG49ezY4NjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLHtkZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSk7dmFyIGU9bigyNzkpLGk9bi5uKGUpLGU9bigzNzApLHU9bi5uKGUpLGU9big4MTcpLGM9bi5uKGUpO2Z1bmN0aW9uIGEodCl7dHJ5e3JldHVybiBkb2N1bWVudC5leGVjQ29tbWFuZCh0KX1jYXRjaCh0KXtyZXR1cm59fXZhciBmPWZ1bmN0aW9uKHQpe3Q9YygpKHQpO3JldHVybiBhKCJjdXQiKSx0fTt2YXIgbD1mdW5jdGlvbih0KXt2YXIgZSxuLG8scj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e2NvbnRhaW5lcjpkb2N1bWVudC5ib2R5fSxpPSIiO3JldHVybiJzdHJpbmciPT10eXBlb2YgdD8oZT10LG49InJ0bCI9PT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkaXIiKSwobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpKS5zdHlsZS5mb250U2l6ZT0iMTJwdCIsby5zdHlsZS5ib3JkZXI9IjAiLG8uc3R5bGUucGFkZGluZz0iMCIsby5zdHlsZS5tYXJnaW49IjAiLG8uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixvLnN0eWxlW24/InJpZ2h0IjoibGVmdCJdPSItOTk5OXB4IixuPXdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxvLnN0eWxlLnRvcD0iIi5jb25jYXQobiwicHgiKSxvLnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSxvLnZhbHVlPWUsbz1vLHIuY29udGFpbmVyLmFwcGVuZENoaWxkKG8pLGk9YygpKG8pLGEoImNvcHkiKSxvLnJlbW92ZSgpKTooaT1jKCkodCksYSgiY29weSIpKSxpfTtmdW5jdGlvbiByKHQpe3JldHVybihyPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHM9ZnVuY3Rpb24oKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmFjdGlvbixuPXZvaWQgMD09PWU/ImNvcHkiOmUsbz10LmNvbnRhaW5lcixlPXQudGFyZ2V0LHQ9dC50ZXh0O2lmKCJjb3B5IiE9PW4mJiJjdXQiIT09bil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgImFjdGlvbiIgdmFsdWUsIHVzZSBlaXRoZXIgImNvcHkiIG9yICJjdXQiJyk7aWYodm9pZCAwIT09ZSl7aWYoIWV8fCJvYmplY3QiIT09cihlKXx8MSE9PWUubm9kZVR5cGUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7aWYoImNvcHkiPT09biYmZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSAicmVhZG9ubHkiIGluc3RlYWQgb2YgImRpc2FibGVkIiBhdHRyaWJ1dGUnKTtpZigiY3V0Ij09PW4mJihlLmhhc0F0dHJpYnV0ZSgicmVhZG9ubHkiKXx8ZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpKXRocm93IG5ldyBFcnJvcignSW52YWxpZCAidGFyZ2V0IiBhdHRyaWJ1dGUuIFlvdSBjYW5cJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoICJyZWFkb25seSIgb3IgImRpc2FibGVkIiBhdHRyaWJ1dGVzJyl9cmV0dXJuIHQ/bCh0LHtjb250YWluZXI6b30pOmU/ImN1dCI9PT1uP2YoZSk6bChlLHtjb250YWluZXI6b30pOnZvaWQgMH07ZnVuY3Rpb24gcCh0KXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIGQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuKHk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGgobil7dmFyIG89ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSxmdW5jdGlvbigpe30pKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsZT1tKG4pO3JldHVybiB0PW8/KHQ9bSh0aGlzKS5jb25zdHJ1Y3RvcixSZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyx0KSk6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT10aGlzLCEodD10KXx8Im9iamVjdCIhPT1wKHQpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9mdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXJldHVybiB0O3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIil9KGUpOnR9fWZ1bmN0aW9uIG0odCl7cmV0dXJuKG09T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0pKHQpfWZ1bmN0aW9uIHYodCxlKXt0PSJkYXRhLWNsaXBib2FyZC0iLmNvbmNhdCh0KTtpZihlLmhhc0F0dHJpYnV0ZSh0KSlyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCl9dmFyIG89ZnVuY3Rpb24oKXshZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmeSh0LGUpfShyLGkoKSk7dmFyIHQsZSxuLG89aChyKTtmdW5jdGlvbiByKHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzKSwobj1vLmNhbGwodGhpcykpLnJlc29sdmVPcHRpb25zKGUpLG4ubGlzdGVuQ2xpY2sodCksbn1yZXR1cm4gdD1yLG49W3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7Y29udGFpbmVyOmRvY3VtZW50LmJvZHl9O3JldHVybiBsKHQsZSl9fSx7a2V5OiJjdXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmKHQpfX0se2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlsiY29weSIsImN1dCJdLHQ9InN0cmluZyI9PXR5cGVvZiB0P1t0XTp0LGU9ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlPWUmJiEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKHQpfSksZX19XSwoZT1be2tleToicmVzb2x2ZU9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuYWN0aW9uPSJmdW5jdGlvbiI9PXR5cGVvZiB0LmFjdGlvbj90LmFjdGlvbjp0aGlzLmRlZmF1bHRBY3Rpb24sdGhpcy50YXJnZXQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQudGFyZ2V0P3QudGFyZ2V0OnRoaXMuZGVmYXVsdFRhcmdldCx0aGlzLnRleHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQudGV4dD90LnRleHQ6dGhpcy5kZWZhdWx0VGV4dCx0aGlzLmNvbnRhaW5lcj0ib2JqZWN0Ij09PXAodC5jb250YWluZXIpP3QuY29udGFpbmVyOmRvY3VtZW50LmJvZHl9fSx7a2V5OiJsaXN0ZW5DbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmxpc3RlbmVyPXUoKSh0LCJjbGljayIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25DbGljayh0KX0pfX0se2tleToib25DbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWxlZ2F0ZVRhcmdldHx8dC5jdXJyZW50VGFyZ2V0LG49dGhpcy5hY3Rpb24oZSl8fCJjb3B5Iix0PXMoe2FjdGlvbjpuLGNvbnRhaW5lcjp0aGlzLmNvbnRhaW5lcix0YXJnZXQ6dGhpcy50YXJnZXQoZSksdGV4dDp0aGlzLnRleHQoZSl9KTt0aGlzLmVtaXQodD8ic3VjY2VzcyI6ImVycm9yIix7YWN0aW9uOm4sdGV4dDp0LHRyaWdnZXI6ZSxjbGVhclNlbGVjdGlvbjpmdW5jdGlvbigpe2UmJmUuZm9jdXMoKSxkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fSl9fSx7a2V5OiJkZWZhdWx0QWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdigiYWN0aW9uIix0KX19LHtrZXk6ImRlZmF1bHRUYXJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9digidGFyZ2V0Iix0KTtpZih0KXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpfX0se2tleToiZGVmYXVsdFRleHQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2KCJ0ZXh0Iix0KX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lci5kZXN0cm95KCl9fV0pJiZkKHQucHJvdG90eXBlLGUpLG4mJmQodCxuKSxyfSgpfSw4Mjg6ZnVuY3Rpb24odCl7dmFyIGU7InVuZGVmaW5lZCI9PXR5cGVvZiBFbGVtZW50fHxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHwoKGU9RWxlbWVudC5wcm90b3R5cGUpLm1hdGNoZXM9ZS5tYXRjaGVzU2VsZWN0b3J8fGUubW96TWF0Y2hlc1NlbGVjdG9yfHxlLm1zTWF0Y2hlc1NlbGVjdG9yfHxlLm9NYXRjaGVzU2VsZWN0b3J8fGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IoO3QmJjkhPT10Lm5vZGVUeXBlOyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubWF0Y2hlcyYmdC5tYXRjaGVzKGUpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfX19LDQzODpmdW5jdGlvbih0LGUsbil7dmFyIHU9big4MjgpO2Z1bmN0aW9uIGkodCxlLG4sbyxyKXt2YXIgaT1mdW5jdGlvbihlLG4sdCxvKXtyZXR1cm4gZnVuY3Rpb24odCl7dC5kZWxlZ2F0ZVRhcmdldD11KHQudGFyZ2V0LG4pLHQuZGVsZWdhdGVUYXJnZXQmJm8uY2FsbChlLHQpfX0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIobixpLHIpLHtkZXN0cm95OmZ1bmN0aW9uKCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKG4saSxyKX19fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixvLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI/aS5hcHBseShudWxsLGFyZ3VtZW50cyk6ImZ1bmN0aW9uIj09dHlwZW9mIG4/aS5iaW5kKG51bGwsZG9jdW1lbnQpLmFwcGx5KG51bGwsYXJndW1lbnRzKTooInN0cmluZyI9PXR5cGVvZiB0JiYodD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpKSxBcnJheS5wcm90b3R5cGUubWFwLmNhbGwodCxmdW5jdGlvbih0KXtyZXR1cm4gaSh0LGUsbixvLHIpfSkpfX0sODc5OmZ1bmN0aW9uKHQsbil7bi5ub2RlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiZ0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJjE9PT10Lm5vZGVUeXBlfSxuLm5vZGVMaXN0PWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTtyZXR1cm4gdm9pZCAwIT09dCYmKCJbb2JqZWN0IE5vZGVMaXN0XSI9PT1lfHwiW29iamVjdCBIVE1MQ29sbGVjdGlvbl0iPT09ZSkmJiJsZW5ndGgiaW4gdCYmKDA9PT10Lmxlbmd0aHx8bi5ub2RlKHRbMF0pKX0sbi5zdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nfSxuLmZuPWZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9fSwzNzA6ZnVuY3Rpb24odCxlLG4pe3ZhciBmPW4oODc5KSxsPW4oNDM4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKCF0JiYhZSYmIW4pdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cyIpO2lmKCFmLnN0cmluZyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZyIpO2lmKCFmLmZuKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbiIpO2lmKGYubm9kZSh0KSlyZXR1cm4gYz1lLGE9biwodT10KS5hZGRFdmVudExpc3RlbmVyKGMsYSkse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt1LnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxhKX19O2lmKGYubm9kZUxpc3QodCkpcmV0dXJuIG89dCxyPWUsaT1uLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobyxmdW5jdGlvbih0KXt0LmFkZEV2ZW50TGlzdGVuZXIocixpKX0pLHtkZXN0cm95OmZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChvLGZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLGkpfSl9fTtpZihmLnN0cmluZyh0KSlyZXR1cm4gdD10LGU9ZSxuPW4sbChkb2N1bWVudC5ib2R5LHQsZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Iik7dmFyIG8scixpLHUsYyxhfX0sODE3OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuPSJTRUxFQ1QiPT09dC5ub2RlTmFtZT8odC5mb2N1cygpLHQudmFsdWUpOiJJTlBVVCI9PT10Lm5vZGVOYW1lfHwiVEVYVEFSRUEiPT09dC5ub2RlTmFtZT8oKGU9dC5oYXNBdHRyaWJ1dGUoInJlYWRvbmx5IikpfHx0LnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSx0LnNlbGVjdCgpLHQuc2V0U2VsZWN0aW9uUmFuZ2UoMCx0LnZhbHVlLmxlbmd0aCksZXx8dC5yZW1vdmVBdHRyaWJ1dGUoInJlYWRvbmx5IiksdC52YWx1ZSk6KHQuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSYmdC5mb2N1cygpLG49d2luZG93LmdldFNlbGVjdGlvbigpLChlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNlbGVjdE5vZGVDb250ZW50cyh0KSxuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UoZSksbi50b1N0cmluZygpKTtyZXR1cm4gbn19LDI3OTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7fWUucHJvdG90eXBlPXtvbjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcy5lfHwodGhpcy5lPXt9KTtyZXR1cm4ob1t0XXx8KG9bdF09W10pKS5wdXNoKHtmbjplLGN0eDpufSksdGhpc30sb25jZTpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcztmdW5jdGlvbiByKCl7by5vZmYodCxyKSxlLmFwcGx5KG4sYXJndW1lbnRzKX1yZXR1cm4gci5fPWUsdGhpcy5vbih0LHIsbil9LGVtaXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49KCh0aGlzLmV8fCh0aGlzLmU9e30pKVt0XXx8W10pLnNsaWNlKCksbz0wLHI9bi5sZW5ndGg7bzxyO28rKyluW29dLmZuLmFwcGx5KG5bb10uY3R4LGUpO3JldHVybiB0aGlzfSxvZmY6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV8fCh0aGlzLmU9e30pLG89blt0XSxyPVtdO2lmKG8mJmUpZm9yKHZhciBpPTAsdT1vLmxlbmd0aDtpPHU7aSsrKW9baV0uZm4hPT1lJiZvW2ldLmZuLl8hPT1lJiZyLnB1c2gob1tpXSk7cmV0dXJuIHIubGVuZ3RoP25bdF09cjpkZWxldGUgblt0XSx0aGlzfX0sdC5leHBvcnRzPWUsdC5leHBvcnRzLlRpbnlFbWl0dGVyPWV9fSxyPXt9LG8ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gby5kKGUse2E6ZX0pLGV9LG8uZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKW8ubyhlLG4pJiYhby5vKHQsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsZ2V0OmVbbl19KX0sby5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxvKDY4NikuZGVmYXVsdDtmdW5jdGlvbiBvKHQpe2lmKHJbdF0pcmV0dXJuIHJbdF0uZXhwb3J0czt2YXIgZT1yW3RdPXtleHBvcnRzOnt9fTtyZXR1cm4gblt0XShlLGUuZXhwb3J0cyxvKSxlLmV4cG9ydHN9dmFyIG4scn0pOw=="}]},{"name":"Áü•‰πéÂ¢ûÂº∫","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["https://www.zhihu.com/signin*"],"orig_includes":[],"orig_matches":["*://www.zhihu.com/*","*://zhuanlan.zhihu.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":"JavaScript","tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1714549530685,"data":{"menu_backToTop":"btrue","menu_blockKeywords":"btrue","menu_blockType":"s","menu_blockTypeArticle":"bfalse","menu_blockTypeLiveHot":"btrue","menu_blockTypePin":"bfalse","menu_blockTypeSearch":"bfalse","menu_blockTypeTopic":"bfalse","menu_blockTypeVideo":"btrue","menu_blockUsers":"btrue","menu_blockYanXuan":"bfalse","menu_cleanSearch":"bfalse","menu_cleanTitles":"bfalse","menu_collapsedAnswer":"btrue","menu_collapsedNowAnswer":"btrue","menu_customBlockKeywords":"o[]","menu_customBlockUsers":"o[\"√¶¬ï¬Ö√§¬∫¬ã√¶¬°¬£√¶¬°¬à√•¬±¬Ä\",\"√ß¬õ¬ê√©¬Ä¬â√¶¬é¬®√®¬ç¬ê\",\"√ß¬õ¬ê√©¬Ä¬â√ß¬ß¬ë√¶¬ô¬Æ\",\"√ß¬õ¬ê√©¬Ä¬â√¶¬à¬ê√©¬ï¬ø√®¬Æ¬°√•¬à¬í\",\"√ß¬ü¬•√§¬π¬é√ß¬õ¬ê√©¬Ä¬â√§¬º¬ö√•¬ë¬ò\",\"√ß¬ü¬•√§¬π¬é√ß¬õ¬ê√©¬Ä¬â√•¬à¬õ√§¬Ω¬ú√®¬Ä¬Ö\",\"√ß¬õ¬ê√©¬Ä¬â√•¬ø¬É√ß¬ê¬Ü\",\"√ß¬õ¬ê√©¬Ä¬â√•¬Å¬•√•¬∫¬∑√•¬ø¬Ö√§¬ø¬Æ√®¬Ø¬æ\",\"√ß¬õ¬ê√©¬Ä¬â√•¬•¬á√•¬¶¬ô√ß¬â¬©√®¬Ø¬≠\",\"√ß¬õ¬ê√©¬Ä¬â√ß¬î¬ü√¶¬¥¬ª√©¬¶¬Ü\",\"√ß¬õ¬ê√©¬Ä¬â√®¬Å¬å√•¬ú¬∫\",\"√ß¬õ¬ê√©¬Ä¬â√¶¬ñ¬á√•¬≠¬¶√ß¬î¬Ñ√©¬Ä¬â\",\"√ß¬õ¬ê√©¬Ä¬â√§¬Ω¬ú√®¬Ä¬Ö√•¬∞¬è√ß¬Æ¬°√•¬Æ¬∂\",\"√ß¬õ¬ê√©¬Ä¬â√•¬ç¬ö√ß¬â¬©√©¬¶¬Ü\",\"√ß¬õ¬ê√©¬Ä¬â√ß¬Ç¬π√©¬á¬ë\",\"√ß¬õ¬ê√©¬Ä¬â√¶¬µ¬ã√®¬Ø¬Ñ√•¬Æ¬§\",\"√ß¬õ¬ê√©¬Ä¬â√ß¬ß¬ë√¶¬ä¬Ä√•¬â¬ç√¶¬≤¬ø\",\"√ß¬õ¬ê√©¬Ä¬â√§¬º¬ö√•¬ë¬ò√ß¬≤¬æ√•¬ì¬Å\"]","menu_defaultCollapsedAnswer":"btrue","menu_publishTop":"btrue","menu_questionRichTextMore":"bfalse","menu_toQuestion":"btrue","menu_typeTips":"btrue"}},"enabled":true,"position":2,"file_url":"https://update.greasyfork.org/scripts/419081/%E7%9F%A5%E4%B9%8E%E5%A2%9E%E5%BC%BA.user.js","uuid":"27fff1ab-956d-4ca8-bf7a-fbe79aa4bf69","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnn6XkuY7lop7lvLoKLy8gQG5hbWU6emgtQ04gICDnn6XkuY7lop7lvLoKLy8gQG5hbWU6emgtVFcgICDnn6XkuY7lop7lvLcKLy8gQG5hbWU6ZW4gICAgICBaaGlodSBlbmhhbmNlbWVudAovLyBAdmVyc2lvbiAgICAgIDIuMi4xNQovLyBAYXV0aG9yICAgICAgIFguSS5VCi8vIEBkZXNjcmlwdGlvbiAg56e76Zmk55m75b2V5by556qX44CB5bGP6JS96aaW6aG16KeG6aKR44CB6buY6K6k5pS26LW35Zue562U44CB5b+r5o235pS26LW35Zue562UL+ivhOiuuu+8iOW3pumUruS4pOS+p++8ieOAgeW/q+aNt+WbnuWIsOmhtumDqO+8iOWPs+mUruS4pOS+p++8ieOAgeWxj+iUveeUqOaIt+OAgeWxj+iUveWFs+mUruivjeOAgeenu+mZpOmrmOS6rumTvuaOpeOAgeWxj+iUveebkOmAieWGheWuuS/ng63mppzmnYLpobnjgIHlh4DljJbmkJzntKLng63pl6jjgIHlh4DljJbmoIfpopjmtojmga/jgIHlsZXlvIDpl67popjmj4/ov7DjgIHmmL7npLrpl67popjkvZzogIXjgIHnva7pobbmmL7npLrml7bpl7TjgIHlrozmlbTpl67popjml7bpl7TjgIHljLrliIbpl67popjmlofnq6DjgIHnm7Tovr7pl67popjmjInpkq7jgIHpu5jorqTpq5jmuIXljp/lm77jgIHpu5jorqTnq5nlpJbnm7Tpk74KLy8gQGRlc2NyaXB0aW9uOnpoLVRXICDnp7vpmaTnmbvpjITlvYjnqpfjgIHlsY/olL3pppbpoIHoppbpoLvjgIHpu5joqo3mlLbotbflm57nrZTjgIHlv6vmjbfmlLbotbflm57nrZQv6KmV6KuW44CB5b+r5o235Zue5Yiw6aCC6YOo44CB5bGP6JS955So5oi244CB5bGP6JS96Zec6Y216Kme44CB56e76Zmk6auY5Lqu6Y+I5o6l44CB5bGP6JS96bm96YG45YWn5a6544CB5reo5YyW5pCc57Si54ax6ZaA44CB5reo5YyW5qiZ6aGM5raI5oGv44CB572u6aCC6aGv56S65pmC6ZaT44CB5a6M5pW05ZWP6aGM5pmC6ZaT44CB5Y2A5YiG5ZWP6aGM5paH56ug44CB6buY6KqN6auY5riF5Y6f5ZyW44CB6buY6KqN56uZ5aSW55u06Y+ILi4uCi8vIEBkZXNjcmlwdGlvbjplbiAgQSBtb3JlIHBlcnNvbmFsaXplZCBaaGlodSBleHBlcmllbmNlfgovLyBAbWF0Y2ggICAgICAgICo6Ly93d3cuemhpaHUuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vemh1YW5sYW4uemhpaHUuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICBodHRwczovL3d3dy56aGlodS5jb20vc2lnbmluKgovLyBAaWNvbiAgICAgICAgIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUZvMGxFUVZSNG5KV1hUNGhsVnhIR2Y5L3RKeVl1ekp0eEl6aVFOOFJCRkRFdElXQjBNVytNaTRDSWs0VXVBdHF2QXhQY3FBa0pSTnhNc2hEVVRjOHMzVGpkTzNjOVFiSUtvZCtvNENJdVp0UkZERWkzRUlnRU0vMDJqcFBJUForTHFuUHY2VGVCNElITFBmZWVQMVgxMVZkVjU0aTJ2ZXd0T2hhSVRjUURkRWdkdGhBZElOQUdOa2dkMElFVmJ3UjE3ckFteDFUbmlTVmlsNmUwVjBVS2dKYzhwV2RmRzV5dndxUmhzMUZRSXlRM3RydmNweHNWR2Q0eGYvZ2VsTzI0eVYwdXNLMVZCNkFQT01ETUtTQURCU2hJQldOd2oxV3dqQ2xBekxFTDBDTWM4NmpqOWNsL0xnUnM4WmpDSnZleEg1ci94QXVKYTI2MFRhdEc2RG9zSWVlNGxITzBabldEWEg1YmdZUTh1cWwxMjJJaXMyWG5qNEp0Ukg2NzVBSUhNQVFLdUFzZHJMVjNkWVhUd1E3QmlyMWpyekorV3l3Njk4eVZrTG1neGdWZytQR2pjUHc4ekQ2SktjZ0ZVY0Q5NEFvTmEwZVhrTzYwMGxWcVhPUHFQclBaTlQ2dGp5bFlCUlpmZ3AwbjRHZ0ZSN2REa0VpZWVOeXM2WlBDQnE0TUNpY1hkRkxXZElLQkh0TUZmQzRKWThIZi9ueEV5WTBqbUQrSU03Q2d5NzdneHR0bytqRjQrTk1qOCt0WTg0WU9MZDhKblpKUHBpRHhJN3NoVWlnaW1KMkd3eGY1eUxiOWFyeXZmZk9qNStwWEtiekpEeE9Wb0l3N1JFa0xoZWRubzcrNkN6ZmZnZGtwbUUzeis1L05ycTdKSk1mZWpjM2JOaitUblQ0dFR5UnRtTGlBbEFSS2xpSzA5VWlzMmZzVFBQY3F2dndOZFBseHVQNG1iTytQNGFRT2J6MGNHOTU4Rjc3K214TUpoOWtEY1BoMElwQ2NVSWVycXljWXVjOEZHWDd6Y3pCL0NJNk80Y29mQUE5R2p1UmpVRmhOMkkwaG1JU2xORkNVekNHTVNreHFmRkp3M1hENmNYanVPdDU3QTFZZnBNL0tTU0VxWTl6TG80dzBwc0xzVm5rbnloa1ZZZ05QTWxSUWgrcUU2MytHU3NhQm9LMlZKY2RUS1RjS0RMbWhBL28xQkRLRkt6S2wzYU9KY29OQnUzU0hBQWU0YWh3d0tnQmtGUmhkTU1JYzZDaHpmK1ZwaHJ1VDZ1cndaQmgxYUVRWGpMLzJmWmlkSG9WUDc0LzN4UzhHUDFJQkxRL2h4dUdvbkNMRnhwWktqdFRwRHBSclNqWXdZYTJwNEdjdm9QbTU5WkZVNUw1NGFwdlA0TVpoWTJYSk1oMXUrREIwUWs3eWJhSVIyRUdIbDM0TFYxL0hHVTVDc1A4TWJINEdudncxdlBKWDdHNDhwR3cvT2lMZ3lvRUtmNFBBWUgwZjZWdGRJT0FtbHdDd3VnT3JPMG1ET0hSb2Rqckcvdkd2OUh2eVFFcHJSd1FqUEIzcldnNW9YQk5SMEErVmYyd3RKd0RaYVA1WlBMMGZWditCNHp0bzV5SmpLSzZSMENVUE1JN0s2alVFc2dwS0dZcVR3WHBuZUdpRXhLblI0aXVaNmQ2R2d4L0M3Rk53ZEJ1dS9DNlJPQm1pVVUvNlBEdVdoaDl0RXNzUUh4RlFWbG1QM3dLZlBZMjNIb3RmZTMrRXE4dFlmL2tKbUUyamRLOHBJUFdKVERtSkFGbXExV2U1N2lObkRRb2w5SFdGRGJyOHJmZzhlZytXYjhLVjE5RHlyUWpMYTA4aE5hbDQvaEQ0bDNEK0xOci9IdmhuY1BoQzQ5K0V2NTQ3NURIZmVVampHclB0NGpIWSt1cGd2Wk9BUEwwWFJKMmZnd2RQTlM3SWR2QUR1UGdGN20xNVVERURPaGFYWEtRVDZSeUF6VE53OER4TVB4SFduLzFwNk9iTWpjOCtEanZmaFZNdndPcjlFY0xqbndjNlYzOFBMNzhHcTd2WUc4UEJ4QXFUelViSW5Kd29HdGxiZkEzdGZDZUVMLzhHMjNzWkVhQU1JVjk5SFcyZWdkVy9tOUlzL01wZjBPNGJzUHc3dFk0b3MrT0FidVVYSFpLZThXM2dWRExlRWpyL3VUZ1JIYjBIeTdmeWYwUFVRZDJZSDRlWmVzclJtTUJxRGhGNWdSRmlJeFNSUW9HSnhTMEtjOFhOUlNhc0hscVN0T1ozTmYxYUtWUXpJS2tNemVIVEdaYVJvRXpXbXl4SXl3NnpXNkZSUTZjMk5hcEM1cENqdUFsNStPZDdUcnU0MXZ4YWdFcFRPZU4wTEFxN29lMGxIMERlQzZ1VkgwTGl0bzAza2JWVW5tU3JwK3lFLzk2N1k4ZE5mcUV2ZHdEK0wwOWEzQnJnYnFBL0laUzRING9zTEUzbUhsRHpZQjMwaVVKN1h3d2tscnpQaFhXazRaSVhkR3hST00vL2cwWmJRcktYVnphMEVRY1FpV052Y0l1T1hYYkc2L24vQUF3aExETzlIYXFCQUFBQUFFbEZUa1N1UW1DQwovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9ub3RpZmljYXRpb24KLy8gQGdyYW50ICAgICAgICBHTV9pbmZvCi8vIEBncmFudCAgICAgICAgd2luZG93Lm9udXJsY2hhbmdlCi8vIEBzYW5kYm94ICAgICAgSmF2YVNjcmlwdAovLyBAbGljZW5zZSAgICAgIEdQTC0zLjAgTGljZW5zZQovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWVuZAovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80MTIyMDUxCi8vIEBzdXBwb3J0VVJMICAgaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdAovLyBAaG9tZXBhZ2VVUkwgIGh0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQKLy8gQGRvd25sb2FkVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDE5MDgxLyVFNyU5RiVBNSVFNCVCOSU4RSVFNSVBMiU5RSVFNSVCQyVCQS51c2VyLmpzCi8vIEB1cGRhdGVVUkwgaHR0cHM6Ly91cGRhdGUuZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80MTkwODEvJUU3JTlGJUE1JUU0JUI5JThFJUU1JUEyJTlFJUU1JUJDJUJBLm1ldGEuanMKLy8gPT0vVXNlclNjcmlwdD09CgondXNlIHN0cmljdCc7CnZhciBtZW51X0FMTCA9IFsKICAgIFsnbWVudV9kZWZhdWx0Q29sbGFwc2VkQW5zd2VyJywgJ+m7mOiupOaUtui1t+WbnuetlCcsICfpu5jorqTmlLbotbflm57nrZQnLCB0cnVlXSwKICAgIFsnbWVudV9jb2xsYXBzZWRBbnN3ZXInLCAn5LiA6ZSu5pS26LW35Zue562UL+ivhOiuuicsICfkuIDplK7mlLbotbflm57nrZQv6K+E6K66JywgdHJ1ZV0sCiAgICBbJ21lbnVfY29sbGFwc2VkTm93QW5zd2VyJywgJ+W/q+aNt+aUtui1t+WbnuetlC/or4TorrogKOeCueWHu+S4pOS+p+epuueZveWkhCknLCAn5b+r5o235pS26LW35Zue562UL+ivhOiuuicsIHRydWVdLAogICAgWydtZW51X2JhY2tUb1RvcCcsICflv6vmjbflm57liLDpobbpg6ggKOWPs+mUruS4pOS+p+epuueZveWkhCknLCAn5b+r5o235Zue5Yiw6aG26YOoJywgdHJ1ZV0sCiAgICBbJ21lbnVfYmxvY2tVc2VycycsICflsY/olL3mjIflrprnlKjmiLcnLCAn5bGP6JS95oyH5a6a55So5oi3JywgdHJ1ZV0sCiAgICBbJ21lbnVfY3VzdG9tQmxvY2tVc2VycycsICfoh6rlrprkuYnlsY/olL3nlKjmiLcnLCAn6Ieq5a6a5LmJ5bGP6JS955So5oi3JywgWyfmlYXkuovmoaPmoYjlsYAnLCAn55uQ6YCJ5o6o6I2QJywgJ+ebkOmAieenkeaZricsICfnm5DpgInmiJDplb/orqHliJInLCAn55+l5LmO55uQ6YCJ5Lya5ZGYJywgJ+efpeS5juebkOmAieWIm+S9nOiAhScsICfnm5DpgInlv4PnkIYnLCAn55uQ6YCJ5YGl5bq35b+F5L+u6K++JywgJ+ebkOmAieWlh+WmmeeJqeivrScsICfnm5DpgInnlJ/mtLvppoYnLCAn55uQ6YCJ6IGM5Zy6JywgJ+ebkOmAieaWh+WtpueUhOmAiScsICfnm5DpgInkvZzogIXlsI/nrqHlrrYnLCAn55uQ6YCJ5Y2a54mp6aaGJywgJ+ebkOmAieeCuemHkScsICfnm5DpgInmtYvor4TlrqQnLCAn55uQ6YCJ56eR5oqA5YmN5rK/JywgJ+ebkOmAieS8muWRmOeyvuWTgSddXSwKICAgIFsnbWVudV9ibG9ja0tleXdvcmRzJywgJ+Wxj+iUveaMh+WumuWFs+mUruivjScsICflsY/olL3mjIflrprlhbPplK7or40nLCB0cnVlXSwKICAgIFsnbWVudV9jdXN0b21CbG9ja0tleXdvcmRzJywgJ+iHquWumuS5ieWxj+iUveWFs+mUruivjScsICfoh6rlrprkuYnlsY/olL3lhbPplK7or40nLCBbXV0sCiAgICBbJ21lbnVfYmxvY2tUeXBlJywgJ+Wxj+iUveaMh+Wumuexu+WIqyAo6KeG6aKRL+aWh+eroOetiSknLCAn5Yu+6YCJID0g5bGP6JS96K+l57G75Yir55qE5L+h5oGv5rWBJywgJyddLAogICAgWydtZW51X2Jsb2NrVHlwZVZpZGVvJywgJ+inhumikSBb6aaW6aG144CB5pCc57Si6aG144CB6Zeu6aKY6aG1XScsICfop4bpopHvvIjpppbpobXjgIHmkJzntKLpobXjgIHpl67popjpobXvvIknLCB0cnVlXSwKICAgIFsnbWVudV9ibG9ja1R5cGVBcnRpY2xlJywgJ+aWh+eroCBb6aaW6aG144CB5pCc57Si6aG1XScsICfmlofnq6DvvIjpppbpobXjgIHmkJzntKLpobXvvIknLCBmYWxzZV0sCiAgICBbJ21lbnVfYmxvY2tUeXBlUGluJywgJ+aDs+azlSBb6aaW6aG1XScsICfmg7Pms5XvvIjpppbpobXvvIknLCBmYWxzZV0sCiAgICBbJ21lbnVfYmxvY2tUeXBlVG9waWMnLCAn6K+d6aKYIFvmkJzntKLpobVdJywgJ+ivnemimO+8iOaQnOe0oumhte+8iScsIGZhbHNlXSwKICAgIFsnbWVudV9ibG9ja1R5cGVTZWFyY2gnLCAn5p2C5b+X5paH56ug44CB55uQ6YCJ5LiT5qCP44CB55u45YWz5pCc57Si562JIFvmkJzntKLpobVdJywgJ+ebuOWFs+aQnOe0ouOAgeadguW/l+OAgeebkOmAieetie+8iOaQnOe0oumhte+8iScsIGZhbHNlXSwKICAgIFsnbWVudV9ibG9ja1lhblh1YW4nLCAn55uQ6YCJ5YaF5a65IFvpl67popjpobVdJywgJ+ebkOmAieWGheWuue+8iOmXrumimOmhte+8iScsIGZhbHNlXSwKICAgIFsnbWVudV9ibG9ja1R5cGVMaXZlSG90JywgJ+eDreamnOaWh+eroOOAgeebtOaSreOAgeW5v+WRiuetiSBb54Ot5qacXScsICfng63mppzmlofnq6DjgIHnm7Tmkq3jgIHlub/lkYrnrYkgW+eDreamnF0nLCB0cnVlXSwKICAgIFsnbWVudV9jbGVhblNlYXJjaCcsICflh4DljJbmkJzntKLng63pl6ggKOm7mOiupOaQnOe0ouivjeWPiueDremXqOaQnOe0oiknLCAn5YeA5YyW5pCc57Si54Ot6ZeoJywgZmFsc2VdLAogICAgWydtZW51X2NsZWFuVGl0bGVzJywgJ+WHgOWMluagh+mimOa2iOaBryAo5qCH6aKY5Lit55qE56eB5L+hL+a2iOaBryknLCAn5YeA5YyW5qCH6aKY5o+Q6YaSJywgZmFsc2VdLAogICAgWydtZW51X3F1ZXN0aW9uUmljaFRleHRNb3JlJywgJ+WxleW8gOmXrumimOaPj+i/sCcsICflsZXlvIDpl67popjmj4/ov7AnLCBmYWxzZV0sCiAgICBbJ21lbnVfcHVibGlzaFRvcCcsICfnva7pobbmmL7npLrml7bpl7QnLCAn572u6aG25pi+56S65pe26Ze0JywgdHJ1ZV0sCiAgICBbJ21lbnVfdHlwZVRpcHMnLCAn5Yy65YiG6Zeu6aKY5paH56ugJywgJ+WMuuWIhumXrumimOaWh+eroCcsIHRydWVdLAogICAgWydtZW51X3RvUXVlc3Rpb24nLCAn55u06L6+6Zeu6aKY5oyJ6ZKuJywgJ+ebtOi+vumXrumimOaMiemSricsIHRydWVdCl0sIG1lbnVfSUQgPSBbXTsKZm9yIChsZXQgaT0wO2k8bWVudV9BTEwubGVuZ3RoO2krKyl7IC8vIOWmguaenOivu+WPluWIsOeahOWAvOS4uiBudWxsIOWwseWGmeWFpem7mOiupOWAvAogICAgaWYgKEdNX2dldFZhbHVlKG1lbnVfQUxMW2ldWzBdKSA9PSBudWxsKXtHTV9zZXRWYWx1ZShtZW51X0FMTFtpXVswXSwgbWVudV9BTExbaV1bM10pfTsKfQpyZWdpc3Rlck1lbnVDb21tYW5kKCk7CgovLyDms6jlhozohJrmnKzoj5zljZUKZnVuY3Rpb24gcmVnaXN0ZXJNZW51Q29tbWFuZCgpIHsKICAgIGlmIChtZW51X0lELmxlbmd0aCA+IG1lbnVfQUxMLmxlbmd0aCl7IC8vIOWmguaenOiPnOWNlUlE5pWw57uE5aSa5LqO6I+c5Y2V5pWw57uE77yM6K+05piO5LiN5piv6aaW5qyh5re75Yqg6I+c5Y2V77yM6ZyA6KaB5Y246L295omA5pyJ6ISa5pys6I+c5Y2VCiAgICAgICAgZm9yIChsZXQgaT0wO2k8bWVudV9JRC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKG1lbnVfSURbaV0pOwogICAgICAgIH0KICAgIH0KICAgIGZvciAobGV0IGk9MDtpPG1lbnVfQUxMLmxlbmd0aDtpKyspeyAvLyDlvqrnjq/ms6jlhozohJrmnKzoj5zljZUKICAgICAgICBtZW51X0FMTFtpXVszXSA9IEdNX2dldFZhbHVlKG1lbnVfQUxMW2ldWzBdKTsKICAgICAgICBpZiAobWVudV9BTExbaV1bMF0gPT09ICdtZW51X2N1c3RvbUJsb2NrVXNlcnMnKSB7CiAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVXNlcnMnKSkgbWVudV9JRFtpXSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCPvuI/ig6MgJHttZW51X0FMTFtpXVsxXX1gLCBmdW5jdGlvbigpe2N1c3RvbUJsb2NrVXNlcnMoKX0pOwogICAgICAgIH0gZWxzZSBpZiAobWVudV9BTExbaV1bMF0gPT09ICdtZW51X2N1c3RvbUJsb2NrS2V5d29yZHMnKSB7CiAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrS2V5d29yZHMnKSkgbWVudV9JRFtpXSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCPvuI/ig6MgJHttZW51X0FMTFtpXVsxXX1gLCBmdW5jdGlvbigpe2N1c3RvbUJsb2NrS2V5d29yZHMoKX0pOwogICAgICAgIH0gZWxzZSBpZiAobWVudV9BTExbaV1bMF0gPT09ICdtZW51X2Jsb2NrVHlwZScpIHsKICAgICAgICAgICAgbWVudV9JRFtpXSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCPvuI/ig6MgJHttZW51X0FMTFtpXVsxXX1gLCBmdW5jdGlvbigpe21lbnVfc2V0dGluZygnY2hlY2tib3gnLCBtZW51X0FMTFtpXVsxXSwgbWVudV9BTExbaV1bMl0sIHRydWUsIFttZW51X0FMTFtpKzFdLCBtZW51X0FMTFtpKzJdLCBtZW51X0FMTFtpKzNdLCBtZW51X0FMTFtpKzRdLCBtZW51X0FMTFtpKzVdLCBtZW51X0FMTFtpKzZdLCBtZW51X0FMTFtpKzddXSl9KTsKICAgICAgICB9IGVsc2UgaWYgKG1lbnVfQUxMW2ldWzBdICE9ICdtZW51X2Jsb2NrVHlwZVZpZGVvJyAmJiBtZW51X0FMTFtpXVswXSAhPSAnbWVudV9ibG9ja1R5cGVBcnRpY2xlJyAmJiBtZW51X0FMTFtpXVswXSAhPSAnbWVudV9ibG9ja1R5cGVQaW4nICYmIG1lbnVfQUxMW2ldWzBdICE9ICdtZW51X2Jsb2NrVHlwZVRvcGljJyAmJiBtZW51X0FMTFtpXVswXSAhPSAnbWVudV9ibG9ja1R5cGVTZWFyY2gnICYmIG1lbnVfQUxMW2ldWzBdICE9ICdtZW51X2Jsb2NrWWFuWHVhbicgJiYgbWVudV9BTExbaV1bMF0gIT0gJ21lbnVfYmxvY2tUeXBlTGl2ZUhvdCcpIHsKICAgICAgICAgICAgbWVudV9JRFtpXSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCR7bWVudV9BTExbaV1bM10/J+KchSc6J+KdjCd9ICR7bWVudV9BTExbaV1bMV19YCwgZnVuY3Rpb24oKXttZW51X3N3aXRjaChgJHttZW51X0FMTFtpXVszXX1gLGAke21lbnVfQUxMW2ldWzBdfWAsYCR7bWVudV9BTExbaV1bMl19YCl9KTsKICAgICAgICB9CiAgICB9CiAgICBtZW51X0lEW21lbnVfSUQubGVuZ3RoXSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoJ/Cfkqwg5Y+N6aaIICYg5bu66K6uJywgZnVuY3Rpb24gKCkge3dpbmRvdy5HTV9vcGVuSW5UYWIoJ2h0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQjeGl1MnVzZXJzY3JpcHQnLCB7YWN0aXZlOiB0cnVlLGluc2VydDogdHJ1ZSxzZXRQYXJlbnQ6IHRydWV9KTt3aW5kb3cuR01fb3BlbkluVGFiKCdodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDE5MDgxL2ZlZWRiYWNrJywge2FjdGl2ZTogdHJ1ZSxpbnNlcnQ6IHRydWUsc2V0UGFyZW50OiB0cnVlfSk7fSk7Cn0KCgovLyDoj5zljZXlvIDlhbMKZnVuY3Rpb24gbWVudV9zd2l0Y2gobWVudV9zdGF0dXMsIE5hbWUsIFRpcHMpIHsKICAgIGlmIChtZW51X3N0YXR1cyA9PSAndHJ1ZScpewogICAgICAgIEdNX3NldFZhbHVlKGAke05hbWV9YCwgZmFsc2UpOwogICAgICAgIEdNX25vdGlmaWNhdGlvbih7dGV4dDogYOW3suWFs+mXrSBbJHtUaXBzfV0g5Yqf6IO9XG7vvIjngrnlh7vliLfmlrDnvZHpobXlkI7nlJ/mlYjvvIlgLCB0aW1lb3V0OiAzNTAwLCBvbmNsaWNrOiBmdW5jdGlvbigpe2xvY2F0aW9uLnJlbG9hZCgpO319KTsKICAgIH1lbHNlewogICAgICAgIEdNX3NldFZhbHVlKGAke05hbWV9YCwgdHJ1ZSk7CiAgICAgICAgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg5bey5byA5ZCvIFske1RpcHN9XSDlip/og71cbu+8iOeCueWHu+WIt+aWsOe9kemhteWQjueUn+aViO+8iWAsIHRpbWVvdXQ6IDM1MDAsIG9uY2xpY2s6IGZ1bmN0aW9uKCl7bG9jYXRpb24ucmVsb2FkKCk7fX0pOwogICAgfQogICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKfTsKCgovLyDov5Tlm57oj5zljZXlgLwKZnVuY3Rpb24gbWVudV92YWx1ZShtZW51TmFtZSkgewogICAgZm9yIChsZXQgbWVudSBvZiBtZW51X0FMTCkgewogICAgICAgIGlmIChtZW51WzBdID09IG1lbnVOYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBtZW51WzNdCiAgICAgICAgfQogICAgfQp9CgoKLy8g6ISa5pys6K6+572uCmZ1bmN0aW9uIG1lbnVfc2V0dGluZyh0eXBlLCB0aXRsZSwgdGlwcywgbGluZSwgbWVudSkgewogICAgbGV0IF9iciA9ICcnLCBfaHRtbCA9IGA8c3R5bGUgY2xhc3M9InpoaWh1RV9TZXR0aW5nU3R5bGUiPi56aGlodUVfU2V0dGluZ1Jvb3Qge3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDUwJTtsZWZ0OiA1MCU7LXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTstbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOy1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTstby10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt3aWR0aDogYXV0bzttaW4td2lkdGg6IDQwMHB4O21heC13aWR0aDogNjAwcHg7aGVpZ2h0OiBhdXRvO21pbi1oZWlnaHQ6IDE1MHB4O21heC1oZWlnaHQ6IDQwMHB4O2NvbG9yOiAjNTM1MzUzO2JhY2tncm91bmQtY29sb3I6ICNmZmY7Ym9yZGVyLXJhZGl1czogM3B4O30KLnpoaWh1RV9TZXR0aW5nQmFja2Ryb3BfMSB7cG9zaXRpb246IGZpeGVkO3RvcDogMDtyaWdodDogMDtib3R0b206IDA7bGVmdDogMDt6LWluZGV4OiAyMDM7ZGlzcGxheTogLXdlYmtpdC1ib3g7ZGlzcGxheTogLW1zLWZsZXhib3g7ZGlzcGxheTogZmxleDstd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsOy13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsOy1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uO2ZsZXgtZGlyZWN0aW9uOiBjb2x1bW47LXdlYmtpdC1ib3gtcGFjazogY2VudGVyOy1tcy1mbGV4LXBhY2s6IGNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtvdmVyZmxvdy14OiBoaWRkZW47b3ZlcmZsb3cteTogYXV0bzstd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjNzIGVhc2Utb3V0O3RyYW5zaXRpb246IG9wYWNpdHkgLjNzIGVhc2Utb3V0O30KLnpoaWh1RV9TZXR0aW5nQmFja2Ryb3BfMiB7cG9zaXRpb246IGFic29sdXRlO3RvcDogMDtyaWdodDogMDtib3R0b206IDA7bGVmdDogMDt6LWluZGV4OiAwO2JhY2tncm91bmQtY29sb3I6IHJnYmEoMTgsMTgsMTgsLjY1KTstd2Via2l0LXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjNzIGVhc2Utb3V0O3RyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjNzIGVhc2Utb3V0O30KLnpoaWh1RV9TZXR0aW5nUm9vdCAuemhpaHVFX1NldHRpbmdIZWFkZXIge3BhZGRpbmc6IDEwcHggMjBweDtjb2xvcjogI2ZmZjtmb250LXdlaWdodDogYm9sZDtiYWNrZ3JvdW5kLWNvbG9yOiAjMzk5NGZmO2JvcmRlci1yYWRpdXM6IDNweCAzcHggMCAwO30KLnpoaWh1RV9TZXR0aW5nUm9vdCAuemhpaHVFX1NldHRpbmdNYWluIHtwYWRkaW5nOiAxMHB4IDIwcHg7Ym9yZGVyLXJhZGl1czogMCAwIDNweCAzcHg7fQouemhpaHVFX1NldHRpbmdIZWFkZXIgc3BhbiB7ZmxvYXQ6IHJpZ2h0O2N1cnNvcjogcG9pbnRlcjt9Ci56aGlodUVfU2V0dGluZ01haW4gaW5wdXQge21hcmdpbjogMTBweCA2cHggMTBweCAwO2N1cnNvcjogcG9pbnRlcjt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9Ci56aGlodUVfU2V0dGluZ01haW4gbGFiZWwge21hcmdpbi1yaWdodDogMjBweDt1c2VyLXNlbGVjdDogbm9uZTtjdXJzb3I6IHBvaW50ZXI7dmVydGljYWwtYWxpZ246bWlkZGxlfQouemhpaHVFX1NldHRpbmdNYWluIGhyIHtib3JkZXI6IDAuNXB4IHNvbGlkICNmNGY0ZjQ7fQpbZGF0YS10aGVtZT0iZGFyayJdIC56aGlodUVfU2V0dGluZ1Jvb3Qge2NvbG9yOiAjYWRiYWM3O2JhY2tncm91bmQtY29sb3I6ICMzNDNBNDQ7fQpbZGF0YS10aGVtZT0iZGFyayJdIC56aGlodUVfU2V0dGluZ0hlYWRlciB7Y29sb3I6ICNkMGQwZDA7YmFja2dyb3VuZC1jb2xvcjogIzJEMzMzQjt9CltkYXRhLXRoZW1lPSJkYXJrIl0gLnpoaWh1RV9TZXR0aW5nTWFpbiBociB7Ym9yZGVyOiAwLjVweCBzb2xpZCAjMmQzMzNiO308L3N0eWxlPgogICAgICAgIDxkaXYgY2xhc3M9InpoaWh1RV9TZXR0aW5nQmFja2Ryb3BfMSI+PGRpdiBjbGFzcz0iemhpaHVFX1NldHRpbmdCYWNrZHJvcF8yIj48L2Rpdj48ZGl2IGNsYXNzPSJ6aGlodUVfU2V0dGluZ1Jvb3QiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ6aGlodUVfU2V0dGluZ0hlYWRlciI+JHt0aXRsZX08c3BhbiBjbGFzcz0iemhpaHVFX1NldHRpbmdDbG9zZSIgdGl0bGU9IueCueWHu+WFs+mXrSI+PHN2ZyBjbGFzcz0iWmkgWmktLUNsb3NlIE1vZGFsLWNsb3NlSWNvbiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTEzLjQ4NiAxMmw1LjIwOC01LjIwN2ExLjA0OCAxLjA0OCAwIDAgMC0uMDA2LTEuNDgzIDEuMDQ2IDEuMDQ2IDAgMCAwLTEuNDgyLS4wMDVMMTIgMTAuNTE0IDYuNzkzIDUuMzA1YTEuMDQ4IDEuMDQ4IDAgMCAwLTEuNDgzLjAwNSAxLjA0NiAxLjA0NiAwIDAgMC0uMDA1IDEuNDgzTDEwLjUxNCAxMmwtNS4yMDggNS4yMDdhMS4wNDggMS4wNDggMCAwIDAgLjAwNiAxLjQ4MyAxLjA0NiAxLjA0NiAwIDAgMCAxLjQ4Mi4wMDVMMTIgMTMuNDg2bDUuMjA3IDUuMjA4YTEuMDQ4IDEuMDQ4IDAgMCAwIDEuNDgzLS4wMDYgMS4wNDYgMS4wNDYgMCAwIDAgLjAwNS0xLjQ4MkwxMy40ODYgMTJ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48L3N2Zz48L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InpoaWh1RV9TZXR0aW5nTWFpbiI+PHA+JHt0aXBzfTwvcD48aHI+YAogICAgaWYgKGxpbmUpIF9iciA9ICc8YnI+JwogICAgZm9yIChsZXQgaT0wOyBpPG1lbnUubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoR01fZ2V0VmFsdWUobWVudVtpXVswXSkpIHsKICAgICAgICAgICAgX2h0bWwgKz0gYDxsYWJlbD48aW5wdXQgbmFtZT0iemhpaHVFX1NldHRpbmciIHR5cGU9ImNoZWNrYm94IiB2YWx1ZT0iJHttZW51W2ldWzBdfSIgY2hlY2tlZD0iY2hlY2tlZCI+JHttZW51W2ldWzFdfTwvbGFiZWw+JHtfYnJ9YAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9odG1sICs9IGA8bGFiZWw+PGlucHV0IG5hbWU9InpoaWh1RV9TZXR0aW5nIiB0eXBlPSJjaGVja2JveCIgdmFsdWU9IiR7bWVudVtpXVswXX0iPiR7bWVudVtpXVsxXX08L2xhYmVsPiR7X2JyfWAKICAgICAgICB9CiAgICB9CiAgICBfaHRtbCArPSBgPC9kaXY+PC9kaXY+PC9kaXY+YAogICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIF9odG1sKTsgLy8g5o+S5YWl572R6aG15pyr5bC+CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAvLyDlu7bov58gMTAwIOavq+enku+8jOmBv+WFjeWkquW/qwogICAgICAgIC8vIOWFs+mXreaMiemSriDngrnlh7vkuovku7YKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuemhpaHVFX1NldHRpbmdDbG9zZScpLm9uY2xpY2sgPSBmdW5jdGlvbigpe3RoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpoaWh1RV9TZXR0aW5nU3R5bGUnKS5yZW1vdmUoKTt9CiAgICAgICAgLy8g54K55Ye75ZGo5Zu056m655m95aSEID0g54K55Ye75YWz6Zet5oyJ6ZKuCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpoaWh1RV9TZXR0aW5nQmFja2Ryb3BfMicpLm9uY2xpY2sgPSBmdW5jdGlvbihldmVudCl7aWYgKGV2ZW50LnRhcmdldCA9PSB0aGlzKSB7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpoaWh1RV9TZXR0aW5nQ2xvc2UnKS5jbGljaygpO307fQogICAgICAgIC8vIOWkjemAieahhiDngrnlh7vkuovku7YKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnemhpaHVFX1NldHRpbmcnKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja0JveCkgewogICAgICAgICAgICBjaGVja0JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7aWYgKHRoaXMuY2hlY2tlZCkge0dNX3NldFZhbHVlKHRoaXMudmFsdWUsIHRydWUpO30gZWxzZSB7R01fc2V0VmFsdWUodGhpcy52YWx1ZSwgZmFsc2UpO319KTsKICAgICAgICB9KQogICAgfSwgMTAwKQp9CgoKLy8g5re75Yqg5pS26LW35Zue562U6KeC5a+f5ZmoCmZ1bmN0aW9uIGdldENvbGxhcHNlZEFuc3dlck9ic2VydmVyKCkgewogICAgaWYgKCF3aW5kb3cuX2NvbGxhcHNlZEFuc3dlck9ic2VydmVyKSB7CiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4gewogICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykgewogICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnRhcmdldC5oYXNBdHRyaWJ1dGUoJ3NjcmlwdC1jb2xsYXBzZWQnKSkgcmV0dXJuCiAgICAgICAgICAgICAgICAvLyDnn63nmoTlm57nrZQKICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdSaWNoQ29udGVudCcpKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhZGRlZE5vZGUgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWROb2RlLm5vZGVUeXBlICE9IE5vZGUuRUxFTUVOVF9OT0RFKSBjb250aW51ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWROb2RlLmNsYXNzTmFtZSAhPSAnUmljaENvbnRlbnQtaW5uZXInKSBjb250aW51ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWROb2RlLm9mZnNldEhlaWdodCA8IDQwMCkgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnMTExJyxhZGRlZE5vZGUsIGFkZGVkTm9kZS5jbGFzc0xpc3QsIGFkZGVkTm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ1JpY2hDb250ZW50LWlubmVyJyksIGFkZGVkTm9kZS5vZmZzZXRIZWlnaHQsIGFkZGVkTm9kZS50ZXh0Q29udGVudC5sZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IG11dGF0aW9uLnRhcmdldC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tYWN0aW9ucy5TdGlja3kgW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3NjcmlwdC1jb2xsYXBzZWQnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g6ZW/55qE5Zue562UCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG11dGF0aW9uLnRhcmdldC50YWdOYW1lID09PSAnRElWJyAmJiAhbXV0YXRpb24udGFyZ2V0LnN0eWxlLmNzc1RleHQgJiYgIW11dGF0aW9uLnRhcmdldC5jbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udGFyZ2V0LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdzY3JpcHQtY29sbGFwc2VkJykpIHJldHVybgogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzIyMicsbXV0YXRpb24udGFyZ2V0LCBtdXRhdGlvbi50YXJnZXQucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLWFjdGlvbnMuU3RpY2t5IFtkYXRhLXpvcC1yZXRyYWN0LXF1ZXN0aW9uXScpKQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IG11dGF0aW9uLnRhcmdldC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tYWN0aW9ucy5TdGlja3kgW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbi50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NjcmlwdC1jb2xsYXBzZWQnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgICBvYnNlcnZlci5zdGFydCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIXRoaXMuX2FjdGl2ZSkgewogICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgb2JzZXJ2ZXIuZW5kID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHsKICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXJsY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIG9ic2VydmVyW2xvY2F0aW9uLmhyZWYuaW5kZXhPZignL2Fuc3dlci8nKSA9PT0gLTEgPyAnc3RhcnQnIDogJ2VuZCddKCk7CiAgICAgICAgfSkKICAgICAgICB3aW5kb3cuX2NvbGxhcHNlZEFuc3dlck9ic2VydmVyID0gb2JzZXJ2ZXI7CiAgICB9CiAgICByZXR1cm4gd2luZG93Ll9jb2xsYXBzZWRBbnN3ZXJPYnNlcnZlcgp9CgoKLy8g6buY6K6k5pS26LW35Zue562UCmZ1bmN0aW9uIGRlZmF1bHRDb2xsYXBzZWRBbnN3ZXIoKSB7CiAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfZGVmYXVsdENvbGxhcHNlZEFuc3dlcicpKSByZXR1cm4KICAgIGNvbnN0IG9ic2VydmVyID0gZ2V0Q29sbGFwc2VkQW5zd2VyT2JzZXJ2ZXIoKTsKICAgIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoJy9hbnN3ZXIvJykgPT09IC0xKSB7CiAgICAgICAgb2JzZXJ2ZXIuc3RhcnQoKTsKICAgIH0KfQoKCi8vIOS4gOmUruaUtui1t+WbnuetlCvor4TorrrvvIjlhajpg6jvvIkKZnVuY3Rpb24gY29sbGFwc2VkQW5zd2VyKCkgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2NvbGxhcHNlZEFuc3dlcicpKSByZXR1cm4KICAgIC8vY29uc29sZS5sb2coJzExMTEnLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29ybmVyQW5pbWF5ZWRGbGV4JykpCiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkNvcm5lckFuaW1heWVkRmxleCcpICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sbGFwc2VkLWJ1dHRvbicpKSB7CiAgICAgICAgLy8g5ZCR572R6aG15Lit5o+S5YWl5pS26LW35YWo6YOo5Zue562U5oyJ6ZKuK+agt+W8jyvnu5Hlrprngrnlh7vkuovku7YKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJy5Db3JuZXJCdXR0b257bWFyZ2luLWJvdHRvbTo4cHggIWltcG9ydGFudDt9LkNvcm5lckJ1dHRvbnN7Ym90dG9tOjQ1cHggIWltcG9ydGFudDt9JzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29ybmVyQW5pbWF5ZWRGbGV4JykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckJlZ2luJywgJzxidXR0b24gaWQ9ImNvbGxhcHNlZC1idXR0b24iIGRhdGEtdG9vbHRpcD0i5pS26LW35YWo6YOo5Zue562UL+ivhOiuuiIgZGF0YS10b29sdGlwLXBvc2l0aW9uPSJsZWZ0IiBkYXRhLXRvb2x0aXAtd2lsbC1oaWRlLW9uLWNsaWNrPSJmYWxzZSIgYXJpYS1sYWJlbD0i5pS26LW35YWo6YOo5Zue562UL+ivhOiuuiIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iJyArIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Db3JuZXJBbmltYXllZEZsZXg+YnV0dG9uJykuY2xhc3NOYW1lICsgJyI+PHN2ZyBjbGFzcz0iQ29udGVudEl0ZW0tYXJyb3dJY29uIGlzLWFjdGl2ZSIgYXJpYS1sYWJlbD0i5pS26LW35YWo6YOo5Zue562UL+ivhOiuuiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE2LjAzNiAxOS41OWExIDEgMCAwIDEtLjk5Ny45OTVIOS4wMzJhLjk5Ni45OTYgMCAwIDEtLjk5Ny0uOTk2di03LjAwNUg1LjAzYy0xLjEgMC0xLjM2LS42MzMtLjU3OC0xLjQxNkwxMS4zMyA0LjI5YTEuMDAzIDEuMDAzIDAgMCAxIDEuNDEyIDBsNi44NzggNi44OGMuNzgyLjc4LjUyMyAxLjQxNS0uNTggMS40MTVoLTMuMDA0djcuMDA1eiI+PC9wYXRoPjwvc3ZnPjwvYnV0dG9uPicpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xsYXBzZWQtYnV0dG9uJykub25jbGljayA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIC8vIOaUtui1t+aJgOacieivhOiuuu+8iOaCrOa1rueahCBb5pS26LW36K+E6K66Xe+8iQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuQ29tbWVudHMtY29udGFpbmVyJykuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgIGxldCBjb21tZW50Q29sbGFwc2VCdXR0b24gPSBnZXRYcGF0aCgnLy9idXR0b25bdGV4dCgpPSLmlLbotbfor4TorroiXScsIGVsKQogICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbikgY29tbWVudENvbGxhcHNlQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyDmlLbotbfmiYDmnInor4TorrrvvIjlm7rlrprnmoQgW+aUtui1t+ivhOiuul3vvIkKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLlJpY2hDb250ZW50ID4uQ29udGVudEl0ZW0tYWN0aW9ucz5idXR0b246Zmlyc3Qtb2YtdHlwZScpLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICBpZiAoZWwudGV4dENvbnRlbnQuaW5kZXhPZign5pS26LW36K+E6K66JykgPiAtMSkgZWwuY2xpY2soKQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nIHx8IGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2hvdCcgfHwgbG9jYXRpb24ucGF0aG5hbWUgPT09ICcvZm9sbG93Jykgey8vIOWvueS6jummlumhteeahOWFs+azqOOAgeaOqOiNkOOAgeeDreamnAogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkNvbnRlbnRJdGVtLXJpZ2h0QnV0dG9uJykuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtpZiAoZWwuaGFzQXR0cmlidXRlKCdkYXRhLXpvcC1yZXRyYWN0LXF1ZXN0aW9uJykpIHtlbC5jbGljaygpO307fSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDooqsgZ2V0Q29sbGFwc2VkQW5zd2VyT2JzZXJ2ZXIg5Ye95pWw5pS26LW36L+H55qE77yM5Zu65a6aIFvmlLbotbddIOaMiemSrgogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW3NjcmlwdC1jb2xsYXBzZWRdJykuZm9yRWFjaChmdW5jdGlvbihzY3JpcHRDb2xsYXBzZWQpIHtzY3JpcHRDb2xsYXBzZWQucXVlcnlTZWxlY3RvckFsbCgnLkNvbnRlbnRJdGVtLWFjdGlvbnMgW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dLCAuQ29udGVudEl0ZW0tYWN0aW9ucy5TdGlja3kgW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dJykuZm9yRWFjaChmdW5jdGlvbihidXR0b24pIHtidXR0b24uY2xpY2soKTt9KTt9KQogICAgICAgICAgICAgICAgLy8g6KKrIGdldENvbGxhcHNlZEFuc3dlck9ic2VydmVyIOWHveaVsOaUtui1t+i/h+eahO+8jOaCrOa1riBb5pS26LW3XSDmjInpkq7vvIjmgqzmta7lupXpg6jnmoTmqKrmoI/vvIkKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5SaWNoQ29udGVudDpub3QoW3NjcmlwdC1jb2xsYXBzZWRdKSAuQ29udGVudEl0ZW0tYWN0aW9ucy5TdGlja3kgW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dJykuZm9yRWFjaChmdW5jdGlvbihidXR0b24pIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZWwgPSBidXR0b24ucGFyZW50RWxlbWVudDsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnUmljaENvbnRlbnQnKSkge2VsID0gZWwucGFyZW50RWxlbWVudDt9CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsKSBlbC5zZXRBdHRyaWJ1dGUoJ3NjcmlwdC1jb2xsYXBzZWQnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gZ2V0Q29sbGFwc2VkQW5zd2VyT2JzZXJ2ZXIoKTsKICAgICAgICAgICAgICAgIG9ic2VydmVyLnN0YXJ0KCk7CgogICAgICAgICAgICAgICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2RlZmF1bHRDb2xsYXBzZWRBbnN3ZXInKSAmJiAhb2JzZXJ2ZXIuX2Rpc2Nvbm5lY3RMaXN0ZW5lcikgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1cmxjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZW5kKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5fY29sbGFwc2VkQW5zd2VyT2JzZXJ2ZXIgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuX2Rpc2Nvbm5lY3RMaXN0ZW5lciA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgovLyDmlLbotbflvZPliY3lm57nrZTjgIHor4TorrrvvIjnm5HlkKzngrnlh7vkuovku7bvvIzngrnlh7vnvZHpobXkuKTkvqfnqbrnmb3lpITvvIkKZnVuY3Rpb24gY29sbGFwc2VkTm93QW5zd2VyKHNlbGVjdG9ycykgewogICAgYmFja1RvVG9wKHNlbGVjdG9ycykgLy8g5b+r5o235Zue5Yiw6aG26YOoCiAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfY29sbGFwc2VkTm93QW5zd2VyJykpIHJldHVybgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMpLm9uY2xpY2sgPSBmdW5jdGlvbihldmVudCl7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSB0aGlzKSB7CiAgICAgICAgICAgIC8vIOS4i+mdoui/meauteS4u+imgeaYryBb5pS26LW35Zue562UXe+8jOmhuuS+vyBb5pS26LW36K+E6K66Xe+8iOWmguaenOWxleW8gOS6hueahOivne+8iQogICAgICAgICAgICBsZXQgcmlnaHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tYWN0aW9ucy5TdGlja3kuUmljaENvbnRlbnQtYWN0aW9ucy5pcy1maXhlZC5pcy1ib3R0b20nKQogICAgICAgICAgICBpZiAocmlnaHRCdXR0b24pIHsgLy8g5oKs5rWu5Zyo5bqV6YOo55qEIFvmlLbotbflm57nrZRd77yI5q2k5pe25q2j5Zyo5rWP6KeI5Zue562U5YaF5a65IFvkuK3pl7TljLrln59d77yJCiAgICAgICAgICAgICAgICAvLyDlm7rlrprnmoQgW+aUtui1t+ivhOiuul3vvIjlhYjnnIvnnIvmmK/lkKblsZXlvIDor4TorrrvvIkKICAgICAgICAgICAgICAgIGxldCBjb21tZW50Q29sbGFwc2VCdXR0b24gPSByaWdodEJ1dHRvbi5xdWVyeVNlbGVjdG9yKCdidXR0b24uQnV0dG9uLkNvbnRlbnRJdGVtLWFjdGlvbi5CdXR0b24tLXBsYWluLkJ1dHRvbi0td2l0aEljb24uQnV0dG9uLS13aXRoTGFiZWw6Zmlyc3Qtb2YtdHlwZScpCiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcxMTEnKQogICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiAmJiBjb21tZW50Q29sbGFwc2VCdXR0b24udGV4dENvbnRlbnQuaW5kZXhPZign5pS26LW36K+E6K66JykgPiAtMSkgY29tbWVudENvbGxhcHNlQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAvLyDlho3ljrvmlLbotbflm57nrZQKICAgICAgICAgICAgICAgIHJpZ2h0QnV0dG9uID0gcmlnaHRCdXR0b24ucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLXJpZ2h0QnV0dG9uW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dJykKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzIyMicpCiAgICAgICAgICAgICAgICBpZiAocmlnaHRCdXR0b24pIHJpZ2h0QnV0dG9uLmNsaWNrKCk7CgogICAgICAgICAgICB9IGVsc2UgeyAvLyDlm7rlrprlnKjlm57nrZTlupXpg6jnmoQgW+aUtui1t+WbnuetlF3vvIjmraTml7bmraPlnKjmtY/op4jlm57nrZTlhoXlrrkgW+WwvumDqOWMuuWfn13vvIkKCiAgICAgICAgICAgICAgICAvLyDmgqzmta7nmoQgW+aUtui1t+ivhOiuul3vvIjmraTml7bmraPlnKjmtY/op4jor4TorrrlhoXlrrkgW+S4remXtOWMuuWfn13vvIkKICAgICAgICAgICAgICAgIC8vaWYgKGdldFhwYXRoKCcvL2J1dHRvblt0ZXh0KCk9IuaUtui1t+ivhOiuuiJdJyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29tbWVudHMtY29udGFpbmVyJykpKSB7Z2V0WHBhdGgoJy8vYnV0dG9uW3RleHQoKT0i5pS26LW36K+E6K66Il0nLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Db21tZW50cy1jb250YWluZXInKSkuY2xpY2soKTtjb25zb2xlLmxvZygnYXNmYWYnKX0KCiAgICAgICAgICAgICAgICBsZXQgYW5zd2VyQ29sbGFwc2VCdXR0b25fID0gZmFsc2U7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbCBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuQ29udGVudEl0ZW0tcmlnaHRCdXR0b25bZGF0YS16b3AtcmV0cmFjdC1xdWVzdGlvbl0nKSkgeyAvLyDpgY3ljobmiYDmnInlm57nrZTlupXpg6jnmoQgW+aUtui1t10g5oyJ6ZKuCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudEluVmlld3BvcnQoZWwpKSB7IC8vIOWIpOaWreivpSBb5pS26LW3XSDmjInpkq7mmK/lkKblnKjlj6/op4bljLrln5/lhoUKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Zu65a6a55qEIFvmlLbotbfor4Torrpd77yI5YWI55yL55yL5piv5ZCm5bGV5byA6K+E6K6677yM5Y2z5a2Y5ZyoIFvmlLbotbfor4TorrpdIOaMiemSru+8iQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudENvbGxhcHNlQnV0dG9uID0gZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdidXR0b24uQnV0dG9uLkNvbnRlbnRJdGVtLWFjdGlvbi5CdXR0b24tLXBsYWluLkJ1dHRvbi0td2l0aEljb24uQnV0dG9uLS13aXRoTGFiZWw6Zmlyc3Qtb2YtdHlwZScpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOWxleW8gOS6huivhOiuuu+8jOWwseaUtui1t+ivhOiuugogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCczMzMnKQogICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChjb21tZW50Q29sbGFwc2VCdXR0b24gJiYgY29tbWVudENvbGxhcHNlQnV0dG9uLnRleHRDb250ZW50LmluZGV4T2YoJ+aUtui1t+ivhOiuuicpID4gLTEpIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudENvbGxhcHNlQnV0dG9uICYmIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi50ZXh0Q29udGVudC5pbmRleE9mKCfmlLbotbfor4TorronKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50Q29sbGFwc2VCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNFbGVtZW50SW5WaWV3cG9ydChjb21tZW50Q29sbGFwc2VCdXR0b24pKSBzY3JvbGxUbygwLGVsLm9mZnNldFRvcCs1MCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCc0NDQnKQogICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGljaygpIC8vIOWGjeWOu+aUtui1t+WbnuetlAogICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJDb2xsYXBzZUJ1dHRvbl8gPSB0cnVlOyAvLyDlpoLmnpzmib7liLDlubbngrnlh7vmlLbotbfkuobvvIzlsLHmsqHlv4XopoHmiafooYzkuIvpnaLnmoTku6PnoIHkuobvvIjlj6/op4bljLrln5/kuK3msqHmnIkgW+aUtui1t+WbnuetlF0g5pe277yJCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g6ZKI5a+55a6M5YWo55yL5LiN5YiwIFvmlLbotbflm57nrZRdIOaMiemSruaXtu+8iOWmgiBb5aS06YOo5Yy65Z+fXe+8jOS7peWPiumDqOWIhuaYjuaYjuW+iOmVv+WNtOS4jeaYvuekuuaCrOa1ruaoquadoeeahOWbnuetlO+8iQogICAgICAgICAgICAgICAgaWYgKCFhbnN3ZXJDb2xsYXBzZUJ1dHRvbl8pIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbCBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuTGlzdC1pdGVtLCAuQ2FyZC5BbnN3ZXJDYXJkLCAuQ2FyZC5Ub3BzdG9yeUl0ZW0nKSkgeyAvLyDpgY3ljobmiYDmnInlm57nrZTkuLvkvZPlhYPntKAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudEluVmlld3BvcnRfKGVsKSkgeyAvLyDliKTmlq3or6Xlm57nrZTmmK/lkKblnKjlj6/op4bljLrln5/lhoUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWbuuWumueahCBb5pS26LW36K+E6K66Xe+8iOWFiOeci+eci+aYr+WQpuWxleW8gOivhOiuuu+8jOWNs+WtmOWcqCBb5pS26LW36K+E6K66XSDmjInpkq7vvIkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb21tZW50Q29sbGFwc2VCdXR0b24gPSBlbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uQnV0dG9uLkNvbnRlbnRJdGVtLWFjdGlvbi5CdXR0b24tLXBsYWluLkJ1dHRvbi0td2l0aEljb24uQnV0dG9uLS13aXRoTGFiZWw6Zmlyc3Qtb2YtdHlwZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzlsZXlvIDkuobor4TorrrvvIzlsLHmlLbotbfor4TorroKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzU1NScsY29tbWVudENvbGxhcHNlQnV0dG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiAmJiBjb21tZW50Q29sbGFwc2VCdXR0b24udGV4dENvbnRlbnQuaW5kZXhPZign5pS26LW36K+E6K66JykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNFbGVtZW50SW5WaWV3cG9ydChjb21tZW50Q29sbGFwc2VCdXR0b24pKSBzY3JvbGxUbygwLGVsLm9mZnNldFRvcCs1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbnN3ZXJDb2xsYXBzZUJ1dHRvbl9fID0gZWwucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLXJpZ2h0QnV0dG9uW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCc2NjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuc3dlckNvbGxhcHNlQnV0dG9uX18pIGFuc3dlckNvbGxhcHNlQnV0dG9uX18uY2xpY2soKSAvLyDlho3ljrvmlLbotbflm57nrZQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOS4i+mdoui/meauteWPqumSiOWvuSBb5pS26LW36K+E6K66Xe+8iOWmguaenOWxleW8gOS6hueahOivne+8iQogICAgICAgICAgICBsZXQgY29tbWVudENvbGxhcHNlQnV0dG9uXyA9IGZhbHNlLCBjb21tZW50Q29sbGFwc2VCdXR0b25fXyA9IGZhbHNlOwogICAgICAgICAgICAvLyDmgqzmta7nmoQgW+aUtui1t+ivhOiuul3vvIjmraTml7bmraPlnKjmtY/op4jor4TorrrlhoXlrrkgW+S4remXtOWMuuWfn13vvIkKICAgICAgICAgICAgbGV0IGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiA9IGdldFhwYXRoKCcvL2J1dHRvblt0ZXh0KCk9IuaUtui1t+ivhOiuuiJdJyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29tbWVudHMtY29udGFpbmVyJykpCiAgICAgICAgICAgIGlmIChjb21tZW50Q29sbGFwc2VCdXR0b24pIHsKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzc3NycsIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbikKICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICB9IGVsc2UgeyAvLyDlm7rlrprnmoQgW+aUtui1t+ivhOiuul3vvIjmraTml7bmraPlnKjmtY/op4jor4TorrrlhoXlrrkgW+WktOmDqOWMuuWfn13vvIkKICAgICAgICAgICAgICAgIGxldCBjb21tZW50Q29sbGFwc2VCdXR0b25fMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5Db250ZW50SXRlbS1hY3Rpb25zID4gYnV0dG9uLkJ1dHRvbi5Db250ZW50SXRlbS1hY3Rpb24uQnV0dG9uLS1wbGFpbi5CdXR0b24tLXdpdGhJY29uLkJ1dHRvbi0td2l0aExhYmVsOmZpcnN0LW9mLXR5cGUsIC5Db250ZW50SXRlbS1hY3Rpb24gPiBidXR0b24uQnV0dG9uLkJ1dHRvbi0tcGxhaW4uQnV0dG9uLS13aXRoSWNvbi5CdXR0b24tLXdpdGhMYWJlbDpmaXJzdC1vZi10eXBlJykKICAgICAgICAgICAgICAgIGlmIChjb21tZW50Q29sbGFwc2VCdXR0b25fMS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgY29tbWVudENvbGxhcHNlQnV0dG9uXzEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLnRleHRDb250ZW50LmluZGV4T2YoJ+aUtui1t+ivhOiuuicpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0VsZW1lbnRJblZpZXdwb3J0KGVsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzg4OCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xpY2soKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8gPSB0cnVlIC8vIOWmguaenOaJvuWIsOW5tueCueWHu+S6hu+8jOWwseayoeW/heimgeaJp+ihjOS4i+mdoueahOS7o+eggeS6hu+8iOWPr+inhuWMuuWfn+S4reayoeaciSBb5pS26LW36K+E6K66XSDml7bvvIkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8gPT0gZmFsc2UpIHsgLy8g5Y+v6KeG5Yy65Z+f5Lit5rKh5pyJIFvmlLbotbfor4TorrpdIOaXtu+8iOatpOaXtuato+WcqOa1j+iniOivhOiuuuWGheWuuSBb5aS06YOo5Yy65Z+fXSArIFvlsL7pg6jljLrln59dKOS4jeS4iuS4jeS4i+eahO+8jOaXoueci+S4jeWIsOWbuuWumueahCBb5pS26LW36K+E6K66XSDlj4jnnIvkuI3liLDmgqzmta7nmoQgW+aUtui1t+ivhOiuul0p77yJ77yM6ZyA6KaB5Yik5pat5Y+v6KeG5Yy65Z+f5Lit5piv5ZCm5a2Y5Zyo6K+E6K665YWD57SgCiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8xID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkNvbW1lbnRzLWNvbnRhaW5lcicpCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8xLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgY29tbWVudENvbGxhcHNlQnV0dG9uXzEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0VsZW1lbnRJblZpZXdwb3J0KGVsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRFbGVtZW50ID0gZmluZFBhcmVudEVsZW1lbnQoZWwsICdMaXN0LWl0ZW0nKSB8fCBmaW5kUGFyZW50RWxlbWVudChlbCwgJ0NhcmQgJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiA9IHBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLWFjdGlvbnMgPiBidXR0b24uQnV0dG9uLkNvbnRlbnRJdGVtLWFjdGlvbi5CdXR0b24tLXBsYWluLkJ1dHRvbi0td2l0aEljb24uQnV0dG9uLS13aXRoTGFiZWw6Zmlyc3Qtb2YtdHlwZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi50ZXh0Q29udGVudC5pbmRleE9mKCfmlLbotbfor4TorronKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzk5OScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi5jbGljaygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNFbGVtZW50SW5WaWV3cG9ydChjb21tZW50Q29sbGFwc2VCdXR0b24pKSB7Y29uc29sZS5sb2cocGFyZW50RWxlbWVudCxwYXJlbnRFbGVtZW50Lm9mZnNldFRvcCxwYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodCk7c2Nyb2xsVG8oMCxwYXJlbnRFbGVtZW50Lm9mZnNldFRvcCtwYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodC01MCl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl9fID0gdHJ1ZSAvLyDlpoLmnpzmib7liLDlubbngrnlh7vkuobvvIzlsLHmsqHlv4XopoHmiafooYzkuIvpnaLnmoTku6PnoIHkuobvvIjlj6/op4bljLrln5/kuK3msqHmnIkg6K+E6K665YWD57SgIOaXtu+8iQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudENvbGxhcHNlQnV0dG9uX18gPT0gZmFsc2UpIHsgLy8g5aaC5p6c5LiK6Z2i55qE6YO95rKh5om+5Yiw77yM6YKj5LmI5bCx5bCd6K+V5a+75om+6K+E6K665pyr5bC+55qEIFvor4Torrrlm57lpI3moYZdCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb21tZW50Q29sbGFwc2VCdXR0b25fMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5FZGl0YWJsZS1jb250ZW50JykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8yLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVsIG9mIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudEluVmlld3BvcnQoZWwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRFbGVtZW50ID0gZmluZFBhcmVudEVsZW1lbnQoZWwsICdMaXN0LWl0ZW0nKSB8fCBmaW5kUGFyZW50RWxlbWVudChlbCwgJ0NhcmQgJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiA9IHBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLWFjdGlvbnMgPiBidXR0b24uQnV0dG9uLkNvbnRlbnRJdGVtLWFjdGlvbi5CdXR0b24tLXBsYWluLkJ1dHRvbi0td2l0aEljb24uQnV0dG9uLS13aXRoTGFiZWw6Zmlyc3Qtb2YtdHlwZScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coY29tbWVudENvbGxhcHNlQnV0dG9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudENvbGxhcHNlQnV0dG9uLnRleHRDb250ZW50LmluZGV4T2YoJ+aUtui1t+ivhOiuuicpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzEwMTAxMCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50Q29sbGFwc2VCdXR0b24uY2xpY2soKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0VsZW1lbnRJblZpZXdwb3J0KGNvbW1lbnRDb2xsYXBzZUJ1dHRvbikpIHtjb25zb2xlLmxvZyhwYXJlbnRFbGVtZW50LHBhcmVudEVsZW1lbnQub2Zmc2V0VG9wLHBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KTtzY3JvbGxUbygwLHBhcmVudEVsZW1lbnQub2Zmc2V0VG9wK3BhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LTUwKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgovLyDlm57liLDpobbpg6jvvIjnm5HlkKzngrnlh7vkuovku7bvvIzpvKDmoIflj7PplK7ngrnlh7vnvZHpobXkuKTkvqfnqbrnmb3lpITvvIkKZnVuY3Rpb24gYmFja1RvVG9wKHNlbGVjdG9ycykgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2JhY2tUb1RvcCcpKSByZXR1cm4KICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzKS5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgIGlmIChldmVudC50YXJnZXQgPT0gdGhpcykgewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKQogICAgICAgIH0KICAgIH0KfQoKCi8v6I635Y+W5YWD57Sg5piv5ZCm5Zyo5Y+v6KeG5Yy65Z+f77yI5a6M5YWo5Y+v6KeB77yJCmZ1bmN0aW9uIGlzRWxlbWVudEluVmlld3BvcnQoZWwpIHsKICAgIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICByZXR1cm4gKAogICAgICAgIHJlY3QudG9wID49IDAgJiYKICAgICAgICByZWN0LmxlZnQgPj0gMCAmJgogICAgICAgIHJlY3QuYm90dG9tIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiYKICAgICAgICByZWN0LnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpCiAgICApOwp9Ci8v6I635Y+W5YWD57Sg5piv5ZCm5Zyo5Y+v6KeG5Yy65Z+f77yI6YOo5YiG5Y+v6KeB77yJCmZ1bmN0aW9uIGlzRWxlbWVudEluVmlld3BvcnRfKGVsKSB7CiAgICBsZXQgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgcmV0dXJuICgKICAgIHJlY3QudG9wIDwgKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJgogICAgcmVjdC5ib3R0b20gPiAwCiAgKTsKfQoKCi8vIOiHquWumuS5ieWxj+iUveeUqOaItwpmdW5jdGlvbiBjdXN0b21CbG9ja1VzZXJzKCkgewogICAgbGV0IG5vd0Jsb2NrVXNlcnMgPSAnJzsKICAgIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7bm93QmxvY2tVc2VycyArPSAnfCcgKyBpdGVtfSkKICAgIC8vY29uc29sZS5sb2cobm93QmxvY2tVc2Vycy5yZXBsYWNlKCd8JywnJykpCiAgICBsZXQgbmV3QmxvY2tVc2VycyA9IHByb21wdCgn57yW6L6RIFvoh6rlrprkuYnlsY/olL3nlKjmiLddXG7vvIjkuI3lkIznlKjmiLflkI3kuYvpl7Tkvb/nlKggInwiIOWIhumalO+8jOS+i+Wmgu+8mueUqOaIt0F855So5oi3QnznlKjmiLdDIO+8iScsIG5vd0Jsb2NrVXNlcnMucmVwbGFjZSgnfCcsJycpKTsKICAgIGlmIChuZXdCbG9ja1VzZXJzID09PSAnJykgewogICAgICAgIEdNX3NldFZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnLCBbXSk7CiAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgIH0gZWxzZSBpZiAobmV3QmxvY2tVc2VycyAhPSBudWxsKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycsIG5ld0Jsb2NrVXNlcnMuc3BsaXQoJ3wnKSk7CiAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgIH0KfTsKCgovLyDlsY/olL3mjIflrprnlKjmiLcKZnVuY3Rpb24gYmxvY2tVc2Vycyh0eXBlKSB7CiAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfYmxvY2tVc2VycycpKSByZXR1cm4KICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJykgfHwgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJykubGVuZ3RoIDwgMSkgcmV0dXJuCiAgICBzd2l0Y2godHlwZSkgewogICAgICAgIGNhc2UgJ2luZGV4JzoKICAgICAgICAgICAgYmxvY2tVc2Vyc18oJy5DYXJkLlRvcHN0b3J5SXRlbS5Ub3BzdG9yeUl0ZW0taXNSZWNvbW1lbmQnLCAnQ2FyZCBUb3BzdG9yeUl0ZW0gVG9wc3RvcnlJdGVtLWlzUmVjb21tZW5kJyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3F1ZXN0aW9uJzoKICAgICAgICAgICAgYmxvY2tVc2Vyc19xdWVzdGlvbigpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdzZWFyY2gnOgogICAgICAgICAgICBibG9ja1VzZXJzX3NlYXJjaCgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd0b3BpYyc6CiAgICAgICAgICAgIGJsb2NrVXNlcnNfKCcuTGlzdC1pdGVtLlRvcGljRmVlZEl0ZW0nLCAnTGlzdC1pdGVtIFRvcGljRmVlZEl0ZW0nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAncGVvcGxlJzoKICAgICAgICAgICAgYmxvY2tVc2Vyc19idXR0b25fcGVvcGxlKCk7IC8vIOa3u+WKoOWxj+iUveeUqOaIt+aMiemSru+8iOeUqOaIt+S4u+mhte+8iQogICAgICAgICAgICBicmVhazsKICAgIH0KICAgIGJsb2NrVXNlcnNfY29tbWVudCgpOyAvLyAgICAgICDor4TorrrljLoKICAgIGJsb2NrVXNlcnNfYnV0dG9uKCk7IC8vICAgICAgICDliqDlhaXpu5HlkI3ljZXmjInpkq4KCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzXyhjbGFzc05hbWUxLCBjbGFzc05hbWUyKSB7CiAgICAgICAgLy8g5YmN5Yeg5p2h5Zug5Li65piv55u05o6l5Yqg6L2955qE77yM6ICM5LiN5piv5Yqo5oCB5o+S5YWl572R6aG155qE77yM5omA5Lul6ZyA6KaB5Y2V54us5Yik5patCiAgICAgICAgZnVuY3Rpb24gYmxvY2tLZXl3b3Jkc19ub3coKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3NOYW1lMSkuZm9yRWFjaChmdW5jdGlvbihpdGVtMSl7CiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGl0ZW0xLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtLCAuQ29udGVudEl0ZW0uQXJ0aWNsZUl0ZW0nKTsgLy8g55So5oi35ZCN5omA5Zyo5YWD57SgCiAgICAgICAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5d29yZCBvZiBtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnKSkgeyAvLyDpgY3ljobnlKjmiLflkI3pu5HlkI3ljZUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXdvcmQgIT0gJycgJiYgaXRlbS5kYXRhc2V0LnpvcC5pbmRleE9mKCdhdXRob3JOYW1lIjoiJyArIGtleXdvcmQgKyAnIiwnKSA+IC0xKSB7IC8vIOaJvuWIsOWwseWIoOmZpOivpeS/oeaBr+a1gQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W3suWxj+iUve+8micgKyBpdGVtLmRhdGFzZXQuem9wKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0xLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIGJsb2NrS2V5d29yZHNfbm93KCk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHNldFRpbWVvdXQoYmxvY2tLZXl3b3Jkc19ub3csIDEwMDApOyAvLyDnvZHpobUgVVJMIOWPmOWMluWQjuWGjeasoeaJp+ihjAogICAgICAgIH0pCgogICAgICAgIC8vIOi/meS4quaYr+ebkeWQrOe9kemhteaPkuWFpeS6i+S7tu+8jOeUqOadpeWIpOaWreWQjue7ree9kemhteWKqOaAgeaPkuWFpeeahOWFg+e0oAogICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc05hbWUgPT09IGNsYXNzTmFtZTIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0YXJnZXQucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLkFuc3dlckl0ZW0sIC5Db250ZW50SXRlbS5BcnRpY2xlSXRlbScpOyAvLyDnlKjmiLflkI3miYDlnKjlhYPntKAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5d29yZCBvZiBtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnKSkgeyAvLyDpgY3ljobnlKjmiLflkI3pu5HlkI3ljZUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5d29yZCAhPSAnJyAmJiBpdGVtLmRhdGFzZXQuem9wLmluZGV4T2YoJ2F1dGhvck5hbWUiOiInICsga2V5d29yZCArICciLCcpID4gLTEpIHsgLy8g5om+5Yiw5bCx5Yig6Zmk6K+l5L+h5oGv5rWBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflt7LlsY/olL3vvJonICsgaXRlbS5kYXRhc2V0LnpvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgfQoKCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzX3F1ZXN0aW9uKCkgewogICAgICAgIGNvbnN0IGJsb2NrVXNlcnNfcXVlc3Rpb25fID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc05hbWUgPT09ICdMaXN0LWl0ZW0nIHx8IHRhcmdldC5jbGFzc05hbWUgPT09ICdDYXJkIEFuc3dlckNhcmQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtMSA9IHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0uQW5zd2VySXRlbScpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpLmZvckVhY2goZnVuY3Rpb24oaXRlbTIpeyAvLyDpgY3ljobnlKjmiLfpu5HlkI3ljZUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbTEuZGF0YXNldC56b3AuaW5kZXhPZignYXV0aG9yTmFtZSI6IicgKyBpdGVtMiArICciLCcpID4gLTEpIHsgLy8g5om+5Yiw5bCx5Yig6Zmk6K+l5Zue562UCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflt7LlsY/olL3vvJonICsgaXRlbTEuZGF0YXNldC56b3ApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBjb25zdCBibG9ja1VzZXJzX3F1ZXN0aW9uX2Fuc3dlcl8gPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICB0YXJnZXQucXVlcnlTZWxlY3RvckFsbCgnLkxpc3QtaXRlbSwgLkNhcmQuQW5zd2VyQ2FyZCcpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtMSA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLkFuc3dlckl0ZW0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0yKXsgLy8g6YGN5Y6G55So5oi36buR5ZCN5Y2VCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0xLmRhdGFzZXQuem9wLmluZGV4T2YoJ2F1dGhvck5hbWUiOiInICsgaXRlbTIgKyAnIiwnKSA+IC0xKSB7IC8vIOaJvuWIsOWwseWIoOmZpOivpeWbnuetlAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5bey5bGP6JS977yaJyArIGl0ZW0xLmRhdGFzZXQuem9wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2Fuc3dlci8nKSA+IC0xKSB7IC8vIOWbnuetlOmhte+8iOWwseaYr+WPquacieS4ieS4quWbnuetlOeahOmhtemdou+8iQogICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGJsb2NrVXNlcnNfcXVlc3Rpb25fYW5zd2VyXyk7CiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgICAgIH0gZWxzZSB7IC8vIOmXrumimOmhte+8iOWPr+S7peaYvuekuuaJgOacieWbnuetlOeahOmhtemdou+8iQogICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGJsb2NrVXNlcnNfcXVlc3Rpb25fKTsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDpkojlr7nnmoTmmK/miZPlvIDnvZHpobXlkI7nm7TmjqXliqDovb3nmoTliY3pnaLlh6DkuKrlm57nrZTvvIjkuIrpnaLlk6rkupvmmK/pkojlr7nliqjmgIHliqDovb3nmoTlm57nrZTvvIkKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuTGlzdC1pdGVtLCAuQ2FyZC5BbnN3ZXJDYXJkJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKXsKICAgICAgICAgICAgbGV0IGl0ZW0xID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0uQW5zd2VySXRlbScpOwogICAgICAgICAgICBpZiAoaXRlbTEpIHsKICAgICAgICAgICAgICAgIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpLmZvckVhY2goZnVuY3Rpb24oaXRlbTIpeyAvLyDpgY3ljobnlKjmiLfpu5HlkI3ljZUKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbTEuZGF0YXNldC56b3AuaW5kZXhPZignYXV0aG9yTmFtZSI6IicgKyBpdGVtMiArICciLCcpID4gLTEpIHsgLy8g5om+5Yiw5bCx5Yig6Zmk6K+l5Zue562UCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflt7LlsY/olL3vvJonICsgaXRlbTEuZGF0YXNldC56b3ApCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH0KCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzX3NlYXJjaCgpIHsKICAgICAgICBmdW5jdGlvbiBibG9ja1VzZXJzX25vdygpIHsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbnRlbnQnKSA9PT0gLTEpIHJldHVybiAvLyDnm67liY3lj6rmlK/mjIHmkJzntKLpobXnmoQgW+e7vOWQiF0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkNhcmQuU2VhcmNoUmVzdWx0LUNhcmRbZGF0YS16YS1kZXRhaWwtdmlldy1wYXRoLW1vZHVsZT0iQW5zd2VySXRlbSJdLCAuQ2FyZC5TZWFyY2hSZXN1bHQtQ2FyZFtkYXRhLXphLWRldGFpbC12aWV3LXBhdGgtbW9kdWxlPSJQb3N0SXRlbSJdJykuZm9yRWFjaChmdW5jdGlvbihpdGVtMSl7CiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGl0ZW0xLnF1ZXJ5U2VsZWN0b3IoJy5SaWNoVGV4dC56dGV4dC5Db3B5cmlnaHRSaWNoVGV4dC1yaWNoVGV4dCBiJyk7IC8vIOeUqOaIt+WQjeaJgOWcqOWFg+e0oAogICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2YgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJykpIHsgLy8g6YGN5Y6G55So5oi35ZCN6buR5ZCN5Y2VCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXl3b3JkICE9ICcnICYmIGl0ZW0udGV4dENvbnRlbnQgPT09IGtleXdvcmQpIHsgLy8g5om+5Yiw5bCx5Yig6Zmk6K+l5L+h5oGv5rWBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5bey5bGP6JS977yaJyArIGl0ZW0udGV4dENvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTEuaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KCiAgICAgICAgc2V0VGltZW91dChibG9ja1VzZXJzX25vdywgMjAwMCk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHNldFRpbWVvdXQoYmxvY2tVc2Vyc19ub3csIDEwMDApOyAvLyDnvZHpobUgVVJMIOWPmOWMluWQjuWGjeasoeaJp+ihjAogICAgICAgIH0pCgogICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5zZWFyY2guaW5kZXhPZigndHlwZT1jb250ZW50JykgPT09IC0xKSByZXR1cm4gLy8g55uu5YmN5Y+q5pSv5oyB5pCc57Si6aG155qEIFvnu7zlkIhdCiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0YXJnZXQucXVlcnlTZWxlY3RvcignLkNhcmQuU2VhcmNoUmVzdWx0LUNhcmRbZGF0YS16YS1kZXRhaWwtdmlldy1wYXRoLW1vZHVsZT0iQW5zd2VySXRlbSJdIC5SaWNoVGV4dC56dGV4dC5Db3B5cmlnaHRSaWNoVGV4dC1yaWNoVGV4dCBiLCAuQ2FyZC5TZWFyY2hSZXN1bHQtQ2FyZFtkYXRhLXphLWRldGFpbC12aWV3LXBhdGgtbW9kdWxlPSJQb3N0SXRlbSJdIC5SaWNoVGV4dC56dGV4dC5Db3B5cmlnaHRSaWNoVGV4dC1yaWNoVGV4dCBiJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXl3b3JkIG9mIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpKSB7IC8vIOmBjeWOhueUqOaIt+WQjem7keWQjeWNlQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXdvcmQgIT0gJycgJiYgaXRlbS50ZXh0Q29udGVudCA9PT0ga2V5d29yZCkgeyAvLyDmib7liLDlsLHliKDpmaTor6Xkv6Hmga/mtYEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5bey5bGP6JS977yaJyArIGl0ZW0udGV4dENvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzX2NvbW1lbnQoKSB7CiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbWcuQXZhdGFyW3dpZHRoPSIyNCJdJykKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGl0ZW0pCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpLmZvckVhY2goZnVuY3Rpb24oaXRlbTEpeyAvLyDpgY3ljobnlKjmiLfpu5HlkI3ljZUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coaXRlbS5hbHQsaXRlbTEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hbHQgPT09IGl0ZW0xKSB7IC8vIOaJvuWIsOWwseWIoOmZpOivpeaQnOe0oue7k+aenAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgICAgICAgICAvLyDmt7vliqDlsY/olL3nlKjmiLfmjInpkq7vvIjngrnotZ7jgIHlm57lpI3nrYnmjInpkq7lkI7pnaLvvIkKICAgICAgICAgICAgICAgICAgICAgICAgLyppZiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZvb3RlciA9IGZpbmRQYXJlbnRFbGVtZW50KGl0ZW0sICdDb21tZW50SXRlbVYyLW1ldGEnLCB0cnVlKS5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Db21tZW50SXRlbVYyLW1ldGFTaWJsaW5nID4gLkNvbW1lbnRJdGVtVjItZm9vdGVyJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcmlkID0gaXRlbS5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJpZCAmJiBmb290ZXIgJiYgIWZvb3Rlci5sYXN0RWxlbWVudENoaWxkLmRhdGFzZXQubmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJpZCA9IHVzZXJpZC5ocmVmLnNwbGl0KCcvJylbNF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJyxgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtbmFtZT0iJHtpdGVtLmFsdH0iIGRhdGEtdXNlcmlkPSIke3VzZXJpZH0iIGNsYXNzPSJCdXR0b24gQ29tbWVudEl0ZW1WMi1ob3ZlckJ0biBCdXR0b24tLXBsYWluIj48c3BhbiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij4mIzgyMDM7PHN2ZyBjbGFzcz0iWmkgWmktLUxpa2UiIGZpbGw9ImN1cnJlbnRDb2xvciIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHN0eWxlPSJ0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpOyBtYXJnaW4tcmlnaHQ6IDVweDsiPjxwYXRoIGQ9Ik0xOC4zNzYgNS42MjRjLTMuNDk4LTMuNDk5LTkuMjU0LTMuNDk5LTEyLjc1MiAwLTMuNDk5IDMuNDk4LTMuNDk5IDkuMjU0IDAgMTIuNzUyIDMuNDk4IDMuNDk5IDkuMjU0IDMuNDk5IDEyLjc1MiAwIDMuNDk5LTMuNDk4IDMuNDk5LTkuMTQgMC0xMi43NTJ6bS0xLjY5MyAxLjY5M2MyLjM3IDIuMzcgMi41OTYgNi4wOTQuNjc4IDguNjlsLTkuMzY3LTkuNDhjMi43MDgtMS45MTkgNi4zMi0xLjU4IDguNjkuNzl6bS05LjQ4IDkuNDhjLTIuMzctMi4zNy0yLjU5NS02LjA5NS0uNjc2LTguNjlsOS40OCA5LjQ4Yy0yLjgyMiAxLjkxOC02LjQzMyAxLjU4LTguODAzLS43OXoiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PC9wYXRoPjwvc3ZnPjwvc3Bhbj7lsY/olL3nlKjmiLc8L2J1dHRvbj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXIubGFzdEVsZW1lbnRDaGlsZC5vbmNsaWNrID0gZnVuY3Rpb24oKXtibG9ja1VzZXJzX2J1dHRvbl9hZGQodGhpcy5kYXRhc2V0Lm5hbWUsIHRoaXMuZGF0YXNldC51c2VyaWQsIGZhbHNlKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSovCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgIH0KCgogICAgLy8g5re75Yqg5bGP6JS955So5oi35oyJ6ZKu77yI55So5oi35L+h5oGv5oKs5rWu5qGG5Lit77yJCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzX2J1dHRvbigpIHsKICAgICAgICBjb25zdCBjYWxsYmFjayA9IChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4gewogICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHsKICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlICE9IDEpIHJldHVybgogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGFyZ2V0LCB0YXJnZXQuY2xhc3NOYW1lKQogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NOYW1lICYmICh0YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoJ1BvcG92ZXItY29udGVudCBQb3BvdmVyLWNvbnRlbnQtLXRvcCBIb3ZlckNhcmQtcG9wb3ZlclRhcmdldCcpID4gLTEgfHwgdGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCdQb3BvdmVyLWNvbnRlbnQgUG9wb3Zlci1jb250ZW50LS1ib3R0b20gSG92ZXJDYXJkLXBvcG92ZXJUYXJnZXQnKSA+IC0xKSB8fCB0YXJnZXQucXVlcnlTZWxlY3RvcignLlBvcG92ZXItY29udGVudC5Qb3BvdmVyLWNvbnRlbnQtLXRvcC5Ib3ZlckNhcmQtcG9wb3ZlclRhcmdldCcpIHx8IHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuUG9wb3Zlci1jb250ZW50LlBvcG92ZXItY29udGVudC0tYm90dG9tLkhvdmVyQ2FyZC1wb3BvdmVyVGFyZ2V0JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0YXJnZXQucXVlcnlTZWxlY3RvcignLk1lbWJlckJ1dHRvbkdyb3VwLlByb2ZpbGVCdXR0b25Hcm91cC5Ib3ZlckNhcmQtYnV0dG9ucycpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTEgPSB0YXJnZXQucXVlcnlTZWxlY3RvcignYS5Vc2VyTGluay1saW5rJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gaXRlbTEudGV4dENvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyaWQgPSBpdGVtMS5ocmVmLnNwbGl0KCcvJylbNF07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtICYmICF0YXJnZXQucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtbmFtZV1bZGF0YS11c2VyaWRdJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtbmFtZT0iJHtuYW1lfSIgZGF0YS11c2VyaWQ9IiR7dXNlcmlkfSIgY2xhc3M9IkJ1dHRvbiBGb2xsb3dCdXR0b24gQnV0dG9uLS1wcmltYXJ5IEJ1dHRvbi0tcmVkIiBzdHlsZT0id2lkdGg6IDEwMCU7bWFyZ2luOiA3cHggMCAwIDA7Ij48c3BhbiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij7igIs8c3ZnIGNsYXNzPSJaaSBaaS0tUGx1cyBGb2xsb3dCdXR0b24taWNvbiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxLjJlbSIgaGVpZ2h0PSIxLjJlbSI+PHBhdGggZD0iTTE4LjM3NiA1LjYyNGMtMy40OTgtMy40OTktOS4yNTQtMy40OTktMTIuNzUyIDAtMy40OTkgMy40OTgtMy40OTkgOS4yNTQgMCAxMi43NTIgMy40OTggMy40OTkgOS4yNTQgMy40OTkgMTIuNzUyIDAgMy40OTktMy40OTggMy40OTktOS4xNCAwLTEyLjc1MnptLTEuNjkzIDEuNjkzYzIuMzcgMi4zNyAyLjU5NiA2LjA5NC42NzggOC42OWwtOS4zNjctOS40OGMyLjcwOC0xLjkxOSA2LjMyLTEuNTggOC42OS43OXptLTkuNDggOS40OGMtMi4zNy0yLjM3LTIuNTk1LTYuMDk1LS42NzYtOC42OWw5LjQ4IDkuNDhjLTIuODIyIDEuOTE4LTYuNDMzIDEuNTgtOC44MDMtLjc5eiIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+PC9zdmc+PC9zcGFuPuWxj+iUveeUqOaItzwvYnV0dG9uPmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLm9uY2xpY2sgPSBmdW5jdGlvbigpe2Jsb2NrVXNlcnNfYnV0dG9uX2FkZCh0aGlzLmRhdGFzZXQubmFtZSwgdGhpcy5kYXRhc2V0LnVzZXJpZCwgZmFsc2UpfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgIH0KCiAgICAvLyDmt7vliqDlsY/olL3nlKjmiLfmjInpkq7vvIjnlKjmiLfkuLvpobXvvIkKICAgIGZ1bmN0aW9uIGJsb2NrVXNlcnNfYnV0dG9uX3Blb3BsZSgpIHsKICAgICAgICBsZXQgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5NZW1iZXJCdXR0b25Hcm91cC5Qcm9maWxlQnV0dG9uR3JvdXAuUHJvZmlsZUhlYWRlci1idXR0b25zJyksIC8vIOiOt+WPluaMiemSruWFg+e0oOS9jee9rgogICAgICAgICAgICBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlByb2ZpbGVIZWFkZXItbmFtZScpLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQsIC8vIOiOt+WPlueUqOaIt+WQjQogICAgICAgICAgICB1c2VycyA9IG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpLCAvLyDor7vlj5blsY/olL3liJfooagKICAgICAgICAgICAgdXNlcmlkID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnLycpWzRdOwogICAgICAgIGZvciAobGV0IG51bSA9IDA7bnVtPHVzZXJzLmxlbmd0aDtudW0rKykgeyAvLyDliKTmlq3mmK/lkKblt7LlrZjlnKgKICAgICAgICAgICAgaWYgKHVzZXJzW251bV0gPT09IG5hbWUpIHsgLy8g5bey5a2Y5ZyoCiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuQnV0dG9uLkJ1dHRvbi0tcHJpbWFyeS5CdXR0b24tLXJlZCcpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7aXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO30pIC8vIOmakOiXj+efpeS5juiHquW4pueahOW3suWxj+iUveaMiemSrgogICAgICAgICAgICAgICAgaXRlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1uYW1lPSIke25hbWV9IiBkYXRhLXVzZXJpZD0iJHt1c2VyaWR9IiBjbGFzcz0iQnV0dG9uIEZvbGxvd0J1dHRvbiBCdXR0b24tLXByaW1hcnkgQnV0dG9uLS1yZWQiIHN0eWxlPSJtYXJnaW46IDAgMCAwIDEycHg7Ij48c3BhbiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij7igIs8c3ZnIGNsYXNzPSJaaSBaaS0tUGx1cyBGb2xsb3dCdXR0b24taWNvbiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxLjJlbSIgaGVpZ2h0PSIxLjJlbSI+PHBhdGggZD0iTTE4LjM3NiA1LjYyNGMtMy40OTgtMy40OTktOS4yNTQtMy40OTktMTIuNzUyIDAtMy40OTkgMy40OTgtMy40OTkgOS4yNTQgMCAxMi43NTIgMy40OTggMy40OTkgOS4yNTQgMy40OTkgMTIuNzUyIDAgMy40OTktMy40OTggMy40OTktOS4xNCAwLTEyLjc1MnptLTEuNjkzIDEuNjkzYzIuMzcgMi4zNyAyLjU5NiA2LjA5NC42NzggOC42OWwtOS4zNjctOS40OGMyLjcwOC0xLjkxOSA2LjMyLTEuNTggOC42OS43OXptLTkuNDggOS40OGMtMi4zNy0yLjM3LTIuNTk1LTYuMDk1LS42NzYtOC42OWw5LjQ4IDkuNDhjLTIuODIyIDEuOTE4LTYuNDMzIDEuNTgtOC44MDMtLjc5eiIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+PC9zdmc+PC9zcGFuPuWPlua2iOWxj+iUvTwvYnV0dG9uPmApOwogICAgICAgICAgICAgICAgaXRlbS5sYXN0RWxlbWVudENoaWxkLm9uY2xpY2sgPSBmdW5jdGlvbigpe2Jsb2NrVXNlcnNfYnV0dG9uX2RlbCh0aGlzLmRhdGFzZXQubmFtZSwgdGhpcy5kYXRhc2V0LnVzZXJpZCwgdHJ1ZSl9CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgaXRlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1uYW1lPSIke25hbWV9IiBkYXRhLXVzZXJpZD0iJHt1c2VyaWR9IiBjbGFzcz0iQnV0dG9uIEZvbGxvd0J1dHRvbiBCdXR0b24tLXByaW1hcnkgQnV0dG9uLS1yZWQiIHN0eWxlPSJtYXJnaW46IDAgMCAwIDEycHg7Ij48c3BhbiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij7igIs8c3ZnIGNsYXNzPSJaaSBaaS0tUGx1cyBGb2xsb3dCdXR0b24taWNvbiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxLjJlbSIgaGVpZ2h0PSIxLjJlbSI+PHBhdGggZD0iTTE4LjM3NiA1LjYyNGMtMy40OTgtMy40OTktOS4yNTQtMy40OTktMTIuNzUyIDAtMy40OTkgMy40OTgtMy40OTkgOS4yNTQgMCAxMi43NTIgMy40OTggMy40OTkgOS4yNTQgMy40OTkgMTIuNzUyIDAgMy40OTktMy40OTggMy40OTktOS4xNCAwLTEyLjc1MnptLTEuNjkzIDEuNjkzYzIuMzcgMi4zNyAyLjU5NiA2LjA5NC42NzggOC42OWwtOS4zNjctOS40OGMyLjcwOC0xLjkxOSA2LjMyLTEuNTggOC42OS43OXptLTkuNDggOS40OGMtMi4zNy0yLjM3LTIuNTk1LTYuMDk1LS42NzYtOC42OWw5LjQ4IDkuNDhjLTIuODIyIDEuOTE4LTYuNDMzIDEuNTgtOC44MDMtLjc5eiIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+PC9zdmc+PC9zcGFuPuWxj+iUveeUqOaItzwvYnV0dG9uPmApOwogICAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQub25jbGljayA9IGZ1bmN0aW9uKCl7YmxvY2tVc2Vyc19idXR0b25fYWRkKHRoaXMuZGF0YXNldC5uYW1lLCB0aGlzLmRhdGFzZXQudXNlcmlkLCB0cnVlKX0KICAgICAgICB9CiAgICB9CgogICAgLy8g5bGP6JS955So5oi35oyJ6ZKu57uR5a6a5LqL5Lu277yI5re75Yqg77yJCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzX2J1dHRvbl9hZGQobmFtZSwgdXNlcmlkLCByZWxvYWQpIHsKICAgICAgICBpZiAoIW5hbWUgfHwgIXVzZXJpZCkgcmV0dXJuCiAgICAgICAgbGV0IHVzZXJzID0gbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJyksIC8vIOivu+WPluWxj+iUveWIl+ihqAogICAgICAgICAgICBpbmRleCA9IHVzZXJzLmluZGV4T2YobmFtZSk7CiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgICAgICB1c2Vycy5wdXNoKG5hbWUpOyAvLyDov73liqDnlKjmiLflkI0KICAgICAgICAgICAgR01fc2V0VmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycsIHVzZXJzKTsgLy8g5YaZ5YWl5bGP6JS95YiX6KGoCiAgICAgICAgICAgIC8vIOWKoOWFpeefpeS5juiHquW4pueahOm7keWQjeWNle+8iOWSjOacrOiEmuacrOS6kuihpX4KICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3Qoe3VybDogYGh0dHBzOi8vd3d3LnpoaWh1LmNvbS9hcGkvdjQvbWVtYmVycy8ke3VzZXJpZH0vYWN0aW9ucy9ibG9ja2AsbWV0aG9kOiAnUE9TVCcsdGltZW91dDogMjAwMH0pOwogICAgICAgICAgICAvLyDmmK/lkKbliLfmlrDmnKzpobUKICAgICAgICAgICAgaWYgKHJlbG9hZCkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe2xvY2F0aW9uLnJlbG9hZCgpfSwgMjAwKTsgLy8g5Yi35paw572R6aG177yM5bu26L+fIDIwMCDmr6vnp5LvvIzpgb/lhY3nn6XkuY7lj43lupTmhaJ+CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDor6XnlKjmiLflt7LooqvlsY/olL1+XG7liLfmlrDnvZHpobXlkI7nlJ/mlYh+YCwgdGltZW91dDogMzAwMH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg6K+l55So5oi35bey57uP6KKr5bGP6JS95ZWm77yM5peg6ZyA6YeN5aSN5bGP6JS9fmAsIHRpbWVvdXQ6IDMwMDB9KTsKICAgICAgICB9CiAgICB9CgoKICAgIC8vIOWxj+iUveeUqOaIt+aMiemSrue7keWumuS6i+S7tu+8iOWIoOmZpO+8iQogICAgZnVuY3Rpb24gYmxvY2tVc2Vyc19idXR0b25fZGVsKG5hbWUsIHVzZXJpZCwgcmVsb2FkKSB7CiAgICAgICAgaWYgKCFuYW1lIHx8ICF1c2VyaWQpIHJldHVybgogICAgICAgIGxldCB1c2VycyA9IG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpLCAvLyDor7vlj5blsY/olL3liJfooagKICAgICAgICAgICAgaW5kZXggPSB1c2Vycy5pbmRleE9mKG5hbWUpOwogICAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgICAgIHVzZXJzLnNwbGljZShpbmRleCwgMSk7IC8vIOenu+mZpOeUqOaIt+WQjQogICAgICAgICAgICBHTV9zZXRWYWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJywgdXNlcnMpOyAvLyDlhpnlhaXlsY/olL3liJfooagKICAgICAgICAgICAgLy8g56e76Zmk55+l5LmO6Ieq5bim55qE6buR5ZCN5Y2VCiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHt1cmw6IGBodHRwczovL3d3dy56aGlodS5jb20vYXBpL3Y0L21lbWJlcnMvJHt1c2VyaWR9L2FjdGlvbnMvYmxvY2tgLG1ldGhvZDogJ0RFTEVURScsdGltZW91dDogMjAwMH0pOwogICAgICAgICAgICAvLyDmmK/lkKbliLfmlrDmnKzpobUKICAgICAgICAgICAgaWYgKHJlbG9hZCkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe2xvY2F0aW9uLnJlbG9hZCgpfSwgMjAwKTsgLy8g5Yi35paw572R6aG177yM5bu26L+fIDIwMCDmr6vnp5LvvIzpgb/lhY3nn6XkuY7lj43lupTmhaJ+CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDor6XnlKjmiLflt7Llj5bmtojlsY/olL3llaZ+XG7liLfmlrDnvZHpobXlkI7nlJ/mlYh+YCwgdGltZW91dDogMzAwMH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg5rKh5pyJ5Zyo5bGP6JS95YiX6KGo5Lit5om+5Yiw6K+l55So5oi3Li4uYCwgdGltZW91dDogMzAwMH0pOwogICAgICAgIH0KICAgIH0KfQoKCi8vIOiHquWumuS5ieWxj+iUveWFs+mUruivje+8iOagh+mimO+8iQpmdW5jdGlvbiBjdXN0b21CbG9ja0tleXdvcmRzKCkgewogICAgbGV0IG5vd0Jsb2NrS2V5d29yZHMgPSAnJzsKICAgIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tLZXl3b3JkcycpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7bm93QmxvY2tLZXl3b3JkcyArPSAnfCcgKyBpdGVtfSkKICAgIGxldCBuZXdCbG9ja0tleXdvcmRzID0gcHJvbXB0KCfnvJbovpEgW+iHquWumuS5ieWxj+iUveWFs+mUruivjV1cbu+8iOS4jeWQjOWFs+mUruivjeS5i+mXtOS9v+eUqCAifCIg5YiG6ZqU77yM5L6L5aaC77ya5YWz6ZSu6K+NQXzlhbPplK7or41CfOWFs+mUruivjUMgXG7vvIjlhbPplK7or43kuI3ljLrliIblpKflsI/lhpnvvIzmlK/mjIHooajmg4XlpoLvvJpb5o2C6IS4XXxb6aOZ5rOq56yRXScsIG5vd0Jsb2NrS2V5d29yZHMucmVwbGFjZSgnfCcsJycpKTsKICAgIGlmIChuZXdCbG9ja0tleXdvcmRzID09PSAnJykgewogICAgICAgIEdNX3NldFZhbHVlKCdtZW51X2N1c3RvbUJsb2NrS2V5d29yZHMnLCBbXSk7CiAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgIH0gZWxzZSBpZiAobmV3QmxvY2tLZXl3b3JkcyAhPSBudWxsKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tLZXl3b3JkcycsIG5ld0Jsb2NrS2V5d29yZHMuc3BsaXQoJ3wnKSk7CiAgICAgICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKICAgIH0KfTsKCgovLyDlsY/olL3mjIflrprlhbPplK7or40KZnVuY3Rpb24gYmxvY2tLZXl3b3Jkcyh0eXBlKSB7CiAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfYmxvY2tLZXl3b3JkcycpKSByZXR1cm4KICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja0tleXdvcmRzJykgfHwgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja0tleXdvcmRzJykubGVuZ3RoIDwgMSkgcmV0dXJuCiAgICBzd2l0Y2godHlwZSkgewogICAgICAgIGNhc2UgJ2luZGV4JzoKICAgICAgICAgICAgYmxvY2tLZXl3b3Jkc18oJy5DYXJkLlRvcHN0b3J5SXRlbS5Ub3BzdG9yeUl0ZW0taXNSZWNvbW1lbmQnLCAnQ2FyZCBUb3BzdG9yeUl0ZW0gVG9wc3RvcnlJdGVtLWlzUmVjb21tZW5kJyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3RvcGljJzoKICAgICAgICAgICAgYmxvY2tLZXl3b3Jkc18oJy5MaXN0LWl0ZW0uVG9waWNGZWVkSXRlbScsICdMaXN0LWl0ZW0gVG9waWNGZWVkSXRlbScpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdwZW9wbGUnOgogICAgICAgICAgICBibG9ja0tleXdvcmRzXygnLkxpc3QtaXRlbScsICdMaXN0LWl0ZW0nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnY29sbGVjdGlvbic6CiAgICAgICAgICAgIGJsb2NrS2V5d29yZHNfKCcuQ2FyZC5Db2xsZWN0aW9uRGV0YWlsUGFnZUl0ZW0nLCAnQ2FyZCBDb2xsZWN0aW9uRGV0YWlsUGFnZUl0ZW0nKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnc2VhcmNoJzoKICAgICAgICAgICAgYmxvY2tLZXl3b3Jkc19zZWFyY2goKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnY29tbWVudCc6CiAgICAgICAgICAgIGJsb2NrS2V5d29yZHNfY29tbWVudCgpOwogICAgICAgICAgICBicmVhazsKICAgIH0KCgogICAgZnVuY3Rpb24gYmxvY2tLZXl3b3Jkc18oY2xhc3NOYW1lMSwgY2xhc3NOYW1lMikgewogICAgICAgIC8vIOWJjeWHoOadoeWboOS4uuaYr+ebtOaOpeWKoOi9veeahO+8jOiAjOS4jeaYr+WKqOaAgeaPkuWFpee9kemhteeahO+8jOaJgOS7pemcgOimgeWNleeLrOWIpOaWrQogICAgICAgIGZ1bmN0aW9uIGJsb2NrS2V5d29yZHNfbm93KCkgewogICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvaG90JykgewogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkhvdEl0ZW0nKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0xKXtibG9ja0tleXdvcmRzXzEoaXRlbTEsICdoMi5Ib3RJdGVtLXRpdGxlJyk7fSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3NOYW1lMSkuZm9yRWFjaChmdW5jdGlvbihpdGVtMSl7YmxvY2tLZXl3b3Jkc18xKGl0ZW0xLCAnaDIuQ29udGVudEl0ZW0tdGl0bGUgbWV0YVtpdGVtcHJvcD0ibmFtZSJdLCBtZXRhW2l0ZW1wcm9wPSJoZWFkbGluZSJdJyk7fSkKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYmxvY2tLZXl3b3Jkc19ub3coKTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXJsY2hhbmdlJywgZnVuY3Rpb24oKXsKICAgICAgICAgICAgc2V0VGltZW91dChibG9ja0tleXdvcmRzX25vdywgMTAwMCk7IC8vIOe9kemhtSBVUkwg5Y+Y5YyW5ZCO5YaN5qyh5omn6KGMCiAgICAgICAgfSkKCiAgICAgICAgLy8g6L+Z5Liq5piv55uR5ZCs572R6aG15o+S5YWl5LqL5Lu277yM55So5p2l5Yik5pat5ZCO57ut572R6aG15Yqo5oCB5o+S5YWl55qE5YWD57SgCiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTmFtZSA9PT0gY2xhc3NOYW1lMikge2Jsb2NrS2V5d29yZHNfMSh0YXJnZXQsICdoMi5Db250ZW50SXRlbS10aXRsZSBtZXRhW2l0ZW1wcm9wPSJuYW1lIl0sIG1ldGFbaXRlbXByb3A9ImhlYWRsaW5lIl0nKTt9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgfQoKCiAgICBmdW5jdGlvbiBibG9ja0tleXdvcmRzX3NlYXJjaCgpIHsKICAgICAgICBmdW5jdGlvbiBibG9ja0tleXdvcmRzX25vdygpIHsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbnRlbnQnKSA9PT0gLTEpIHJldHVybiAvLyDnm67liY3lj6rmlK/mjIHmkJzntKLpobXnmoQgW+e7vOWQiF0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkhvdExhbmRpbmctY29udGVudEl0ZW0sIC5DYXJkLlNlYXJjaFJlc3VsdC1DYXJkW2RhdGEtemEtZGV0YWlsLXZpZXctcGF0aC1tb2R1bGU9IkFuc3dlckl0ZW0iXSwgLkNhcmQuU2VhcmNoUmVzdWx0LUNhcmRbZGF0YS16YS1kZXRhaWwtdmlldy1wYXRoLW1vZHVsZT0iUG9zdEl0ZW0iXScpLmZvckVhY2goZnVuY3Rpb24oaXRlbTEpe2Jsb2NrS2V5d29yZHNfMShpdGVtMSwgJ2FbZGF0YS16YS1kZXRhaWwtdmlldy1pZF0nKTt9KQogICAgICAgIH0KCiAgICAgICAgc2V0VGltZW91dChibG9ja0tleXdvcmRzX25vdywgMjAwMCk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHNldFRpbWVvdXQoYmxvY2tLZXl3b3Jkc19ub3csIDEwMDApOyAvLyDnvZHpobUgVVJMIOWPmOWMluWQjuWGjeasoeaJp+ihjAogICAgICAgIH0pCgogICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5zZWFyY2guaW5kZXhPZigndHlwZT1jb250ZW50JykgPT09IC0xKSByZXR1cm4gLy8g55uu5YmN5Y+q5pSv5oyB5pCc57Si6aG155qEIFvnu7zlkIhdCiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0YXJnZXQpCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnRElWJyAmJiB0YXJnZXQuY2xhc3NOYW1lID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHQgPSB0YXJnZXQucXVlcnlTZWxlY3RvcignZGl2W2NsYXNzPSJDYXJkIFNlYXJjaFJlc3VsdC1DYXJkIl1bZGF0YS16YS1kZXRhaWwtdmlldy1wYXRoLW1vZHVsZT0iQW5zd2VySXRlbSJdLCBkaXZbY2xhc3M9IkNhcmQgU2VhcmNoUmVzdWx0LUNhcmQiXVtkYXRhLXphLWRldGFpbC12aWV3LXBhdGgtbW9kdWxlPSJQb3N0SXRlbSJdJykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR0KSB7YmxvY2tLZXl3b3Jkc18xKHRhcmdldC5jaGlsZE5vZGVzWzBdLCAnYVtkYXRhLXphLWRldGFpbC12aWV3LWlkXScpO30KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgfQoKCiAgICBmdW5jdGlvbiBibG9ja0tleXdvcmRzX2NvbW1lbnQoKSB7CiAgICAgICAgZnVuY3Rpb24gZmlsdGVyQ29tbWVudChjb21tZW50KSB7CiAgICAgICAgICAgIGxldCBjb250ZW50ID0gY29tbWVudC5xdWVyeVNlbGVjdG9yKCcuUmljaFRleHQnKTsgLy8g5a+75om+6K+E6K665paH5a2X5omA5Zyo5YWD57SgCiAgICAgICAgICAgIGxldCB0ZXh0cyA9IFtjb250ZW50LnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCldOyAvLyDlm6DkuLropoHpkojlr7nor4TorrrkuK3nmoTooajmg4XvvIzmiYDku6XpnIDopoHmlbTkuKrmlbDnu4Tlubblhajpg6jovazkuLrlsI/lhpnvvIjnlKjmnaXkuI3ljLrliIblpKflsI/lhpnvvIkKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7IC8vIOivpeadoemSiOWvueeahOaYr+ivhOiuuuS4reeahOihqOaDhQogICAgICAgICAgICAgICAgbGV0IGVtb3RpY29uVmFsdWUgPSBjb250ZW50LmNoaWxkcmVuW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS16aGlodS1lbW90aWNvbicpOyAvLyDnoa7lrprmmK/ooajmg4XlsLHlsIblhbbmt7vliqDliLDnqI3lkI7pgY3ljobnmoTmlbDnu4TkuK0KICAgICAgICAgICAgICAgIGlmIChlbW90aWNvblZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgdGV4dHMucHVzaChlbW90aWNvblZhbHVlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQga2V5d29yZHMgPSBtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrS2V5d29yZHMnKTsKICAgICAgICAgICAgZm9yIChjb25zdCB0ZXh0IG9mIHRleHRzKSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2Yga2V5d29yZHMpIHsgLy8g6YGN5Y6G5YWz6ZSu6K+N6buR5ZCN5Y2VCiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXdvcmQgIT0gJycgJiYgdGV4dC5pbmRleE9mKGtleXdvcmQudG9Mb3dlckNhc2UoKSkgPiAtMSkgeyAvLyDmib7liLDlsLHliKDpmaTor6Xor4TorroKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W3suWxj+iUveivhOiuuu+8micgKyB0ZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC50ZXh0Q29udGVudCA9ICdb6K+l6K+E6K665bey5bGP6JS9XSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jbGFzc05hbWUgPT09ICdDb21tZW50SXRlbVYyLW1ldGFTaWJsaW5nJykgZmlsdGVyQ29tbWVudChub2RlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGJsb2NrS2V5d29yZHNfMShpdGVtMSwgY3NzKSB7CiAgICAgICAgbGV0IGl0ZW0gPSBpdGVtMS5xdWVyeVNlbGVjdG9yKGNzcyk7IC8vIOagh+mimOaJgOWcqOWFg+e0oAogICAgICAgIC8vY29uc29sZS5sb2coaXRlbSkKICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2YgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja0tleXdvcmRzJykpIHsgLy8g6YGN5Y6G5YWz6ZSu6K+N6buR5ZCN5Y2VCiAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IGl0ZW0uY29udGVudCB8fCBpdGVtLnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0ZXh0LGtleXdvcmQpCiAgICAgICAgICAgICAgICBpZiAoa2V5d29yZCAhPSAnJyAmJiB0ZXh0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihrZXl3b3JkLnRvTG93ZXJDYXNlKCkpID4gLTEpIHsgLy8g5om+5Yiw5bCx5Yig6Zmk6K+l5L+h5oGv5rWBCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W3suWxj+iUve+8micgKyB0ZXh0KTsKICAgICAgICAgICAgICAgICAgICBpdGVtMS5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGl0ZW0xLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgovLyDlsY/olL3mjIflrprnsbvliKvvvIjop4bpopEv5paH56ug562J77yJCmZ1bmN0aW9uIGJsb2NrVHlwZSh0eXBlKSB7CiAgICBsZXQgbmFtZTsKICAgIC8vIOS4gOW8gOWni+WKoOi9veeahOS/oeaBr+a1gSArIOa3u+WKoOagh+etvuagt+W8jwogICAgaWYgKHR5cGUgPT09ICdzZWFyY2gnKSB7IC8vIOaQnOe0oumhtQogICAgICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpICYmICFtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZUFydGljbGUnKSAmJiAhbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVQaW4nKSAmJiAhbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVUb3BpYycpICYmICFtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVNlYXJjaCcpKSByZXR1cm4KICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVTZWFyY2gnKSAmJiBsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnKSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLlJlbGV2YW50UXVlcnknKS5mb3JFYWNoKChyKT0+e3IucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmhpZGRlbiA9IHRydWV9KTt9LCAyMDAwKQogICAgICAgIG5hbWUgPSAnaDIuQ29udGVudEl0ZW0tdGl0bGUgYTpub3QoLnpoaWh1X2VfdG9RdWVzdGlvbiksIGEuS2ZlQ29sbGVjdGlvbi1QY0NvbGxlZ2VDYXJkLWxpbmssIGgyLlNlYXJjaFRvcGljSGVhZGVyLVRpdGxlIGEnCiAgICAgICAgYWRkU2V0SW50ZXJ2YWxfKG5hbWUpOwogICAgfSBlbHNlIGlmICh0eXBlID09PSAncXVlc3Rpb24nKSB7IC8vIOmXrumimOmhtQogICAgICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpKSByZXR1cm4KICAgICAgICBkb2N1bWVudC5sYXN0Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSBgLlZpZGVvQW5zd2VyUGxheWVyLCAuVmlkZW9BbnN3ZXJQbGF5ZXIgdmlkZW8sIC5WaWRlb0Fuc3dlclBsYXllci12aWRlbywgLlZpZGVvQW5zd2VyUGxheWVyLWlmcmFtZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O31gOwogICAgICAgIG5hbWUgPSAnLlZpZGVvQW5zd2VyUGxheWVyJwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobmFtZSkuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtibG9ja1R5cGVfKGl0ZW0pO30pCiAgICB9IGVsc2UgeyAvLyDpppbpobUKICAgICAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlVmlkZW8nKSAmJiAhbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVBcnRpY2xlJykgJiYgIW1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlUGluJykpIHJldHVybgogICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVZpZGVvJykpIGRvY3VtZW50Lmxhc3RDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9IGAuQ2FyZCAuWlZpZGVvSXRlbS12aWRlbywgLlZpZGVvQW5zd2VyUGxheWVyIHZpZGVvLCBuYXYuVG9wc3RvcnlUYWJzID4gYVthcmlhLWNvbnRyb2xzPSJUb3BzdG9yeS16dmlkZW8iXSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O31gOwogICAgICAgIG5hbWUgPSAnaDIuQ29udGVudEl0ZW0tdGl0bGUgYTpub3QoLnpoaWh1X2VfdG9RdWVzdGlvbiknCiAgICAgICAgaWYgKG1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlUGluJykpIG5hbWUgPSAnaDIuQ29udGVudEl0ZW0tdGl0bGUgYTpub3QoLnpoaWh1X2VfdG9RdWVzdGlvbiksIC5Db250ZW50SXRlbS5QaW5JdGVtJwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobmFtZSkuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtibG9ja1R5cGVfKGl0ZW0pO30pCiAgICB9CgogICAgLy8g5ZCO57ut5Yqg6L2955qE5L+h5oGv5rWBCiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uc0xpc3QgPT4gewogICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlICE9IDEpIHJldHVybgogICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc05hbWUgPT09ICJDYXJkIFNlYXJjaFJlc3VsdC1DYXJkIiAmJiB0YXJnZXQuZGF0YXNldC56YURldGFpbFZpZXdQYXRoTW9kdWxlID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAvLyDnp7vpmaTnm7jlhbPmkJzntKIKICAgICAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVTZWFyY2gnKSAmJiBsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbnRlbnQnKSA+IC0xKSB0YXJnZXQuaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYmxvY2tUeXBlXyh0YXJnZXQucXVlcnlTZWxlY3RvcihuYW1lKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1cmxjaGFuZ2UnLCBmdW5jdGlvbigpewogICAgICAgIGFkZFNldEludGVydmFsXyhuYW1lKTsKICAgICAgICAvLyDnp7vpmaTnm7jlhbPmkJzntKIKICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVTZWFyY2gnKSAmJiBsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbnRlbnQnKSA+IC0xKSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLlJlbGV2YW50UXVlcnknKS5mb3JFYWNoKChyKT0+e3IucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmhpZGRlbiA9IHRydWV9KTt9LCAxNTAwKQogICAgfSkKCiAgICBmdW5jdGlvbiBibG9ja1R5cGVfKHRpdGxlQSkgewogICAgICAgIGlmICghdGl0bGVBKSByZXR1cm4gLy8g5Yik5pat5piv5ZCm5Li655yfCiAgICAgICAgLy9jb25zb2xlLmxvZyh0aXRsZUEuaHJlZikKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoJykgeyAvLyDmkJzntKLpobUKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbnRlbnQnKSA9PT0gLTEpIHJldHVybiAvLyAgIOS7hemZkOaQnOe0oumhteeahCBb57u85ZCIXQogICAgICAgICAgICBpZiAodGl0bGVBLmhyZWYuaW5kZXhPZignL3p2aWRlby8nKSA+IC0xIHx8IHRpdGxlQS5ocmVmLmluZGV4T2YoJ3ZpZGVvLnpoaWh1LmNvbScpID4gLTEpIHsgLy8g5aaC5p6c5piv6KeG6aKRCiAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpKSBmaW5kUGFyZW50RWxlbWVudCh0aXRsZUEsICdDYXJkJykucmVtb3ZlKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGl0bGVBLmhyZWYuaW5kZXhPZignemh1YW5sYW4uemhpaHUuY29tJykgPiAtMSkgeyAvLyDlpoLmnpzmmK/mlofnq6AKICAgICAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZUFydGljbGUnKSkgZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ2FyZCBTZWFyY2hSZXN1bHQtQ2FyZCcpLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGl0bGVBLmhyZWYuaW5kZXhPZignL3RvcGljLycpID4gLTEpIHsgLy8gICAgICAgICAgICDlpoLmnpzmmK/or53popgKICAgICAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVRvcGljJykpIGZpbmRQYXJlbnRFbGVtZW50KHRpdGxlQSwgJ0NhcmQgU2VhcmNoUmVzdWx0LUNhcmQnKS5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRpdGxlQS5ocmVmLmluZGV4T2YoJy9tYXJrZXQvJykgPiAtMSkgeyAvLyAgICAgICAgICAg5aaC5p6c5piv5p2C5b+X5paH56ug562J5Lmx5LiD5YWr57Of55qECiAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVTZWFyY2gnKSkgZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ2FyZCBTZWFyY2hSZXN1bHQtQ2FyZCcpLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9xdWVzdGlvbi8nKSA+IC0xKSB7IC8vIOmXrumimOmhtQogICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpKSBmaW5kUGFyZW50RWxlbWVudCh0aXRsZUEsICdMaXN0LWl0ZW0nKS5oaWRkZW4gPSB0cnVlOwogICAgICAgIH0gZWxzZSB7IC8vIOmmlumhtQogICAgICAgICAgICBpZiAodGl0bGVBLmNsYXNzTmFtZSA9PSAnQ29udGVudEl0ZW0gUGluSXRlbScpIHsgLy8g5aaC5p6c5piv5oOz5rOV77yI6ZKI5a+55peg5qCH6aKY77yJCiAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVQaW4nKSkgZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ2FyZCBUb3BzdG9yeUl0ZW0gVG9wc3RvcnlJdGVtLWlzUmVjb21tZW5kJykuaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgLyp9IGVsc2UgaWYgKHRpdGxlQS5ocmVmLmluZGV4T2YoJy9waW4vJykgPiAtMSkgeyAvLyDlpoLmnpzmmK/mg7Pms5UKICAgICAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVBpbicpKSBmaW5kUGFyZW50RWxlbWVudCh0aXRsZUEsICdDYXJkIFRvcHN0b3J5SXRlbSBUb3BzdG9yeUl0ZW0taXNSZWNvbW1lbmQnKS5oaWRkZW4gPSB0cnVlOyovCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGl0bGVBLmhyZWYuaW5kZXhPZignL3p2aWRlby8nKSA+IC0xIHx8IHRpdGxlQS5ocmVmLmluZGV4T2YoJ3ZpZGVvLnpoaWh1LmNvbScpID4gLTEpIHsgLy8g5aaC5p6c5piv6KeG6aKRCiAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpKSB7ZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ2FyZCBUb3BzdG9yeUl0ZW0gVG9wc3RvcnlJdGVtLWlzUmVjb21tZW5kJykuaGlkZGVuID0gdHJ1ZTt9CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGl0bGVBLmhyZWYuaW5kZXhPZignL2Fuc3dlci8nKSA+IC0xKSB7IC8vICAgICAgICAgICDlpoLmnpzmmK/pl67popjvvIjop4bpopHlm57nrZTvvIkKICAgICAgICAgICAgICAgIGlmIChmaW5kUGFyZW50RWxlbWVudCh0aXRsZUEsICdDb250ZW50SXRlbSBBbnN3ZXJJdGVtJykucXVlcnlTZWxlY3RvcignLlZpZGVvQW5zd2VyUGxheWVyJykpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpKSB7ZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ2FyZCBUb3BzdG9yeUl0ZW0gVG9wc3RvcnlJdGVtLWlzUmVjb21tZW5kJykuaGlkZGVuID0gdHJ1ZTsgZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ29udGVudEl0ZW0gQW5zd2VySXRlbScpLnJlbW92ZSgpO30KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aXRsZUEuaHJlZi5pbmRleE9mKCcvZWR1Y2F0aW9uL3ZpZGVvLWNvdXJzZS8nKSA+IC0xKSB7IC8vIOWmguaenOaYr+imlumgu+iqsueoiwogICAgICAgICAgICAgICAgaWYgKG1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlVmlkZW8nKSkge2ZpbmRQYXJlbnRFbGVtZW50KHRpdGxlQSwgJ0NhcmQgVG9wc3RvcnlJdGVtIFRvcHN0b3J5SXRlbS1pc1JlY29tbWVuZCcpLmhpZGRlbiA9IHRydWU7fQogICAgICAgICAgICB9IGVsc2UgaWYgKHRpdGxlQS5ocmVmLmluZGV4T2YoJ3podWFubGFuLnpoaWh1LmNvbScpID4gLTEpIHsgLy8g5aaC5p6c5piv5paH56ugCiAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVBcnRpY2xlJykpIGZpbmRQYXJlbnRFbGVtZW50KHRpdGxlQSwgJ0NhcmQgVG9wc3RvcnlJdGVtIFRvcHN0b3J5SXRlbS1pc1JlY29tbWVuZCcpLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYWRkU2V0SW50ZXJ2YWxfKEEpIHsKICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICBsZXQgYVRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoQSk7CiAgICAgICAgICAgIGlmIChhVGFnLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgICAgICAgICAgYVRhZy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe2Jsb2NrVHlwZV8oaXRlbSk7fSkKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9CgoKLy8g5a+75om+54i25YWD57SgCmZ1bmN0aW9uIGZpbmRQYXJlbnRFbGVtZW50KGl0ZW0sIGNsYXNzTmFtZSwgdHlwZSA9IGZhbHNlKSB7CiAgICBpZiAoaXRlbS5wYXJlbnRFbGVtZW50KSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhpdGVtLnBhcmVudEVsZW1lbnQpCiAgICAgICAgaWYgKHR5cGUpIHsgLy8gdHJ1ZSA9IOWujOWFqOS4gOiHtO+8jGZhbHNlID0g5YyF5ZCr5Y2z5Y+vCiAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lICYmIGl0ZW0ucGFyZW50RWxlbWVudC5jbGFzc05hbWUgPT09IGNsYXNzTmFtZSkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lKQogICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucGFyZW50RWxlbWVudDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gZmluZFBhcmVudEVsZW1lbnQoaXRlbS5wYXJlbnRFbGVtZW50LCBjbGFzc05hbWUsIHRydWUpCiAgICAgICAgICAgICAgICBpZiAodGVtcCkgcmV0dXJuIHRlbXAKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lICYmIGl0ZW0ucGFyZW50RWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc05hbWUpID4gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGZpbmRQYXJlbnRFbGVtZW50KGl0ZW0ucGFyZW50RWxlbWVudCwgY2xhc3NOYW1lKQogICAgICAgICAgICAgICAgaWYgKHRlbXApIHJldHVybiB0ZW1wCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm4KfQoKCi8vIOenu+mZpOmrmOS6rumTvuaOpQpmdW5jdGlvbiByZW1vdmVIaWdobGlnaHRMaW5rKCkgewogICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHsKICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxIHx8IHRhcmdldC50YWdOYW1lICE9ICdBJykgYnJlYWsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuZGF0YXNldC56YU5vdFRyYWNrTGluayAmJiB0YXJnZXQuaHJlZi5pbmRleE9mKCdodHRwczovL3d3dy56aGlodS5jb20vc2VhcmNoP3E9JykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIHRhcmdldC5wYXJlbnRFbGVtZW50LnJlcGxhY2VXaXRoKHRhcmdldC50ZXh0Q29udGVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7CiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKCiAgICAvLyDpkojlr7nnmoTmmK/miZPlvIDnvZHpobXlkI7nm7TmjqXliqDovb3nmoTliY3pnaLlh6DkuKrlm57nrZTvvIjkuIrpnaLlk6rkupvmmK/pkojlr7nliqjmgIHliqDovb3nmoTlm57nrZTvvIkKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4gPiBhW2RhdGEtemEtbm90LXRyYWNrLWxpbmtdW2hyZWZePSJodHRwczovL3d3dy56aGlodS5jb20vc2VhcmNoP3E9Il0nKS5mb3JFYWNoKGUgPT4gZS5wYXJlbnRFbGVtZW50LnJlcGxhY2VXaXRoKGUudGV4dENvbnRlbnQpKQp9CgoKLy8g5bGP6JS955uQ6YCJ5YaF5a65CmZ1bmN0aW9uIGJsb2NrWWFuWHVhbigpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9ibG9ja1lhblh1YW4nKSkgcmV0dXJuCiAgICBjb25zdCBibG9ja1lhblh1YW5fcXVlc3Rpb24gPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHsKICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NOYW1lID09PSAnTGlzdC1pdGVtJyB8fCB0YXJnZXQuY2xhc3NOYW1lID09PSAnQ2FyZCBBbnN3ZXJDYXJkJykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucXVlcnlTZWxlY3RvcignLktmZUNvbGxlY3Rpb24tQW5zd2VyVG9wQ2FyZC1Db250YWluZXIsIC5LZmVDb2xsZWN0aW9uLVB1cmNoYXNlQnRuJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICBjb25zdCBibG9ja1lhblh1YW5fcXVlc3Rpb25fYW5zd2VyID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICB0YXJnZXQucXVlcnlTZWxlY3RvckFsbCgnLkxpc3QtaXRlbSwgLkNhcmQuQW5zd2VyQ2FyZCcpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucXVlcnlTZWxlY3RvcignLktmZUNvbGxlY3Rpb24tQW5zd2VyVG9wQ2FyZC1Db250YWluZXIsIC5LZmVDb2xsZWN0aW9uLVB1cmNoYXNlQnRuJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvYW5zd2VyLycpID4gLTEpIHsgLy8g5Zue562U6aG177yI5bCx5piv5Y+q5pyJ5LiJ5Liq5Zue562U55qE6aG16Z2i77yJCiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihibG9ja1lhblh1YW5fcXVlc3Rpb25fYW5zd2VyKTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgIH0gZWxzZSB7IC8vIOmXrumimOmhte+8iOWPr+S7peaYvuekuuaJgOacieWbnuetlOeahOmhtemdou+8iQogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoYmxvY2tZYW5YdWFuX3F1ZXN0aW9uKTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgIH0KCiAgICAvLyDpkojlr7nnmoTmmK/miZPlvIDnvZHpobXlkI7nm7TmjqXliqDovb3nmoTliY3pnaLlh6DkuKrlm57nrZTvvIjkuIrpnaLlk6rkupvmmK/pkojlr7nliqjmgIHliqDovb3nmoTlm57nrZTvvIkKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5MaXN0LWl0ZW0sIC5DYXJkLkFuc3dlckNhcmQnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pewogICAgICAgIGlmIChpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5LZmVDb2xsZWN0aW9uLUFuc3dlclRvcENhcmQtQ29udGFpbmVyLCAuS2ZlQ29sbGVjdGlvbi1QdXJjaGFzZUJ0bicpKSB7CiAgICAgICAgICAgIGl0ZW0uaGlkZGVuID0gdHJ1ZTsKICAgICAgICB9CiAgICB9KQp9CgoKLy8g5Yy65YiG6Zeu6aKY5paH56ugCmZ1bmN0aW9uIGFkZFR5cGVUaXBzKCkgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X3R5cGVUaXBzJykpIHJldHVybgogICAgbGV0IHN0eWxlID0gYGZvbnQtd2VpZ2h0OiBib2xkO2ZvbnQtc2l6ZTogMTNweDtwYWRkaW5nOiAxcHggNHB4IDA7Ym9yZGVyLXJhZGl1czogMnB4O2Rpc3BsYXk6IGlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjogdG9wO21hcmdpbjogJHsobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoJykgPyAnMicgOiAnNCd9cHggNHB4IDAgMDtgCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gYC8qIOWMuuWIhumXrumimOaWh+eroCAqLwouQW5zd2VySXRlbSAuQ29udGVudEl0ZW0tdGl0bGUgYTpub3QoLnpoaWh1X2VfdG9RdWVzdGlvbik6OmJlZm9yZSB7Y29udGVudDon6Zeu6aKYJztjb2xvcjogI2Y2OGI4MztiYWNrZ3JvdW5kLWNvbG9yOiAjZjY4YjgzMzM7JHtzdHlsZX19Ci5Ub3BzdG9yeVF1ZXN0aW9uQXNrSXRlbSAuQ29udGVudEl0ZW0tdGl0bGUgYTpub3QoLnpoaWh1X2VfdG9RdWVzdGlvbik6OmJlZm9yZSB7Y29udGVudDon6Zeu6aKYJztjb2xvcjogI2ZmNWE0ZTtiYWNrZ3JvdW5kLWNvbG9yOiAjZmY1YTRlMzM7JHtzdHlsZX19Ci5aVmlkZW9JdGVtIC5Db250ZW50SXRlbS10aXRsZSBhOjpiZWZvcmUsIC5admlkZW9JdGVtIC5Db250ZW50SXRlbS10aXRsZSBhOjpiZWZvcmUge2NvbnRlbnQ6J+inhumikSc7Y29sb3I6ICMwMEJDRDQ7YmFja2dyb3VuZC1jb2xvcjogIzAwQkNENDMzOyR7c3R5bGV9fQouUGluSXRlbSAuQ29udGVudEl0ZW0tdGl0bGUgYTo6YmVmb3JlIHtjb250ZW50Oifmg7Pms5UnO2NvbG9yOiAjNENBRjUwO2JhY2tncm91bmQtY29sb3I6ICM0Q0FGNTAzMzske3N0eWxlfX0KLkFydGljbGVJdGVtIC5Db250ZW50SXRlbS10aXRsZSBhOjpiZWZvcmUge2NvbnRlbnQ6J+aWh+eroCc7Y29sb3I6ICMyMTk2RjM7YmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMzMzOyR7c3R5bGV9fWA7Cn0KCgovLyDnm7Tovr7pl67popjmjInpkq4KZnVuY3Rpb24gYWRkVG9RdWVzdGlvbigpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV90b1F1ZXN0aW9uJykpIHJldHVybgoKICAgIC8vIOS4gOW8gOWni+WKoOi9veeahOS/oeaBr+a1gSArIOa3u+WKoOaMiemSruagt+W8jwogICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaCcpIHsKICAgICAgICBkb2N1bWVudC5sYXN0Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSBgYS56aGlodV9lX3RvUXVlc3Rpb24ge2ZvbnQtc2l6ZTogMTNweCAhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OiBub3JtYWwgIWltcG9ydGFudDtwYWRkaW5nOiAxcHggNnB4IDAgIWltcG9ydGFudDtib3JkZXItcmFkaXVzOiAycHggIWltcG9ydGFudDtkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDt2ZXJ0aWNhbC1hbGlnbjogdG9wICFpbXBvcnRhbnQ7aGVpZ2h0OiAyMC42N3B4ICFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6IDIwLjY3cHggIWltcG9ydGFudDttYXJnaW4tdG9wOiAycHggIWltcG9ydGFudDt9YDsKICAgICAgICBhZGRTZXRJbnRlcnZhbF8oJ2gyLkNvbnRlbnRJdGVtLXRpdGxlIGE6bm90KC56aGlodV9lX3RpcHMpJyk7CiAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50Lmxhc3RDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9IGBhLnpoaWh1X2VfdG9RdWVzdGlvbiB7Zm9udC1zaXplOiAxM3B4ICFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6IG5vcm1hbCAhaW1wb3J0YW50O3BhZGRpbmc6IDFweCA2cHggMCAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6IDJweCAhaW1wb3J0YW50O2Rpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O3ZlcnRpY2FsLWFsaWduOiB0b3AgIWltcG9ydGFudDttYXJnaW4tdG9wOiA0cHggIWltcG9ydGFudDt9YDsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMi5Db250ZW50SXRlbS10aXRsZSBhOm5vdCguemhpaHVfZV90aXBzKScpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7YWRkVHlwZVRpcHNfKGl0ZW0pO30pCiAgICB9CgogICAgLy8g5ZCO57ut5Yqg6L2955qE5L+h5oGv5rWBCiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uc0xpc3QgPT4gewogICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlICE9IDEpIHJldHVybgogICAgICAgICAgICAgICAgYWRkVHlwZVRpcHNfKHRhcmdldC5xdWVyeVNlbGVjdG9yKCdoMi5Db250ZW50SXRlbS10aXRsZSBhOm5vdCguemhpaHVfZV90aXBzKScpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgYWRkU2V0SW50ZXJ2YWxfKCdoMi5Db250ZW50SXRlbS10aXRsZSBhOm5vdCguemhpaHVfZV90aXBzKScpOwogICAgfSkKCiAgICBmdW5jdGlvbiBhZGRUeXBlVGlwc18odGl0bGVBKSB7CiAgICAgICAgaWYgKCF0aXRsZUEpIHJldHVybiAvLyDliKTmlq3mmK/lkKbkuLrnnJ8KICAgICAgICBpZiAodGl0bGVBLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignYS56aGlodV9lX3RvUXVlc3Rpb24nKSkgcmV0dXJuIC8vIOWIpOaWreaYr+WQpuW3sua3u+WKoAogICAgICAgIGlmICh0aXRsZUEudGV4dENvbnRlbnQuaW5kZXhPZignPycpICE9IC0xKSB7IC8vIOaKiumXrumimOacq+WwvuiLseaWh+mXruWlvSBbP10g55qE5pu/5o2i5Li65Lit5paH6Zeu5aW9IFvvvJ9d77yM6L+Z5qC35oyJ6ZKu5LiO5qCH6aKY5LmL6Ze055qE6Ze06Led5bCx5Yia5Yia5aW9fgogICAgICAgICAgICB0aXRsZUEuaW5uZXJIVE1MID0gdGl0bGVBLmlubmVySFRNTC5yZXBsYWNlKCc/JywgIu+8nyIpCiAgICAgICAgfQogICAgICAgIGlmICgvYW5zd2VyXC9cZCsvLnRlc3QodGl0bGVBLmhyZWYpKSB7IC8vICDlpoLmnpzmmK/mjIflkJHlm57nrZTnmoTpl67popjvvIjogIzpnZ7mjIflkJHnuq/pl67popjnmoTpk77mjqXvvIkKICAgICAgICAgICAgdGl0bGVBLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBgPGEgY2xhc3M9InpoaWh1X2VfdG9RdWVzdGlvbiBWb3RlQnV0dG9uIiBocmVmPSIke3RpdGxlQS5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbaXRlbXByb3A9InVybCJdJykuY29udGVudH0iIHRhcmdldD0iX2JsYW5rIj7nm7Tovr7pl67popg8L2E+YCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFkZFNldEludGVydmFsXyhBKSB7CiAgICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgbGV0IGFUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKEEpOwogICAgICAgICAgICBpZiAoYVRhZy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgIGFUYWcuZm9yRWFjaChmdW5jdGlvbihpdGVtKXthZGRUeXBlVGlwc18oaXRlbSk7fSkKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9CgoKLy8g5bGV5byA6Zeu6aKY5o+P6L+wCmZ1bmN0aW9uIHF1ZXN0aW9uUmljaFRleHRNb3JlKCkgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X3F1ZXN0aW9uUmljaFRleHRNb3JlJykpIHJldHVybgogICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5RdWVzdGlvblJpY2hUZXh0LW1vcmUnKTsKICAgIGlmIChidXR0b24pIGJ1dHRvbi5jbGljaygpCn0KCgovLyDnn6XkuY7lhY3nmbvlvZUKZnVuY3Rpb24gcmVtb3ZlTG9naW4oKSB7CiAgICBjb25zdCByZW1vdmVMb2dpbk1vZGFsID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5zaWduRmxvd01vZGFsJykpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9uID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5CdXR0b24uTW9kYWwtY2xvc2VCdXR0b24uQnV0dG9uLS1wbGFpbicpOwogICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24pIGJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnZXRYcGF0aCgnLy9idXR0b25bdGV4dCgpPSLnq4vljbPnmbvlvZUv5rOo5YaMIl0nLHRhcmdldCkpIHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwoKICAgIC8vIOacqueZu+W9leaXtuaJjeS8muebkeWQrOW5tuenu+mZpOeZu+W9leW8ueeqlwogICAgaWYobG9jYXRpb24uaG9zdG5hbWUgPT09ICd6aHVhbmxhbi56aGlodS5jb20nKSB7IC8vIOWmguaenOaYr+aWh+eroOmhtQogICAgICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkNvbHVtblBhZ2VIZWFkZXItcHJvZmlsZT4uQXBwSGVhZGVyLW1lbnUnKSkgeyAvLyDmnKrnmbvlvZUKICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihyZW1vdmVMb2dpbk1vZGFsKTsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICAgICAgICAgIGlmIChnZXRYcGF0aCgnLy9idXR0b25bdGV4dCgpPSLnmbvlvZUv5rOo5YaMIl0nKSkgZ2V0WHBhdGgoJy8vYnV0dG9uW3RleHQoKT0i55m75b2VL+azqOWGjCJdJykub3V0ZXJIVE1MID0gJzxhIGNsYXNzPSJCdXR0b24gQXBwSGVhZGVyLWxvZ2luIEJ1dHRvbi0tYmx1ZSIgaHJlZj0iaHR0cHM6Ly93d3cuemhpaHUuY29tL3NpZ25pbiIgdGFyZ2V0PSJfYmxhbmsiPueZu+W9lS/ms6jlhow8L2E+JzsgLy8gW+eZu+W9lV0g5oyJ6ZKu6Lez6L2s6Iez55m75b2V6aG16Z2iCiAgICAgICAgfQogICAgfSBlbHNlIHsgLy8g5LiN5piv5paH56ug6aG1CiAgICAgICAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQXBwSGVhZGVyLXByb2ZpbGU+LkFwcEhlYWRlci1tZW51JykpIHsgLy8g5pyq55m75b2VCiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIocmVtb3ZlTG9naW5Nb2RhbCk7CiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgICAgICAgICBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJy5RdWVzdGlvbi1tYWluQ29sdW1uTG9naW4sIGJ1dHRvbi5BcHBIZWFkZXItbG9naW4ge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9JzsgLy8g5bGP6JS96Zeu6aKY6aG15Lit6Ze055qE55m75b2V5o+Q56S6CiAgICAgICAgICAgIGlmIChnZXRYcGF0aCgnLy9idXR0b25bdGV4dCgpPSLnmbvlvZUv5rOo5YaMIl0nKSkgZ2V0WHBhdGgoJy8vYnV0dG9uW3RleHQoKT0i55m75b2VL+azqOWGjCJdJykub3V0ZXJIVE1MID0gJzxhIGNsYXNzPSJCdXR0b24gQXBwSGVhZGVyLWxvZ2luIEJ1dHRvbi0tYmx1ZSIgaHJlZj0iaHR0cHM6Ly93d3cuemhpaHUuY29tL3NpZ25pbiIgdGFyZ2V0PSJfYmxhbmsiPueZu+W9lS/ms6jlhow8L2E+JzsgLy8gW+eZu+W9lV0g5oyJ6ZKu6Lez6L2s6Iez55m75b2V6aG16Z2iCiAgICAgICAgfQogICAgfQp9CgoKLy8g5YeA5YyW5qCH6aKY5raI5oGvCmZ1bmN0aW9uIGNsZWFuVGl0bGVzKCkgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2NsZWFuVGl0bGVzJykpIHJldHVybgoKICAgIC8vIOaWueahiOS4gAogICAgY29uc3QgZWxUaXRsZSA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcigndGl0bGUnKTsKICAgIGNvbnN0IG9yaWdpbmFsID0gZWxUaXRsZS50ZXh0Q29udGVudDsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGVsVGl0bGUudGV4dENvbnRlbnQgIT0gb3JpZ2luYWwpIHsgLy8g6YG/5YWN6YeN5aSN5omn6KGMCiAgICAgICAgICAgIGVsVGl0bGUudGV4dENvbnRlbnQgPSBvcmlnaW5hbDsKICAgICAgICB9CiAgICB9KTsKICAgIG9ic2VydmVyLm9ic2VydmUoZWxUaXRsZSwgeyBjaGlsZExpc3Q6IHRydWUgfSk7CgogICAgLy8g5pa55qGI5LqMCiAgICAvLyBpZiAoUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZG9jdW1lbnQsICd0aXRsZScpKSB7CiAgICAvLyAgICAgY29uc3QgZWxUaXRsZSA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcigndGl0bGUnKTsKICAgIC8vICAgICBjb25zdCBvcmlnaW5hbCA9IGVsVGl0bGUudGV4dENvbnRlbnQ7CiAgICAvLyAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHsKICAgIC8vICAgICAgICAgaWYgKGVsVGl0bGUudGV4dENvbnRlbnQgIT0gb3JpZ2luYWwpIHsgLy8g6YG/5YWN6YeN5aSN5omn6KGMCiAgICAvLyAgICAgICAgICAgICBlbFRpdGxlLnRleHRDb250ZW50ID0gb3JpZ2luYWw7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICB9KTsKICAgIC8vICAgICBvYnNlcnZlci5vYnNlcnZlKGVsVGl0bGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pOwogICAgLy8gfSBlbHNlIHsKICAgIC8vICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnRpdGxlOwogICAgLy8gICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICd0aXRsZScsIHsKICAgIC8vICAgICAgICAgc2V0OiAoKSA9PiB7fSwKICAgIC8vICAgICAgICAgZ2V0OiAoKSA9PiB0aXRsZSwKICAgIC8vICAgICB9KTsKICAgIC8vIH0KfQoKCi8vIOWHgOWMluaQnOe0oueDremXqApmdW5jdGlvbiBjbGVhblNlYXJjaCgpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9jbGVhblNlYXJjaCcpKSByZXR1cm4KCiAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5TZWFyY2hCYXItaW5wdXQgPiBpbnB1dCcpOwogICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICBpZiAobXV0YXRpb25zTGlzdFswXS5hdHRyaWJ1dGVOYW1lID09PSAncGxhY2Vob2xkZXInICYmIG11dGF0aW9uc0xpc3RbMF0udGFyZ2V0LnBsYWNlaG9sZGVyICE9ICcnKSBtdXRhdGlvbnNMaXN0WzBdLnRhcmdldC5wbGFjZWhvbGRlciA9ICcnOwogICAgfSk7CiAgICBlbC5wbGFjZWhvbGRlciA9ICcnOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCwgeyBhdHRyaWJ1dGVzOiB0cnVlIH0pOwogICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJy5BdXRvQ29tcGxldGUtZ3JvdXAgPiAuU2VhcmNoQmFyLWxhYmVsOm5vdCguU2VhcmNoQmFyLWxhYmVsLS1oaXN0b3J5KSwgLkF1dG9Db21wbGV0ZS1ncm91cCA+IFtpZF49IkF1dG9Db21wbGV0ZTItdG9wU2VhcmNoLSJdLCAuQXV0b0NvbXBsZXRlLWdyb3VwID4gW2lkXj0iQXV0b0NvbXBsZXRlMy10b3BTZWFyY2gtIl0ge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9JzsKfQoKCi8vIOW/q+aNt+WFs+mXreaCrOa1ruivhOiuuu+8iOebkeWQrOeCueWHu+S6i+S7tu+8jOeCueWHu+e9kemhteS4pOS+p+epuueZveWkhO+8iQpmdW5jdGlvbiBjbG9zZUZsb2F0aW5nQ29tbWVudHMoKSB7CiAgICBjb25zdCBjbG9zZUZsb2F0aW5nQ29tbWVudHNNb2RhbCA9IChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4gewogICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlICE9IDEpIHJldHVybgogICAgICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblthcmlhLWxhYmVsPSLlhbPpl60iXScpOwogICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikge2J1dHRvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQub25jbGljayA9IGZ1bmN0aW9uKGV2ZW50KXtpZiAoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQgPT0gdGhpcykge2J1dHRvbi5jbGljaygpO319fQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2xvc2VGbG9hdGluZ0NvbW1lbnRzTW9kYWwpOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7Cn0KCgovLyDnm5HlkKwgWE1MSHR0cFJlcXVlc3Qg5LqL5Lu2Ci8qZnVuY3Rpb24gRXZlbnRYTUxIdHRwUmVxdWVzdCgpIHsKICAgIHZhciBfc2VuZCA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZAogICAgZnVuY3Rpb24gc2VuZFJlcGxhY2VtZW50KGRhdGEpIHsKICAgICAgICBhZGRUeXBlVGlwcygpOwogICAgICAgIHJldHVybiBfc2VuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQogICAgd2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kID0gc2VuZFJlcGxhY2VtZW50Owp9Ki8KCgovLyDoh6rlrprkuYkgdXJsY2hhbmdlIOS6i+S7tu+8iOeUqOadpeebkeWQrCBVUkwg5Y+Y5YyW77yJCmZ1bmN0aW9uIGFkZFVybENoYW5nZUV2ZW50KCkgewogICAgaGlzdG9yeS5wdXNoU3RhdGUgPSAoIGYgPT4gZnVuY3Rpb24gcHVzaFN0YXRlKCl7CiAgICAgICAgdmFyIHJldCA9IGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3B1c2hzdGF0ZScpKTsKICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3VybGNoYW5nZScpKTsKICAgICAgICByZXR1cm4gcmV0OwogICAgfSkoaGlzdG9yeS5wdXNoU3RhdGUpOwoKICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlID0gKCBmID0+IGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZSgpewogICAgICAgIHZhciByZXQgPSBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXBsYWNlc3RhdGUnKSk7CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSk7CiAgICAgICAgcmV0dXJuIHJldDsKICAgIH0pKGhpc3RvcnkucmVwbGFjZVN0YXRlKTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCgpPT57CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSkKICAgIH0pOwp9CgoKZnVuY3Rpb24gZ2V0WHBhdGgoeHBhdGgsIGNvbnRleHROb2RlLCBkb2MgPSBkb2N1bWVudCkgewogICAgY29udGV4dE5vZGUgPSBjb250ZXh0Tm9kZSB8fCBkb2M7CiAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3VsdCA9IGRvYy5ldmFsdWF0ZSh4cGF0aCwgY29udGV4dE5vZGUsIG51bGwsIFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKTsKICAgICAgICAvLyDlupTor6XmgLvmmK/ov5Tlm57kuIDkuKrlhYPntKDoioLngrkKICAgICAgICByZXR1cm4gcmVzdWx0LnNpbmdsZU5vZGVWYWx1ZSAmJiByZXN1bHQuc2luZ2xlTm9kZVZhbHVlLm5vZGVUeXBlID09PSAxICYmIHJlc3VsdC5zaW5nbGVOb2RlVmFsdWU7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYOaXoOaViCBYcGF0aDogJHt4cGF0aH1gKTsKICAgIH0KfQoKCi8vIOaYvuekuumXrumimOS9nOiAhQpmdW5jdGlvbiBxdWVzdGlvbl9hdXRob3IoKSB7CiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkJyYW5kUXVlc3Rpb25TeW1ib2wsIC5RdWVzdGlvbkF1dGhvcicpKSByZXR1cm4KICAgIGxldCBxSnNvbiA9IEpTT04ucGFyc2UoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLWluaXRpYWxEYXRhJykudGV4dENvbnRlbnQpLmluaXRpYWxTdGF0ZS5lbnRpdGllcy5xdWVzdGlvbnNbL1xkKy8uZXhlYyhsb2NhdGlvbi5wYXRobmFtZSlbMF1dLmF1dGhvciwKICAgICAgICBodG1sID0gYDxkaXYgY2xhc3M9IkJyYW5kUXVlc3Rpb25TeW1ib2wiPjxhIGNsYXNzPSJCcmFuZFF1ZXN0aW9uU3ltYm9sLWJyYW5kTGluayIgaHJlZj0iL3Blb3BsZS8ke3FKc29uLnVybFRva2VufSI+PGltZyByb2xlPSJwcmVzZW50YXRpb24iIHNyYz0iJHtxSnNvbi5hdmF0YXJVcmx9IiBjbGFzcz0iQnJhbmRRdWVzdGlvblN5bWJvbC1sb2dvIiBhbHQ9IiI+PHNwYW4gY2xhc3M9IkJyYW5kUXVlc3Rpb25TeW1ib2wtbmFtZSI+JHtxSnNvbi5uYW1lfTwvc3Bhbj48L2E+PGRpdiBjbGFzcz0iQnJhbmRRdWVzdGlvblN5bWJvbC1kaXZpZGVyIiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDVweDttYXJnaW4tcmlnaHQ6IDEwcHg7Ij48L2Rpdj48L2Rpdj5gOwogICAgICAgIC8vaHRtbCA9IGA8ZGl2IGNsYXNzPSJRdWVzdGlvbkF1dGhvciI+PGRpdiBjbGFzcz0iQXV0aG9ySW5mbyBBdXRob3JJbmZvLS1wbGFpbiIgaXRlbXByb3A9ImF1dGhvciIgaXRlbXNjb3BlPSIiIGl0ZW10eXBlPSJodHRwOi8vc2NoZW1hLm9yZy9QZXJzb24iPjxkaXYgY2xhc3M9IkF1dGhvckluZm8iPjxzcGFuIGNsYXNzPSJVc2VyTGluayBBdXRob3JJbmZvLWF2YXRhcldyYXBwZXIiPjxkaXYgY2xhc3M9IlBvcG92ZXIiPjxkaXYgaWQ9IlBvcG92ZXIxOC10b2dnbGUiIGFyaWEtaGFzcG9wdXA9InRydWUiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiBhcmlhLW93bnM9IlBvcG92ZXIxOC1jb250ZW50Ij48YSBjbGFzcz0iVXNlckxpbmstbGluayIgZGF0YS16YS1kZXRhaWwtdmlldy1lbGVtZW50X25hbWU9IlVzZXIiIHRhcmdldD0iX2JsYW5rIiBocmVmPSIke3FKc29uLnVybFRva2VufSI+PGltZyBjbGFzcz0iQXZhdGFyIEF1dGhvckluZm8tYXZhdGFyIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHNyYz0iJHtxSnNvbi5hdmF0YXJVcmx9Ij48L2E+PC9kaXY+PC9kaXY+PC9zcGFuPjxkaXYgY2xhc3M9IkF1dGhvckluZm8tY29udGVudCI+PGRpdiBjbGFzcz0iQXV0aG9ySW5mby1oZWFkIj48c3BhbiBjbGFzcz0iVXNlckxpbmsgQXV0aG9ySW5mby1uYW1lIj48ZGl2IGNsYXNzPSJQb3BvdmVyIj48ZGl2IGlkPSJQb3BvdmVyMTktdG9nZ2xlIiBhcmlhLWhhc3BvcHVwPSJ0cnVlIiBhcmlhLWV4cGFuZGVkPSJmYWxzZSIgYXJpYS1vd25zPSJQb3BvdmVyMTktY29udGVudCI+PGEgY2xhc3M9IlVzZXJMaW5rLWxpbmsiIGRhdGEtemEtZGV0YWlsLXZpZXctZWxlbWVudF9uYW1lPSJVc2VyIiB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJHtxSnNvbi51cmxUb2tlbn0iPiR7cUpzb24ubmFtZX08L2E+PC9kaXY+PC9kaXY+PC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PmAKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5RdWVzdGlvbkhlYWRlci10b3BpY3MnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgaHRtbCk7CiAgICAvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5RdWVzdGlvblBhZ2UgaDEuUXVlc3Rpb25IZWFkZXItdGl0bGUnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgaHRtbCk7Cn0KCgovLyBb5a6M5pW05pi+56S65pe26Ze0ICsg572u6aG25pi+56S65pe26Ze0XSDlip/og73kv67mlLnoh6rvvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDAyODA477yI5LuOIEpRdWVyeSDmlLnkuLrljp/nlJ8gSmF2YVNjcmlwdO+8jOS4lOeyvueugOOAgeS8mOWMluS6huS7o+egge+8iQovLyDlrozmlbTmmL7npLrml7bpl7QgKyDnva7pobbmmL7npLrml7bpl7QKZnVuY3Rpb24gdG9wVGltZV8oY3NzLCBjbGFzc3MpIHsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3NzKS5mb3JFYWNoKGZ1bmN0aW9uKF90aGlzKSB7CiAgICAgICAgbGV0IHQgPSBfdGhpcy5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tdGltZScpOyBpZiAoIXQpIHJldHVybgogICAgICAgIGlmICghKHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmdWxsJykpICYmIHQucXVlcnlTZWxlY3Rvcignc3BhbicpICYmIHQucXVlcnlTZWxlY3Rvcignc3BhbicpLnRleHRDb250ZW50ICE9IG51bGwpIHsKICAgICAgICAgICAgLy8g5a6M5pW05pi+56S65pe26Ze0CiAgICAgICAgICAgIHRvcFRpbWVfYWxsVGltZSh0KQogICAgICAgICAgICAvLyDlj5HluIPml7bpl7Tnva7pobYKICAgICAgICAgICAgdG9wVGltZV9wdWJsaXNoVG9wKHQsIF90aGlzLCBjbGFzc3MpCiAgICAgICAgfQogICAgfSk7Cn0KCgovLyDlrozmlbTmmL7npLrml7bpl7QgKyDnva7pobbmmL7npLrml7bpl7QgLSDmlofnq6AKZnVuY3Rpb24gdG9wVGltZV9wb3N0KCkgewogICAgbGV0IHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tdGltZTpub3QoLnhpdS10aW1lKScpOyBpZiAoIXQpIHJldHVybgogICAgLy8g5a6M5pW05pi+56S65pe26Ze0CiAgICBpZiAodC50ZXh0Q29udGVudC5pbmRleE9mKCfnvJbovpHkuo4nKSA+IC0xICYmICEodC5jbGFzc0xpc3QuY29udGFpbnMoJ3hpdS10aW1lJykpKSB7CiAgICAgICAgbGV0IHR0ID0gdC50ZXh0Q29udGVudDsKICAgICAgICB0LmNsaWNrKCk7CiAgICAgICAgdC50ZXh0Q29udGVudCA9ICh0LnRleHRDb250ZW50ICsgJyDvvIwnICsgdHQpCiAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCd4aXUtdGltZScpOwogICAgfQoKICAgIC8v5Y+R5biD5pe26Ze0572u6aG2CiAgICBpZiAobWVudV92YWx1ZSgnbWVudV9wdWJsaXNoVG9wJykgJiYgIShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUG9zdC1IZWFkZXIgPiAuQ29udGVudEl0ZW0tdGltZScpKSAmJiAhKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS1tZXRhID4gLkNvbnRlbnRJdGVtLXRpbWUnKSkpIHsKICAgICAgICBsZXQgdGVtcF90aW1lID0gdC5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgdGVtcF90aW1lLnN0eWxlLnBhZGRpbmcgPSAnMHB4JzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUG9zdC1IZWFkZXInKS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZUVuZCcsIHRlbXBfdGltZSk7CiAgICB9Cn0KCgovLyDlrozmlbTmmL7npLrml7bpl7QKZnVuY3Rpb24gdG9wVGltZV9hbGxUaW1lKHQpIHsKICAgIGlmICh0LnRleHRDb250ZW50LmluZGV4T2YoJ+WPkeW4g+S6jicpID4gLTEgJiYgdC50ZXh0Q29udGVudC5pbmRleE9mKCfnvJbovpHkuo4nKSA9PSAtMSkgewogICAgICAgIHQucXVlcnlTZWxlY3Rvcignc3BhbicpLnRleHRDb250ZW50ID0gKHQucXVlcnlTZWxlY3Rvcignc3BhbicpLmRhdGFzZXQudG9vbHRpcCk7CiAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdmdWxsJyk7CiAgICB9IGVsc2UgaWYgKHQudGV4dENvbnRlbnQuaW5kZXhPZign5Y+R5biD5LqOJykgPT0gLTEgJiYgdC50ZXh0Q29udGVudC5pbmRleE9mKCfnvJbovpHkuo4nKSA+IC0xKSB7CiAgICAgICAgdC5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQgPSAodC5xdWVyeVNlbGVjdG9yKCdzcGFuJykuZGF0YXNldC50b29sdGlwKSArICcg77yMJyArICh0LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS50ZXh0Q29udGVudCk7CiAgICAgICAgdC5jbGFzc0xpc3QuYWRkKCdmdWxsJyk7CiAgICB9Cn0KCgovLyDlj5HluIPml7bpl7Tnva7pobYKZnVuY3Rpb24gdG9wVGltZV9wdWJsaXNoVG9wKHQsIF90aGlzLCBfY2xhc3MpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9wdWJsaXNoVG9wJykpIHJldHVybgogICAgaWYgKCF0LnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKF9jbGFzcykpIHsKICAgICAgICBsZXQgdGVtcF90aW1lID0gdC5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgdGVtcF90aW1lLnN0eWxlLnBhZGRpbmcgPSAnMHB4JzsKICAgICAgICAvLyDlr7nkuo7ovoPnn63nmoTlm57nrZTvvIzpmpDol4/lm57nrZTlupXpg6jnmoTml7bpl7QKICAgICAgICBpZiAoX3RoaXMub2Zmc2V0SGVpZ2h0IDwgNjAwKSB0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgX3RoaXMucXVlcnlTZWxlY3RvcignLicgKyBfY2xhc3MpLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlRW5kJywgdGVtcF90aW1lKTsKICAgIH0KfQoKCi8vIOmXrumimOWIm+W7uuaXtumXtApmdW5jdGlvbiBxdWVzdGlvbl90aW1lKCkgewogICAgaWYgKCEoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uUGFnZSAuUXVlc3Rpb25IZWFkZXItc2lkZSAuUXVlc3Rpb25UaW1lLXhpdScpKSkgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5RdWVzdGlvblBhZ2UgLlF1ZXN0aW9uSGVhZGVyLXNpZGUnKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUVuZCcsICc8ZGl2IGNsYXNzPSJRdWVzdGlvblRpbWUteGl1IiBzdHlsZT0iY29sb3I6ICM5MDk4YWM7IG1hcmdpbi10b3A6IDVweDsgZm9udC1zaXplOiAxM3B4OyBmb250LXN0eWxlOiBpdGFsaWM7Ij48cD7liJvlu7rml7bpl7TvvJonICsgZ2V0VVRDOChuZXcgRGF0ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUXVlc3Rpb25QYWdlID4gbWV0YVtpdGVtcHJvcD1kYXRlQ3JlYXRlZF0nKS5jb250ZW50KSkgKyAnPC9wPjxwPuacgOWQjue8lui+ke+8micgKyBnZXRVVEM4KG5ldyBEYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5RdWVzdGlvblBhZ2UgPiBtZXRhW2l0ZW1wcm9wPWRhdGVNb2RpZmllZF0nKS5jb250ZW50KSkgKyAnPC9wPjwvZGl2PicpOwogICAgfQp9CgoKLy8gVVRDIOagh+WHhuaXtui9rCBVVEMrOCDljJfkuqzml7bpl7TvvIzkv67mlLnoh6rvvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDAyODA477yI57K+566A77yJCmZ1bmN0aW9uIGdldFVUQzgodCkgewogICAgcmV0dXJuICh0LmdldEZ1bGxZZWFyKCkgKyAnLScgKyAoKCh0LmdldE1vbnRoKCkgKyAxKSA8IDEwKSA/ICgnMCcgKyAodC5nZXRNb250aCgpICsgMSkpIDogKHQuZ2V0TW9udGgoKSArIDEpKSArICctJyArICgodC5nZXREYXRlKCkgPCAxMCkgPyAoJzAnICsgdC5nZXREYXRlKCkpIDogdC5nZXREYXRlKCkpICsgJ1x4YTBceGEwJyArICgodC5nZXRIb3VycygpIDwgMTApID8gKCcwJyArIHQuZ2V0SG91cnMoKSkgOiB0LmdldEhvdXJzKCkpICsgJzonICsgKCh0LmdldE1pbnV0ZXMoKSA8IDEwKSA/ICgnMCcgKyB0LmdldE1pbnV0ZXMoKSkgOiB0LmdldE1pbnV0ZXMoKSkgKyAnOicgKyAoKHQuZ2V0U2Vjb25kcygpIDwgMTApID8gKCcwJyArIHQuZ2V0U2Vjb25kcygpKSA6IHQuZ2V0U2Vjb25kcygpKSk7Cn0KCgovLyDpu5jorqTnq5nlpJbnm7Tpk77vvIzkv67mlLnoh6rvvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDAyODA477yI5LuOIEpRdWVyeSDmlLnkuLrljp/nlJ8gSmF2YVNjcmlwdO+8jOS4lOeyvueugOOAgeS8mOWMluS6huS7o+egge+8iQpmdW5jdGlvbiBkaXJlY3RMaW5rICgpIHsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EuZXh0ZXJuYWxbaHJlZio9ImxpbmsuemhpaHUuY29tLz90YXJnZXQ9Il0sIGEuTGlua0NhcmRbaHJlZio9ImxpbmsuemhpaHUuY29tLz90YXJnZXQ9Il06bm90KC5NQ05MaW5rQ2FyZCk6bm90KC5aVmlkZW9MaW5rQ2FyZCk6bm90KC5BRExpbmtDYXJkQ29udGFpbmVyKScpLmZvckVhY2goZnVuY3Rpb24gKF90aGlzKSB7X3RoaXMuaHJlZiA9IGRlY29kZVVSSUNvbXBvbmVudChfdGhpcy5ocmVmLnN1YnN0cmluZyhfdGhpcy5ocmVmLmluZGV4T2YoJ2xpbmsuemhpaHUuY29tLz90YXJnZXQ9JykgKyAyMykpO30pOwp9CgoKLy8g6buY6K6k6auY5riF5Y6f5Zu+77yM5L+u5pS56Ieq77yaaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQwMjgwOO+8iOS7jiBKUXVlcnkg5pS55Li65Y6f55SfIEphdmFTY3JpcHTvvIzkuJTnsr7nroDjgIHkvJjljJbkuobku6PnoIHvvIkKZnVuY3Rpb24gb3JpZ2luYWxQaWMoKXsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZ1tkYXRhLW9yaWdpbmFsXTpub3QoLmNvbW1lbnRfc3RpY2tlcik6bm90KC5BdmF0YXIpJykuZm9yRWFjaChmdW5jdGlvbihvbmUpe2lmIChvbmUuc3JjICE9IG9uZS5kYXRhc2V0Lm9yaWdpbmFsKSB7b25lLnNyYyA9IG9uZS5kYXRhc2V0Lm9yaWdpbmFsfX0pOwp9CgoKLy8g6buY6K6k5oqY5Y+g6YKA6K+377yM5L+u5pS56Ieq77yaaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQwMjgwOO+8iOS7jiBKUXVlcnkg5pS55Li65Y6f55SfIEphdmFTY3JpcHTvvIzkuJTnsr7nroDjgIHkvJjljJbkuobku6PnoIHvvIkKZnVuY3Rpb24gcXVlc3Rpb25JbnZpdGF0aW9uKCl7CiAgICBsZXQgdGltZSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7CiAgICAgICAgbGV0IHEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUXVlc3Rpb25JbnZpdGF0aW9uLWNvbnRlbnQnKTsgaWYgKCFxKSByZXR1cm4KICAgICAgICBjbGVhckludGVydmFsKHRpbWUpOwogICAgICAgIHEuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUXVlc3Rpb25JbnZpdGF0aW9uLXRpdGxlJykuaW5uZXJIVE1MID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uSW52aXRhdGlvbi10aXRsZScpLmlubmVyVGV4dCArICc8c3BhbiBzdHlsZT0iY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjOTE5YWFlOyI+IOWxleW8gC/mipjlj6A8L3NwYW4+JwogICAgICAgIC8vIOeCueWHu+S6i+S7tu+8iOWxleW8gC/mipjlj6DvvIkKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuVG9wYmFyJykub25jbGljayA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGxldCBxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uSW52aXRhdGlvbi1jb250ZW50JykKICAgICAgICAgICAgaWYgKHEuc3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHsKICAgICAgICAgICAgICAgIHEuc3R5bGUuZGlzcGxheSA9ICcnCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBxLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9CgovLyDlsY/olL3ng63mppzmnYLpobkKZnVuY3Rpb24gYmxvY2tIb3RPdGhlcigpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVMaXZlSG90JykpIHJldHVybjsKCiAgICBjb25zdCBpc1F1ZXN0aW9uSXRlbSA9IChob3RJdGVtKSA9PiB7CiAgICAgICAgY29uc3QgbGlua0l0ZW0gPSBob3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5Ib3RJdGVtLWNvbnRlbnQgYScpOwogICAgICAgIGlmIChsaW5rSXRlbSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiAvXC9xdWVzdGlvblwvXGQrLy50ZXN0KGxpbmtJdGVtLmhyZWYpOwogICAgfQoKICAgIGNvbnN0IGJsb2NrID0gKCkgPT4gewogICAgICAgIHJlbW92ZUxpdmVJdGVtcygpOwogICAgICAgIGZpeEl0ZW1SYW5rKCk7CiAgICB9OwoKICAgIC8vIOenu+mZpOmdnumXrumimOeahOWGheWuuQogICAgY29uc3QgcmVtb3ZlTGl2ZUl0ZW1zID0gKCkgPT4gewogICAgICAgIGNvbnN0IGhvdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkhvdExpc3QtbGlzdCAuSG90SXRlbScpOwogICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBob3RJdGVtcykgewogICAgICAgICAgICBpZiAoIWlzUXVlc3Rpb25JdGVtKGl0ZW0pKSBpdGVtLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyDkv67lpI3mjpLooYzmppzluo/lj7cKICAgIGNvbnN0IGZpeEl0ZW1SYW5rID0gKCkgPT4gewogICAgICAgIGNvbnN0IGhvdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkhvdExpc3QtbGlzdCAuSG90SXRlbTpub3QoW2hpZGRlbl0pJyk7CiAgICAgICAgaG90SXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgY29uc3QgcmFuayA9IGl0ZW0ucXVlcnlTZWxlY3RvcignLkhvdEl0ZW0taW5kZXggLkhvdEl0ZW0tcmFuaycpOwogICAgICAgICAgICBpZiAocmFuayAhPT0gbnVsbCkgcmFuay5pbm5lclRleHQgPSBpbmRleCArIDE7CiAgICAgICAgfSk7CiAgICB9CgogICAgY29uc3QgYmxvY2tMaXZlX2NvbnRlbnQgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHsKICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJy5Ib3RJdGVtJykpIHsKICAgICAgICAgICAgICAgICAgICBibG9jaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoYmxvY2tMaXZlX2NvbnRlbnQpOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CgogICAgLy8g5Yid5aeL56e76ZmkCiAgICBibG9jaygpOwp9CgoKKGZ1bmN0aW9uKCkgewogICAgaWYgKHdpbmRvdy5vbnVybGNoYW5nZSA9PT0gdW5kZWZpbmVkKSB7YWRkVXJsQ2hhbmdlRXZlbnQoKTt9IC8vIFRhbXBlcm1vbmtleSB2NC4xMSDniYjmnKzmt7vliqDnmoQgb251cmxjaGFuZ2Ug5LqL5Lu2IGdyYW5077yM5Y+v5Lul55uR5o6nIHBqYXgg562J572R6aG155qEIFVSTCDlj5jljJYKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1cmxjaGFuZ2UnLCBmdW5jdGlvbigpeyAvLyDpkojlr7nnmoTmmK/ku47ljZXkuKrlm57nrZTpobXot7PovazliLDlrozmlbTlm57nrZTpobXml7YKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigncXVlc3Rpb24nKSA+IC0xICYmIGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ3dhaXRpbmcnKSA9PT0gLTEgJiYgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2Fuc3dlci8nKSA9PT0gLTEpIHsgLy8gICAgICAg5Zue562U6aG1IC8vCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignLlF1ZXN0aW9uUGFnZScpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCcuUXVlc3Rpb24tbWFpbicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgICAgICBxdWVzdGlvblJpY2hUZXh0TW9yZSgpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsZXlvIDpl67popjmj4/ov7AKICAgICAgICAgICAgICAgIGJsb2NrVXNlcnMoJ3F1ZXN0aW9uJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumueUqOaItwogICAgICAgICAgICAgICAgYmxvY2tZYW5YdWFuKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS955uQ6YCJ5YaF5a65CiAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PSAnLycpIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgICAgYmxvY2tVc2VycygnaW5kZXgnKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a55So5oi3CiAgICAgICAgICAgICAgICBibG9ja0tleXdvcmRzKCdpbmRleCcpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprlhbPplK7or40KICAgICAgICAgICAgICAgIGJsb2NrVHlwZSgpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+Wumuexu+WIq++8iOinhumikS/mlofnq6DnrYnvvIkKICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09ICcvaG90JykgewogICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAgICAgICAvL+Wxj+iUveaMh+WumuWFs+mUruivjQogICAgICAgICAgICAgICAgYmxvY2tLZXl3b3JkcygnaW5kZXgnKTsKICAgICAgICAgICAgICAgIC8vIOenu+mZpOeDreaSreadgumhuQogICAgICAgICAgICAgICAgYmxvY2tIb3RPdGhlcigpOwogICAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0KICAgIH0pCgogICAgcmVtb3ZlTG9naW4oKTsgLy8g56e76Zmk55m75b2V5by556qX77yMVmlvbGVudG1vbmtleSDkuI3og73lu7bov5/miafooYzov5nkuKoKICAgIGNsZWFuVGl0bGVzKCk7IC8vIOWHgOWMluagh+mimOa2iOaBr++8jOS4jeiDveW7tui/n+aJp+ihjAogICAgLy8gVmlvbGVudG1vbmtleSDmr5QgVGFtcGVybW9ua2V5IOWKoOi9veabtOaXqe+8jOS8muWvvOiHtOS4gOS6m+WFg+e0oOi/mOayoeWKoOi9ve+8jOWboOatpOmcgOimgeW7tui/n+S4gOS8muWEvwogICAgLy8gVGFtcGVybW9ua2V5IDQuMTguMCDniYjmnKzlj6/og73pnIDopoHlu7bov5/kuIDkvJrmiafooYwKICAgIGlmIChHTV9pbmZvLnNjcmlwdEhhbmRsZXIgPT09ICdWaW9sZW50bW9ua2V5JyB8fCAoR01faW5mby5zY3JpcHRIYW5kbGVyID09PSAnVGFtcGVybW9ua2V5JyAmJiBwYXJzZUZsb2F0KEdNX2luZm8udmVyc2lvbi5zbGljZSgwLDQpKSA+PSA0LjE4KSkgewogICAgICAgIHNldFRpbWVvdXQoc3RhcnQsIDMwMCk7CiAgICB9IGVsc2UgewogICAgICAgIHN0YXJ0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gc3RhcnQoKXsKICAgICAgICByZW1vdmVIaWdobGlnaHRMaW5rKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOenu+mZpOmrmOS6rumTvuaOpQogICAgICAgIHNldEludGVydmFsKG9yaWdpbmFsUGljLDEwMCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6buY6K6k6auY5riF5Y6f5Zu+CiAgICAgICAgc2V0SW50ZXJ2YWwoZGlyZWN0TGluaywgMTAwKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpu5jorqTnq5nlpJbnm7Tpk74KICAgICAgICBpZiAobG9jYXRpb24uaG9zdG5hbWUgIT0gJ3podWFubGFuLnpoaWh1LmNvbScpIHsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9jb2x1bW4vJykgPT09IC0xKSBjbGVhblNlYXJjaCgpOyAvL+WHgOWMluaQnOe0oueDremXqAogICAgICAgICAgICBjb2xsYXBzZWRBbnN3ZXIoKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5LiA6ZSu5pS26LW35Zue562UCiAgICAgICAgfQogICAgICAgIGNsb3NlRmxvYXRpbmdDb21tZW50cygpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5b+r5o235YWz6Zet5oKs5rWu6K+E6K6677yI55uR5ZCs54K55Ye75LqL5Lu277yM54K55Ye7572R6aG15Lik5L6n56m655m95aSE77yJCiAgICAgICAgYmxvY2tLZXl3b3JkcygnY29tbWVudCcpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprlhbPplK7or43vvIjor4TorrrvvIkKCgogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCdxdWVzdGlvbicpID4gLTEgJiYgbG9jYXRpb24uaHJlZi5pbmRleE9mKCcvbG9nJykgPT0gLTEpIHsgLy8gICAgICAg5Zue562U6aG1IC8vCiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCd3YWl0aW5nJykgPT0gLTEpIHsKICAgICAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignLlF1ZXN0aW9uUGFnZScpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCcuUXVlc3Rpb24tbWFpbicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgICAgICBxdWVzdGlvblJpY2hUZXh0TW9yZSgpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsZXlvIDpl67popjmj4/ov7AKICAgICAgICAgICAgICAgIGJsb2NrVXNlcnMoJ3F1ZXN0aW9uJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumueUqOaItwogICAgICAgICAgICAgICAgYmxvY2tZYW5YdWFuKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS955uQ6YCJ5YaF5a65CiAgICAgICAgICAgICAgICBibG9ja1R5cGUoJ3F1ZXN0aW9uJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprnsbvliKvvvIjop4bpopEv5paH56ug562J77yJCiAgICAgICAgICAgICAgICBkZWZhdWx0Q29sbGFwc2VkQW5zd2VyKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpu5jorqTmlLbotbflm57nrZQKICAgICAgICAgICAgfQogICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpe3RvcFRpbWVfKCcuQ29udGVudEl0ZW0uQW5zd2VySXRlbScsICdDb250ZW50SXRlbS1tZXRhJyl9LCAzMDApOyAvLyDnva7pobbmmL7npLrml7bpl7QKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe3F1ZXN0aW9uX3RpbWUoKTsgcXVlc3Rpb25fYXV0aG9yKCl9LCAxMDApOyAvL+mXrumimOWIm+W7uuaXtumXtCArIOaYvuekuumXrumimOS9nOiAhQogICAgICAgICAgICBxdWVzdGlvbkludml0YXRpb24oKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6buY6K6k5oqY5Y+g6YKA6K+3CgogICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoJykgeyAvLyAgICAgICAgICDmkJzntKLnu5PmnpzpobUgLy8KICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCdtYWluIGRpdicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJy5TZWFyY2gtY29udGFpbmVyJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7dG9wVGltZV8oJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtLCAuQ29udGVudEl0ZW0uQXJ0aWNsZUl0ZW0nLCAnU2VhcmNoSXRlbS1tZXRhJyl9LCAzMDApOyAvLyDnva7pobbmmL7npLrml7bpl7QKICAgICAgICAgICAgYWRkVHlwZVRpcHMoKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWMuuWIhumXrumimOaWh+eroAogICAgICAgICAgICBhZGRUb1F1ZXN0aW9uKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg55u06L6+6Zeu6aKY5oyJ6ZKuCiAgICAgICAgICAgIGJsb2NrVXNlcnMoJ3NlYXJjaCcpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprnlKjmiLcKICAgICAgICAgICAgYmxvY2tLZXl3b3Jkcygnc2VhcmNoJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumuWFs+mUruivjQogICAgICAgICAgICBibG9ja1R5cGUoJ3NlYXJjaCcpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a57G75Yir77yI6KeG6aKRL+aWh+eroOetie+8iQoKCiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvdG9waWMvJykgPiAtMSkgeyAvLyAgIOivnemimOmhtSAvLwogICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2hvdCcpID4gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCcvdG9wLWFuc3dlcnMnKSA+IC0xKSB7IC8vIOS7hemZkCBb6K6o6K66XSBb57K+5Y2OXQogICAgICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCdtYWluLkFwcC1tYWluJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpe3RvcFRpbWVfKCcuQ29udGVudEl0ZW0uQW5zd2VySXRlbSwgLkNvbnRlbnRJdGVtLkFydGljbGVJdGVtJywgJ0NvbnRlbnRJdGVtLW1ldGEnKX0sIDMwMCk7IC8vIOe9rumhtuaYvuekuuaXtumXtAogICAgICAgICAgICAgICAgYWRkVHlwZVRpcHMoKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Yy65YiG6Zeu6aKY5paH56ugCiAgICAgICAgICAgICAgICBhZGRUb1F1ZXN0aW9uKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnm7Tovr7pl67popjmjInpkq4KICAgICAgICAgICAgICAgIGJsb2NrVXNlcnMoJ3RvcGljJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumueUqOaItwogICAgICAgICAgICAgICAgYmxvY2tLZXl3b3JkcygndG9waWMnKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a5YWz6ZSu6K+NCiAgICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ3podWFubGFuLnpoaWh1LmNvbScpeyAvLyAgICDmlofnq6AgLy8KICAgICAgICAgICAgYmFja1RvVG9wKCdhcnRpY2xlLlBvc3QtTWFpbi5Qb3N0LU5vcm1hbE1haW4nKTsgLy8gICAgICAgICAgICAgICAgIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICBiYWNrVG9Ub3AoJ2Rpdi5Qb3N0LVN1Yi5Qb3N0LU5vcm1hbFN1YicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgIHNldFRpbWVvdXQodG9wVGltZV9wb3N0LCAzMDApOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnva7pobbmmL7npLrml7bpl7QKICAgICAgICAgICAgYmxvY2tVc2VycygpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumueUqOaItwoKCiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvY29sdW1uLycpID4gLTEpIHsgLy8gICAg5LiT5qCPIC8vCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGNvbGxhcHNlZEFuc3dlcigpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDkuIDplK7mlLbotbflm57nrZQKICAgICAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignbWFpbiBkaXYnKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDmlLbotbflvZPliY3lm57nrZQgKyDlv6vmjbfov5Tlm57pobbpg6gKICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7dG9wVGltZV8oJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtLCAuQ29udGVudEl0ZW0uQXJ0aWNsZUl0ZW0nLCAnQ29udGVudEl0ZW0tbWV0YScpfSwgMzAwKTsgLy8g572u6aG25pi+56S65pe26Ze0CiAgICAgICAgICAgICAgICBibG9ja1VzZXJzKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a55So5oi3CiAgICAgICAgICAgIH0sIDMwMCk7CgoKICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9wZW9wbGUvJykgPiAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJ29yZycpID4gLTEpIHsgLy8g55So5oi35Li76aG1IC8vCiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpLmxlbmd0aCA9PT0gMykgYWRkVHlwZVRpcHMoKTthZGRUb1F1ZXN0aW9uKCk7IC8vIOWMuuWIhumXrumimOaWh+eroOOAgeebtOi+vumXrumimOaMiemSrgogICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJ21haW4gZGl2Jyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignLlByb2ZpbGUtbWFpbicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICDmlLbotbflvZPliY3lm57nrZQgKyDlv6vmjbfov5Tlm57pobbpg6gKICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0b3BUaW1lXygnLkNvbnRlbnRJdGVtLkFuc3dlckl0ZW0sIC5Db250ZW50SXRlbS5BcnRpY2xlSXRlbScsICdDb250ZW50SXRlbS1tZXRhJyl9LCAzMDApOyAvLyDnva7pobbmmL7npLrml7bpl7QKICAgICAgICAgICAgYmxvY2tVc2VycygncGVvcGxlJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumueUqOaItwogICAgICAgICAgICBibG9ja0tleXdvcmRzKCdwZW9wbGUnKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a5YWz6ZSu6K+NCgoKICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9jb2xsZWN0aW9uLycpID4gLTEpIHsgLy8g5pS26JeP5aS5IC8vCiAgICAgICAgICAgIGFkZFR5cGVUaXBzKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDljLrliIbpl67popjmlofnq6AKICAgICAgICAgICAgYWRkVG9RdWVzdGlvbigpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOebtOi+vumXrumimOaMiemSrgogICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJ21haW4nKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignLkNvbGxlY3Rpb25zRGV0YWlsUGFnZScpOyAvLyAgICAgICAgICAgICAgICAgICDmlLbotbflvZPliY3lm57nrZQgKyDlv6vmjbfov5Tlm57pobbpg6gKICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0b3BUaW1lXygnLkNvbnRlbnRJdGVtLkFuc3dlckl0ZW0sIC5Db250ZW50SXRlbS5BcnRpY2xlSXRlbScsICdDb250ZW50SXRlbS1tZXRhJyl9LCAzMDApOyAvLyDnva7pobbmmL7npLrml7bpl7QKICAgICAgICAgICAgYmxvY2tLZXl3b3JkcygnY29sbGVjdGlvbicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumuWFs+mUruivjQoKCiAgICAgICAgfSBlbHNlIHsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmmlumhtSAvLwogICAgICAgICAgICAvLyDop6PlhrPlsY/olL3nsbvliKvlkI7vvIzlm6DkuLrpppbpobXkv6Hmga/mtYHlpKrlsJHogIzmsqHmnInmu5rliqjmnaHlr7zoh7Tml6Dms5XliqDovb3mm7TlpJrlhoXlrrnnmoTpl67popgKICAgICAgICAgICAgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9ICcuVG9wc3RvcnktY29udGFpbmVyIHttaW4taGVpZ2h0OiAxNTAwcHg7fSc7CiAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVZpZGVvJykpIGRvY3VtZW50Lmxhc3RDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9IGAuQ2FyZCAuWlZpZGVvSXRlbS12aWRlbywgbmF2LlRvcHN0b3J5VGFicyA+IGFbYXJpYS1jb250cm9scz0iVG9wc3RvcnktenZpZGVvIl0ge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9YDsKCiAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignbWFpbiBkaXYnKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDmlLbotbflvZPliY3lm57nrZQgKyDlv6vmjbfov5Tlm57pobbpg6gKICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCcuVG9wc3RvcnktY29udGFpbmVyJyk7IC8vICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpe3RvcFRpbWVfKCcuVG9wc3RvcnlJdGVtJywgJ0NvbnRlbnRJdGVtLW1ldGEnKX0sIDMwMCk7IC8vIOe9rumhtuaYvuekuuaXtumXtAogICAgICAgICAgICBhZGRUeXBlVGlwcygpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Yy65YiG6Zeu6aKY5paH56ugCiAgICAgICAgICAgIGFkZFRvUXVlc3Rpb24oKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnm7Tovr7pl67popjmjInpkq4KICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09ICcvJykgewogICAgICAgICAgICAgICAgYmxvY2tVc2VycygnaW5kZXgnKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a55So5oi3CiAgICAgICAgICAgICAgICBibG9ja0tleXdvcmRzKCdpbmRleCcpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprlhbPplK7or40KICAgICAgICAgICAgICAgIGJsb2NrVHlwZSgpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+Wumuexu+WIq++8iOinhumikS/mlofnq6DnrYnvvIkKICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PSAnL2hvdCcpIHsKICAgICAgICAgICAgICAgIGJsb2NrS2V5d29yZHMoJ2luZGV4Jyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumuWFs+mUruivjQogICAgICAgICAgICAgICAgYmxvY2tIb3RPdGhlcigpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS954Ot5qac5p2C6aG5CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBibG9ja1VzZXJzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0pKCk7Cg=="},{"name":"„ÄêProÁâà„ÄëBÁ´ôÂìîÂì©ÂìîÂì©‰ΩøÁî®Â¢ûÂº∫ÔºåÂÖ®ÁΩëVIPËßÜÈ¢ëÂÖçË¥πÁ†¥Ëß£ÂéªÂπøÂëäÔºåÁü•‰πé‰ΩøÁî®Â¢ûÂº∫ÔºåÁü≠ËßÜÈ¢ëÊó†Ê∞¥Âç∞‰∏ãËΩΩÔºåÊ≤πÁÆ°„ÄÅFacebookÁ≠âÂõΩÂ§ñËßÜÈ¢ëËß£Êûê‰∏ãËΩΩÁ≠âüòà","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["api.bilibili.com","api.live.bilibili.com","gitlab.com","tt.shuqiandiqiu.com","j.jiayoushichang.com"],"orig_excludes":["*://login.taobao.com/*","*://uland.taobao.com/*","*://www.taobao.com/*","*://map.taobao.com/*","*://jingfen.jd.com/*","*://pages.tmall.com/*"],"orig_includes":["*://*.youku.com/v_*","*://*.iqiyi.com/v_*","*://*.iqiyi.com/w_*","*://*.iqiyi.com/a_*","*://*.iqiyi.com/resource/pcw/play/*","*://*.le.com/ptv/vplay/*","*://v.qq.com/x/cover/*","*://v.qq.com/x/page/*","*://v.qq.com/tv/*","*://*.tudou.com/listplay/*","*://*.tudou.com/albumplay/*","*://*.tudou.com/programs/view/*","*://*.mgtv.com/b/*","*://film.sohu.com/album/*","*://tv.sohu.com/v/*","*://*.baofeng.com/play/*","*://vip.pptv.com/show/*","*://v.pptv.com/show/*","*://www.le.com/ptv/vplay/*","*://www.wasu.cn/Play/show/*","*://*.1905.com/video/*","*://*.1905.com/play/*","*://*.1905.com/*/play/*","*://www.miguvideo.com/mgs/*","*://m.v.qq.com/x/cover/*","*://m.v.qq.com/x/page/*","*://m.v.qq.com/*","*://m.iqiyi.com/v_*","*://m.iqiyi.com/w_*","*://m.iqiyi.com/a_*","*://m.youku.com/alipay_video/*","*://m.youku.com/video/id_*","*://m.mgtv.com/b/*","*://m.tv.sohu.com/v/*","*://m.film.sohu.com/album/*","*://m.le.com/ptv/vplay/*","*://m.pptv.com/show/*","*://m.acfun.cn/v/*","*://m.wasu.cn/Play/show/*","*://www.baidu.com/*","*://www.so.com/s*","*://www.sogou.com/web*","*://www.sogou.com/sogou*","*://cn.bing.com/search*","*://www.bing.com/search*","*://www4.bing.com/search*","*://so.toutiao.com/search*","*://www.google.com/search*","*://www.google.com.hk/search*","*://www.bilibili.com/**","*://search.bilibili.com/**","*://space.bilibili.com/**","*://www.bilibili.com/read/**","*://*.zhihu.com/*","*://www.douyin.com/*","*://www.kuaishou.com/*","*://www.youtube.com","*://www.youtube.com/","*://www.youtube.com/watch*","*://www.facebook.com/*","*://yt1s.com/facebook-downloader","*://*.taobao.com/*","*://*.tmall.com/*","*://chaoshi.detail.tmall.com/*","*://pages.tmall.com/wow/an/cs/search**","*://*.tmall.hk/*","*://*.liangxinyao.com/*","*://*.jd.com/*","*://*.jd.hk/*","*://*.yiyaojd.com/*","*://category.vip.com/suggest.php**","*://detail.vip.com/detail-*","*://www.vipglobal.hk/detail-*","*://list.vip.com/*.html"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1714550583361},"storage":{"ts":1714550505678,"data":{"bilibili_signIn":"s2024-5-1","bilibili_video_record":"sBV1Gw4m1C7uwBV1Dw4m1y7pVBV1WE421M75Z","download_setting_key":"o{\"RPCURL\": \"ws://localhost:16800/jsonrpc\",\"savePath\": \"C:/Users/wyswy/Downloads\",\"RPCToken\": \"\",\"downloadWay\": \"Motrix\"}","show_dialog_interval_key":"o{\"update\": 1714550009439,\"ignore\": 0,\"autoHide\": 0}","show_dialog_key":"n1714550005387"}},"enabled":true,"position":3,"file_url":"https://update.greasyfork.org/scripts/469407/B%E7%AB%99%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E4%BD%BF%E7%94%A8%E5%A2%9E%E5%BC%BA%EF%BC%8C%E5%85%A8%E7%BD%91VIP%E8%A7%86%E9%A2%91%E5%85%8D%E8%B4%B9%E7%A0%B4%E8%A7%A3%E5%8E%BB%E5%B9%BF%E5%91%8A%EF%BC%8C%E7%9F%A5%E4%B9%8E%E4%BD%BF%E7%94%A8%E5%A2%9E%E5%BC%BA%EF%BC%8C%E7%9F%AD%E8%A7%86%E9%A2%91%E6%97%A0%E6%B0%B4%E5%8D%B0%E4%B8%8B%E8%BD%BD%EF%BC%8C%E6%B2%B9%E7%AE%A1%E3%80%81Facebook%E7%AD%89%E5%9B%BD%E5%A4%96%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E4%B8%8B%E8%BD%BD%E7%AD%89%F0%9F%98%88.user.js","uuid":"e553032f-c543-453b-86d3-332452223369","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOOAkFByb+eJiOOAkULnq5nlk5Tlk6nlk5Tlk6nkvb/nlKjlop7lvLrvvIzlhajnvZFWSVDop4bpopHlhY3otLnnoLTop6Pljrvlub/lkYrvvIznn6XkuY7kvb/nlKjlop7lvLrvvIznn63op4bpopHml6DmsLTljbDkuIvovb3vvIzmsrnnrqHjgIFGYWNlYm9va+etieWbveWkluinhumikeino+aekOS4i+i9veetifCfmIgKLy8gQG5hbWU6emggICAgICAgICAgIOOAkFByb+eJiOOAkULnq5nlk5Tlk6nlk5Tlk6nkvb/nlKjlop7lvLrvvIzlhajnvZFWSVDop4bpopHlhY3otLnnoLTop6Pljrvlub/lkYrvvIznn6XkuY7kvb/nlKjlop7lvLrvvIznn63op4bpopHml6DmsLTljbDkuIvovb3vvIzmsrnnrqHjgIFGYWNlYm9va+etieWbveWkluinhumikeino+aekOS4i+i9veetifCfmIgKLy8gQG5hbWU6emgtVFcJCSAg44CQUHJv54mI44CRQuermeWXtuWTqeWXtuWTqeS9v+eUqOWinuW8t++8jOWFqOe2slZJUOimlumgu+WFjeiyu+egtOino+WOu+W7o+WRiu+8jOefpeS5juS9v+eUqOWinuW8t++8jOefreimlumgu+eEoeawtOWNsOS4i+i8ie+8jOayueeuoeOAgUZhY2Vib29r562J5ZyL5aSW6KaW6aC76Kej5p6Q5LiL6LyJ562J8J+YiAovLyBAbmFtZXNwYWNlICAgICAgICAgYmlsaWJpbGlfbmFtZXNwYWNlXzIwMjMwNjI1Ci8vIEB2ZXJzaW9uICAgICAgICAgICAyLjAuMTAKLy8gQGRlc2NyaXB0aW9uICAgICAgIOWKn+iDveWPr+mAieaLqeaAp+aJk+W8gO+8mjHjgIFC56uZ5L2/55So5aKe5by677ya5pSv5oyB6KeG6aKR5LiL6L29KPCfkYnmlK/mjIHlpJpQ5om56YeP5b+r6YCf5LiL6L298J+RiCnjgIHmtY/op4jorrDlvZXmj5DnpLrjgIHkuIDplK7kuInov57jgIHoh6rliqjnrb7liLDjgIHmj4/ov7DmlofmnKznvZHlnYDovazpk77mjqXnrYnvvJsy44CB5YWo572RVklQ6KeG6aKR6Kej5p6Q77ya54ix5aWH6Im644CB6IW+6K6v44CB5LyY6YW344CBYmlsaWJpbGnnrYnop4bpopHlhY3otLnop6PmnpAo5pSv5oyB6Ieq5a6a5LmJ6Kej5p6Q5o6l5Y+jKe+8mzPjgIHnn6XkuY7kvb/nlKjliqnmiYvvvJrlhoXlrrnnp43nsbvmoIfor4bjgIHpl67nrZTmmL7npLrkvJjljJbjgIHop4bpopHkuIvovb3nrYnvvJs044CB55+t6KeG6aKR5Y675rC05Y2w5LiL6L2977ya5pSv5oyB55+l5LmO44CB5oqW6Z+z44CB5b+r5omL562J77ybNeOAgeayueeuoeOAgUZhY2Vib29r562J5Zu95aSW6KeG6aKR6Kej5p6Q5LiL6L2977yb8J+UpTbjgIHmkJzntKLlvJXmk47lip/og73lop7lvLos55m+5bqm5re75Yqg572R5Z2A5pi+56S677yMZ29vZ2xl57uT5p6c5paw5qCH562+6aG15omT5byA54GvLOWvvOiIquWPr+iHquWumuS5iee9keWdgOOAkOiEmuacrOmVv+acn+e7tOaKpOabtOaWsO+8jOWujOWFqOWFjei0ue+8jOaXoOW5v+WRiu+8jOS7hemZkOWtpuS5oOS6pOa1ge+8ge+8geOAkQovLyBAZGVzY3JpcHRpb246emggICAg5Yqf6IO95Y+v6YCJ5oup5oCn5omT5byA77yaMeOAgULnq5nkvb/nlKjlop7lvLrvvJrmlK/mjIHop4bpopHkuIvovb0o8J+RieaUr+aMgeWkmlDmibnph4/lv6vpgJ/kuIvovb3wn5GIKeOAgea1j+iniOiusOW9leaPkOekuuOAgeS4gOmUruS4iei/nuOAgeiHquWKqOetvuWIsOOAgeaPj+i/sOaWh+acrOe9keWdgOi9rOmTvuaOpeetie+8mzLjgIHlhajnvZFWSVDop4bpopHop6PmnpDvvJrniLHlpYfoibrjgIHohb7orq/jgIHkvJjphbfjgIFiaWxpYmlsaeetieinhumikeWFjei0ueino+aekCjmlK/mjIHoh6rlrprkuYnop6PmnpDmjqXlj6Mp77ybM+OAgeefpeS5juS9v+eUqOWKqeaJi++8muWGheWuueenjeexu+agh+ivhuOAgemXruetlOaYvuekuuS8mOWMluOAgeinhumikeS4i+i9veetie+8mzTjgIHnn63op4bpopHljrvmsLTljbDkuIvovb3vvJrmlK/mjIHnn6XkuY7jgIHmipbpn7PjgIHlv6vmiYvnrYnvvJs144CB5rK5566h44CBRmFjZWJvb2vnrYnlm73lpJbop4bpopHop6PmnpDkuIvovb3vvJvwn5SlNuOAgeaQnOe0ouW8leaTjuWKn+iDveWinuW8uiznmb7luqbmt7vliqDnvZHlnYDmmL7npLrvvIxnb29nbGXnu5PmnpzmlrDmoIfnrb7pobXmiZPlvIDnga8s5a+86Iiq5Y+v6Ieq5a6a5LmJ572R5Z2A44CQ6ISa5pys6ZW/5pyf57u05oqk5pu05paw77yM5a6M5YWo5YWN6LS577yM5peg5bm/5ZGK77yM5LuF6ZmQ5a2m5Lmg5Lqk5rWB77yB77yB44CRCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyDlip/og73lj6/pgbjmk4fmgKfplovllZ/vvJox44CBQuermeS9v+eUqOWinuW8t++8muaUr+aPtOimlumgu+S4i+i8iSjwn5GJ5pSv5o+05aSaUOaJuemHj+W/q+mAn+S4i+i8ifCfkYgp44CB54CP6Ka96KiY6YyE5o+Q56S644CB5LiA6Y215LiJ6YCj44CB6Ieq5YuV57C95Yiw44CB5o+P6L+w5paH5pys57ay5Z2A6L2J6YCj57WQ562J77ybMuOAgeWFqOe2slZJUOimlumgu+ino+aekO+8muaEm+Wlh+iXneOAgemosOioiuOAgeWEqumFt+OAgWJpbGliaWxp562J6KaW6aC75YWN6LK76Kej5p6QKOaUr+aPtOiHquWumue+qeino+aekOS7i+mdoinvvJsz44CB55+l5LmO5L2/55So5Yqp5omL77ya5YWn5a6556iu6aGe5qiZ6K2Y44CB5ZWP562U6aGv56S65YSq5YyW44CB6KaW6aC75LiL6LyJ562J77ybNOOAgeefreimlumgu+WOu+awtOWNsOS4i+i8ie+8muaUr+aPtOefpeS5juOAgeaKlumfs+OAgeW/q+aJi+etie+8mzXjgIHmsrnnrqHjgIFGYWNlYm9va+etieWci+Wkluimlumgu+ino+aekOS4i+i8ie+8m/CflKU244CB5pCc57Si5byV5pOO5Yqf6IO95aKe5by3LOeZvuW6pua3u+WKoOe2suWdgOmhr+ekuu+8jGdvb2dsZee1kOaenOaWsOaomeexpOmggemWi+WVn+eHiCzlsI7oiKrlj6/oh6rlrprnvqnntrLlnYDjgJDmjIfku6TnorzmiJbnm7Tora/lvI/nqIvlvI/plbfmnJ/ntq3orbfmm7TmlrDvvIzlrozlhajlhY3osrvvvIznhKHlu6PlkYrvvIzlg4XpmZDlrbjnv5LkuqTmtYHvvIHvvIHjgJEKLy8gQGF1dGhvciAgICAgICAgICAgIGh1YWh1YWNhdAovLyBAaWNvbiAgICAgICAgICAgICAgZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQ1MwbEVRVlJZUjhXWHoyb1RVUlRHdjNNbnBxaE5LeTFVV214UlRHZGFpTFNRUktrS0lvSzRGVnJSUG9IdTdCTVluMEIzK2dRcXV1aXVpQzZrYUZWc0FoR0Vaa0txRy8rVnJ0cDBZV3N5UjI3S2xFd3oweG5uVDNMZ3dqQjM3dmwrOTd0eno5d2hkRGlvdy9wd0JDam9mTjBBSm9od0tRZ2tNeFlGOERtdDBieGRuaGFBUW9XVFhNY3pFTkpCaEZ2R01ncWs0R1k2U1pYbVBndkFteS9jbllpakdxcnd2bVRWSFNRdXAyakx2RzBCeUpmNUVZRGJVUUlBZUp4UjZVNExRSEdWMVZvZGVzVGlqZlF4QmRya2FTckw2ejBIbHN0OGk0QW43UUJnWURhcjBsTXJnTTQ1SXR4ckN3RGpmbGFqbkMrQXRSOEd2bjh6R3B6OXh3Vk9qb3IvWm1hL0FOdC9HSXNMTld4dDhwN280SWlBbWxMUVArQzlwdmtHK0ZveVVQeFlzNTJ4aEZEUEtJaDN1UnZpRzJDbFdJZHNUcEhvSll5bUZOZGxpUXpBQkJzYUVaZzRwK0R3VWZ0bGlSeEFnZ3dPQzB4ZGlkbWExUmFBSTkyRWE5T0hPZ2N3UHFsQU5ydUkxQUVsaHNhMmRCS1hRSkVCbkRnbEdsdnhXTi9CTmNFM2dLeUNTNjliNjRBVWxNSVN3RXY0QnBESjM3NzhpL1hmdTVYUXRGdGFMcSs5UmlDQTZnWmovZGN1UU44QXVkb2Q2a3ZvZFladXo5azdVT0s3SlBEQWJYQVkvV3hnTGp0R0R5MmY0MDhWUGk4TUxJVWg0SmJERUxod05rbnZMUUR5UU5vVGg4N0FrRnVDSVAwRS9OemNnV1llVEMwYmRya05wNkxtOWJjNFlNNHFyL056RUdhQ3pOSnhMT05GUnFNYnpmMjJKU3Uvd2xjcGhod3pwc0lBSWNJSHJpR1hHYWRYKy9NZFdEUGZsVGpSeGNIK2tMWUpoWXRqNVBpejQvMGdGNFlWTmprNkR2QVBEYjBhTUVyOC9uRUFBQUFBU1VWT1JLNUNZSUk9Ci8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi55b3VrdS5jb20vdl8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi5pcWl5aS5jb20vdl8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi5pcWl5aS5jb20vd18qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi5pcWl5aS5jb20vYV8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi5pcWl5aS5jb20vcmVzb3VyY2UvcGN3L3BsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyoubGUuY29tL3B0di92cGxheS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vdi5xcS5jb20veC9jb3Zlci8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vdi5xcS5jb20veC9wYWdlLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly92LnFxLmNvbS90di8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi50dWRvdS5jb20vbGlzdHBsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyoudHVkb3UuY29tL2FsYnVtcGxheS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi50dWRvdS5jb20vcHJvZ3JhbXMvdmlldy8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi5tZ3R2LmNvbS9iLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9maWxtLnNvaHUuY29tL2FsYnVtLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly90di5zb2h1LmNvbS92LyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly8qLmJhb2ZlbmcuY29tL3BsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3ZpcC5wcHR2LmNvbS9zaG93LyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly92LnBwdHYuY29tL3Nob3cvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5sZS5jb20vcHR2L3ZwbGF5LyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cud2FzdS5jbi9QbGF5L3Nob3cvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyouMTkwNS5jb20vdmlkZW8vKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyouMTkwNS5jb20vcGxheS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi4xOTA1LmNvbS8qL3BsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5taWd1dmlkZW8uY29tL21ncy8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS52LnFxLmNvbS94L2NvdmVyLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9tLnYucXEuY29tL3gvcGFnZS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS52LnFxLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5pcWl5aS5jb20vdl8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5pcWl5aS5jb20vd18qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5pcWl5aS5jb20vYV8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS55b3VrdS5jb20vYWxpcGF5X3ZpZGVvLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9tLnlvdWt1LmNvbS92aWRlby9pZF8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5tZ3R2LmNvbS9iLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9tLnR2LnNvaHUuY29tL3YvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL20uZmlsbS5zb2h1LmNvbS9hbGJ1bS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS5sZS5jb20vcHR2L3ZwbGF5LyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9tLnBwdHYuY29tL3Nob3cvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL20uYWNmdW4uY24vdi8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vbS53YXN1LmNuL1BsYXkvc2hvdy8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LnNvLmNvbS9zKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5zb2dvdS5jb20vd2ViKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5zb2dvdS5jb20vc29nb3UqCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vY24uYmluZy5jb20vc2VhcmNoKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5iaW5nLmNvbS9zZWFyY2gqCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3NC5iaW5nLmNvbS9zZWFyY2gqCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vc28udG91dGlhby5jb20vc2VhcmNoKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5nb29nbGUuY29tL3NlYXJjaCoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cuZ29vZ2xlLmNvbS5oay9zZWFyY2gqCi8vIEBpbmNsdWRlCSAgIAkgICAgICAqOi8vd3d3LmJpbGliaWxpLmNvbS8qKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3NlYXJjaC5iaWxpYmlsaS5jb20vKioKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9zcGFjZS5iaWxpYmlsaS5jb20vKioKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cuYmlsaWJpbGkuY29tL3JlYWQvKioKLy8gQGluY2x1ZGUgICAgICAJICAqOi8vKi56aGlodS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5kb3V5aW4uY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cua3VhaXNob3UuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cueW91dHViZS5jb20KLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly93d3cueW91dHViZS5jb20vCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3d3dy5mYWNlYm9vay5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3l0MXMuY29tL2ZhY2Vib29rLWRvd25sb2FkZXIKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly8qLnRhb2Jhby5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyoudG1hbGwuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly9jaGFvc2hpLmRldGFpbC50bWFsbC5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL3BhZ2VzLnRtYWxsLmNvbS93b3cvYW4vY3Mvc2VhcmNoKioKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly8qLnRtYWxsLmhrLyoKLy8gQGluY2x1ZGUgICAgICAgICAgICo6Ly8qLmxpYW5neGlueWFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vKi5qZC5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyouamQuaGsvKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovLyoueWl5YW9qZC5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL2NhdGVnb3J5LnZpcC5jb20vc3VnZ2VzdC5waHAqKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL2RldGFpbC52aXAuY29tL2RldGFpbC0qCi8vIEBpbmNsdWRlICAgICAgICAgICAqOi8vd3d3LnZpcGdsb2JhbC5oay9kZXRhaWwtKgovLyBAaW5jbHVkZSAgICAgICAgICAgKjovL2xpc3QudmlwLmNvbS8qLmh0bWwKLy8gQGV4Y2x1ZGUgICAgICAgICAgICo6Ly9sb2dpbi50YW9iYW8uY29tLyoKLy8gQGV4Y2x1ZGUgICAgICAgICAgICo6Ly91bGFuZC50YW9iYW8uY29tLyoKLy8gQGV4Y2x1ZGUgICAgICAgICAgICo6Ly93d3cudGFvYmFvLmNvbS8qCi8vIEBleGNsdWRlICAgICAgICAgICAqOi8vbWFwLnRhb2Jhby5jb20vKgovLyBAZXhjbHVkZSAgICAgICAgICAgKjovL2ppbmdmZW4uamQuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICAgICAgICo6Ly9wYWdlcy50bWFsbC5jb20vKgovLyBAcmVxdWlyZSAgICAgICAgICAgaHR0cHM6Ly9sZjI2LWNkbi10b3MuYnl0ZWNkbnRwLmNvbS9jZG4vZXhwaXJlLTEtTS9qcXVlcnkvMy4yLjEvanF1ZXJ5Lm1pbi5qcwovLyBAcmVxdWlyZSAgICAgICAgICAgaHR0cHM6Ly9sZjktY2RuLXRvcy5ieXRlY2RudHAuY29tL2Nkbi9leHBpcmUtMS1NL2pxdWVyeS5xcmNvZGUvMS4wL2pxdWVyeS5xcmNvZGUubWluLmpzCi8vIEByZXF1aXJlICAgICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDU0MjM2LWZpbmRhbmRyZXBsYWNlZG9tdGV4dC1odWFodWFjYXQvY29kZS9maW5kQW5kUmVwbGFjZURPTVRleHQtaHVhaHVhY2F0LmpzP3ZlcnNpb249MTExMjk5MAovLyBAY29ubmVjdCAgICAgICAgICAgYXBpLmJpbGliaWxpLmNvbQovLyBAY29ubmVjdCAgICAgICAgICAgYXBpLmxpdmUuYmlsaWJpbGkuY29tCi8vIEBjb25uZWN0ICAgICAgICAgICBnaXRsYWIuY29tCi8vIEBjb25uZWN0CQkJICB0dC5zaHVxaWFuZGlxaXUuY29tCi8vIEBjb25uZWN0ICAgICAgICAgICBqLmppYXlvdXNoaWNoYW5nLmNvbQovLyBAZ3JhbnQgICAgICAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgICAgICBHTV9vcGVuSW5UYWIKLy8gQGdyYW50ICAgICAgICAgICAgIEdNLm9wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICAgIEdNLmdldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgR00uc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX2Rvd25sb2FkCi8vIEBncmFudCAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGxpY2Vuc2UgICAgICAgICAgIEFHUEwgTGljZW5zZQovLyBAY2hhcnNldAkJICAgICAgVVRGLTgKLy8gQHJ1bi1hdCAgICAgICAgICAgIGRvY3VtZW50LWlkbGUKLy8gQHVwZGF0ZVVSTCAgICAgICAgIGh0dHBzOi8vZ2l0bGFiLmNvbS9zY3JpcHQzNDczMzAzL3NjcmlwdF9wcm8vLS9yYXcvbWFpbi9wcm8udXNlci5qcwovLyBAZG93bmxvYWRVUkwgICAgICAgaHR0cHM6Ly9naXRsYWIuY29tL3NjcmlwdDM0NzMzMDMvc2NyaXB0X3Byby8tL3Jhdy9tYWluL3Byby51c2VyLmpzCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uICgpIHsKCSd1c2Ugc3RyaWN0JzsKCS8qKgogKiDohJrmnKzpgbXlvqpBR1BMIExpY2Vuc2XlvIDmupDljY/orq7vvJvlnKjljY/orq7lhYHorrjnmoTojIPlm7TnsbvvvIzlj6/ku6Xoh6rnlLHkv67mlLkKICog5byA5a6M5LiH5bKB77yB77yBCiAqLwoJLy/lhbHmnInmlrnms5XvvIzlhajlsYDlhbHkuqsKZnVuY3Rpb24gQ29tbW9uRnVuY3Rpb24oKXsKCXRoaXMuR01nZXRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZT1udWxsKSB7CgkJbGV0IHN0b3JhZ2VWYWx1ZSA9IHZhbHVlOwoJCWlmICh0eXBlb2YgR01fZ2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpIHsKCQkJc3RvcmFnZVZhbHVlID0gR01fZ2V0VmFsdWUobmFtZSwgdmFsdWUpOwoJCX0gZWxzZSBpZih0eXBlb2YgR00uc2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpewoJCQlzdG9yYWdlVmFsdWUgPSBHTS5nZXRWYWx1ZShuYW1lLCB2YWx1ZSk7CgkJfWVsc2V7CgkJCXZhciBhcnIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obmFtZSk7CgkJCWlmKGFyciAhPSBudWxsKXsKCQkJCXN0b3JhZ2VWYWx1ZSA9IGFycgoJCQl9CgkJfQoJCXJldHVybiBzdG9yYWdlVmFsdWU7Cgl9OwoJdGhpcy5HTXNldFZhbHVlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpewoJCWlmICh0eXBlb2YgR01fc2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpIHsKCQkJR01fc2V0VmFsdWUobmFtZSwgdmFsdWUpOwoJCX0gZWxzZSBpZih0eXBlb2YgR00uc2V0VmFsdWUgPT09ICJmdW5jdGlvbiIpewoJCQlHTS5zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7CgkJfWVsc2V7CgkJCXdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYW1lLCB2YWx1ZSkKCQl9Cgl9OwoJdGhpcy5HTWFkZFN0eWxlID0gZnVuY3Rpb24oY3NzKXsKCQl2YXIgbXlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CgkJbXlTdHlsZS50ZXh0Q29udGVudCA9IGNzczsKCQl2YXIgZG9jID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgkJZG9jLmFwcGVuZENoaWxkKG15U3R5bGUpOwoJfTsKCXRoaXMuR01vcGVuSW5UYWIgPSBmdW5jdGlvbih1cmwsIG9wdGlvbnM9eyJhY3RpdmUiOnRydWUsICJpbnNlcnQiOnRydWUsICJzZXRQYXJlbnQiOnRydWV9KXsKCQlpZiAodHlwZW9mIEdNX29wZW5JblRhYiA9PT0gImZ1bmN0aW9uIikgewoJCQlHTV9vcGVuSW5UYWIodXJsLCBvcHRpb25zKTsKCQl9IGVsc2UgewoJCQlHTS5vcGVuSW5UYWIodXJsLCBvcHRpb25zKTsKCQl9Cgl9OwoJdGhpcy5hZGRTY3JpcHQgPSBmdW5jdGlvbih1cmwpewoJCXZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CgkJcy5zZXRBdHRyaWJ1dGUoJ3NyYycsdXJsKTsKCQlkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpOwoJfTsKCXRoaXMucmFuZG9tTnVtYmVyID0gZnVuY3Rpb24oKXsKCQlyZXR1cm4gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkqMTAwMDAwMDAwKTsKCX07Cgl0aGlzLnJlcXVlc3QgPSBmdW5jdGlvbihtb3RoZWQsIHVybCwgcGFyYW0peyAgIC8v572R57uc6K+35rGCCgkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7CgkJCUdNX3htbGh0dHBSZXF1ZXN0KHsKCQkJCXVybDogdXJsLAoJCQkJbWV0aG9kOiBtb3RoZWQsCgkJCQlkYXRhOnBhcmFtLAoJCQkJb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCXZhciBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7CgkJCQkJdmFyIHBsYXl1cmwgPSAiIjsKCQkJCQlpZihzdGF0dXM9PTIwMHx8c3RhdHVzPT0nMjAwJyl7CgkJCQkJCXZhciByZXNwb25zZVRleHQgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7CgkJCQkJCXJlc29sdmUoeyJyZXN1bHQiOiJzdWNjZXNzIiwgImRhdGEiOnJlc3BvbnNlVGV4dH0pOwoJCQkJCX1lbHNlewoJCQkJCQlyZWplY3QoeyJyZXN1bHQiOiJlcnJvciIsICJkYXRhIjpudWxsfSk7CgkJCQkJfQoJCQkJfQoJCQl9KTsKCQl9KQoJfTsKCXRoaXMuYWRkQ29tbW9uSHRtbENzcyA9IGZ1bmN0aW9uKCl7CgkJdmFyIGNzc1RleHQgPQoJCQlgCgkJCUBrZXlmcmFtZXMgZmFkZUluIHsKCQkJCTAlICAgIHtvcGFjaXR5OiAwfQoJCQkJMTAwJSAge29wYWNpdHk6IDF9CgkJCX0KCQkJQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVJbiB7CgkJCQkwJSAgICB7b3BhY2l0eTogMH0KCQkJCTEwMCUgIHtvcGFjaXR5OiAxfQoJCQl9CgkJCUAtbW96LWtleWZyYW1lcyBmYWRlSW4gewoJCQkJMCUgICAge29wYWNpdHk6IDB9CgkJCQkxMDAlICB7b3BhY2l0eTogMX0KCQkJfQoJCQlALW8ta2V5ZnJhbWVzIGZhZGVJbiB7CgkJCQkwJSAgICB7b3BhY2l0eTogMH0KCQkJCTEwMCUgIHtvcGFjaXR5OiAxfQoJCQl9CgkJCUAtbXMta2V5ZnJhbWVzIGZhZGVJbiB7CgkJCQkwJSAgICB7b3BhY2l0eTogMH0KCQkJCTEwMCUgIHtvcGFjaXR5OiAxfQoJCQl9CgkJCUBrZXlmcmFtZXMgZmFkZU91dCB7CgkJCQkwJSAgICB7b3BhY2l0eTogMX0KCQkJCTEwMCUgIHtvcGFjaXR5OiAwfQoJCQl9CgkJCUAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0IHsKCQkJCTAlICAgIHtvcGFjaXR5OiAxfQoJCQkJMTAwJSAge29wYWNpdHk6IDB9CgkJCX0KCQkJQC1tb3ota2V5ZnJhbWVzIGZhZGVPdXQgewoJCQkJMCUgICAge29wYWNpdHk6IDF9CgkJCQkxMDAlICB7b3BhY2l0eTogMH0KCQkJfQoJCQlALW8ta2V5ZnJhbWVzIGZhZGVPdXQgewoJCQkJMCUgICAge29wYWNpdHk6IDF9CgkJCQkxMDAlICB7b3BhY2l0eTogMH0KCQkJfQoJCQlALW1zLWtleWZyYW1lcyBmYWRlT3V0IHsKCQkJCTAlICAgIHtvcGFjaXR5OiAxfQoJCQkJMTAwJSAge29wYWNpdHk6IDB9CgkJCX0KCQkJLndlYi10b2FzdC1ra2xpOXsKCQkJCXBvc2l0aW9uOiBmaXhlZDsKCQkJCWJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC43KTsKCQkJCWNvbG9yOiAjZmZmOwoJCQkJZm9udC1zaXplOiAxNHB4OwoJCQkJbGluZS1oZWlnaHQ6IDE7CgkJCQlwYWRkaW5nOjEwcHg7CgkJCQlib3JkZXItcmFkaXVzOiAzcHg7CgkJCQlsZWZ0OiA1MCU7CgkJCQl0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CgkJCQktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKCQkJCS1tb3otdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwoJCQkJLW8tdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwoJCQkJLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKCQkJCXotaW5kZXg6IDk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTsKCQkJCXdoaXRlLXNwYWNlOiBub3dyYXA7CgkJCX0KCQkJLmZhZGVPdXR7CgkJCQlhbmltYXRpb246IGZhZGVPdXQgLjVzOwoJCQl9CgkJCS5mYWRlSW57CgkJCQlhbmltYXRpb246ZmFkZUluIC41czsKCQkJfQoJCQlgOwoJCXRoaXMuR01hZGRTdHlsZShjc3NUZXh0KTsKCX07Cgl0aGlzLndlYlRvYXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7CS8v5bCP5o+Q56S65qGGCgkJdmFyIHRpbWUgPSBwYXJhbXMudGltZTsKCQl2YXIgYmFja2dyb3VuZCA9IHBhcmFtcy5iYWNrZ3JvdW5kOwoJCXZhciBjb2xvciA9IHBhcmFtcy5jb2xvcjsKCQl2YXIgcG9zaXRpb24gPSBwYXJhbXMucG9zaXRpb247ICAvL2NlbnRlci10b3AsIGNlbnRlci1ib3R0b20KCQl2YXIgZGVmYXVsdE1hcmdpblZhbHVlID0gNTA7CgoJCWlmKHRpbWUgPT0gdW5kZWZpbmVkIHx8IHRpbWUgPT0gJycpewoJCQl0aW1lID0gMTUwMDsKCQl9CgoJCXZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCWVsLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAid2ViLXRvYXN0LWtrbGk5Iik7CgkJZWwuaW5uZXJIVE1MID0gcGFyYW1zLm1lc3NhZ2U7CgkJLy/og4zmma/popzoibIKCQlpZihiYWNrZ3JvdW5kIT11bmRlZmluZWQgJiYgYmFja2dyb3VuZCE9JycpewoJCQllbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YmFja2dyb3VuZDsKCQl9CgkJLy/lrZfkvZPpopzoibIKCQlpZihjb2xvciE9dW5kZWZpbmVkICYmIGNvbG9yIT0nJyl7CgkJCWVsLnN0eWxlLmNvbG9yPWNvbG9yOwoJCX0KCgkJLy/mmL7npLrkvY3nva4KCQlpZihwb3NpdGlvbj09dW5kZWZpbmVkIHx8IHBvc2l0aW9uPT0nJyl7CgkJCXBvc2l0aW9uID0gImNlbnRlci1ib3R0b20iOwoJCX0KCgkJLy/orr7nva7mmL7npLrkvY3nva7vvIzlvZPliY3mnInnp43kuKTnp43lvaLlvI8KCQlpZihwb3NpdGlvbj09PSJjZW50ZXItYm90dG9tIil7CgkJCWVsLnN0eWxlLmJvdHRvbSA9IGRlZmF1bHRNYXJnaW5WYWx1ZSsicHgiOwoJCX1lbHNlewoJCQllbC5zdHlsZS50b3AgPSBkZWZhdWx0TWFyZ2luVmFsdWUrInB4IjsKCQl9CgkJZWwuc3R5bGUuekluZGV4PTk5OTk5OTsKCgkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7CgkJZWwuY2xhc3NMaXN0LmFkZCgiZmFkZUluIik7CgkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCWVsLmNsYXNzTGlzdC5yZW1vdmUoImZhZGVJbiIpOwoJCQllbC5jbGFzc0xpc3QuYWRkKCJmYWRlT3V0Iik7CgkJCS8q55uR5ZCs5Yqo55S757uT5p2f77yM56e76Zmk5o+Q56S65L+h5oGv5YWD57SgKi8KCQkJZWwuYWRkRXZlbnRMaXN0ZW5lcigiYW5pbWF0aW9uZW5kIiwgZnVuY3Rpb24gKCkgewoJCQkJZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7CgkJCX0pOwoJCQllbC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRBbmltYXRpb25FbmQiLCBmdW5jdGlvbiAoKSB7CgkJCQlkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTsKCQkJfSk7CgkJfSwgdGltZSk7Cgl9OwoJdGhpcy5maWx0ZXJTdHIgPSBmdW5jdGlvbihzdHIpewoJCWlmKCFzdHIpIHJldHVybiAiIjsKCQlzdHIgPSBzdHIucmVwbGFjZSgvXHQvZywiIik7CgkJc3RyID0gc3RyLnJlcGxhY2UoL1xyL2csIiIpOwoJCXJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKQoJfTsKCXRoaXMuZ2V0UGFyYW10ZXJRdWVyeVVybCA9IGZ1bmN0aW9uKHRleHQsIHRhZykgeyAvL+afpeivokdFVOivt+axgnVybOS4reeahOWPguaVsAoJCWlmKHRleHQuaW5kZXhPZigiPyIpIT0tMSl7IC8v6YCJ5Y+WP+WQjumdoueahOWtl+espuS4sizlhbzlrrl3aW5kb3cubG9jYXRpb24uc2VhcmNo77yM5YmN6Z2i55qEP+S4jeiDveWOu+aOiQoJCQl2YXIgdGV4dEFycmF5ID0gdGV4dC5zcGxpdCgiPyIpOwoJCQl0ZXh0ID0gIj8iK3RleHRBcnJheVt0ZXh0QXJyYXkubGVuZ3RoLTFdOwoJCX0KCQl2YXIgdCA9IG5ldyBSZWdFeHAoIihefCYpIiArIHRhZyArICI9KFteJl0qKSgmfCQpIik7CgkJdmFyIGEgPSB0ZXh0LnN1YnN0cigxKS5tYXRjaCh0KTsKCQlpZiAoYSAhPSBudWxsKXsKCQkJcmV0dXJuIGFbMl07CgkJfQoJCXJldHVybiAiIjsKCX07Cgl0aGlzLmdldEVuZEh0bWxJZEJ5VXJsID0gZnVuY3Rpb24odXJsKSB7IC8v6I635b6X5LulaHRtbOe7k+adn+eahElECgkJaWYodXJsLmluZGV4T2YoIj8iKSE9LTEpewoJCQl1cmwgPSB1cmwuc3BsaXQoIj8iKVswXQoJCX0KCQlpZih1cmwuaW5kZXhPZigiIyIpIT0tMSl7CgkJCXVybCA9IHVybC5zcGxpdCgiIyIpWzBdCgkJfQoJCXZhciBzcGxpdFRleHQgPSB1cmwuc3BsaXQoIi8iKTsKCQl2YXIgaWRUZXh0ID0gc3BsaXRUZXh0W3NwbGl0VGV4dC5sZW5ndGgtMV07CgkJaWRUZXh0ID0gaWRUZXh0LnJlcGxhY2UoIi5odG1sIiwiIik7CgkJcmV0dXJuIGlkVGV4dDsKCX07Cgl0aGlzLmdldEVjb21tZXJjZVBsYXRmb3JtPWZ1bmN0aW9uKHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmKXsKCQlsZXQgcGxhdGZvcm0gPSAiIjsKCQlpZih1cmwuaW5kZXhPZigiZGV0YWlsLnRtYWxsIikhPS0xIHx8IHVybC5pbmRleE9mKCJ0bWFsbC5oayIpIT0tMSB8fCB1cmwuaW5kZXhPZigicGFnZXMudG1hbGwuY29tIikhPS0xKXsKCQkJcGxhdGZvcm0gPSAidG1hbGwiOwoJCX1lbHNlIGlmKHVybC5pbmRleE9mKCJ0YW9iYW8uY29tIikhPS0xIHx8IHVybC5pbmRleE9mKCJtYWl5YW8ubGlhbmd4aW55YW8uY29tIikhPS0xKXsKCQkJcGxhdGZvcm0gPSAidGFvYmFvIjsKCQl9ZWxzZSBpZih1cmwuaW5kZXhPZigiamQuY29tIikhPS0xIHx8IHVybC5pbmRleE9mKCJucGNpdGVtLmpkLmhrIikhPS0xIHx8IHVybC5pbmRleE9mKCJ5aXlhb2pkLmNvbSIpIT0tMSl7CgkJCXBsYXRmb3JtID0gImpkIjsKCQl9ZWxzZSBpZih1cmwuaW5kZXhPZigiZGV0YWlsLnZpcC5jb20iKSE9LTEgfHwgdXJsLmluZGV4T2YoInd3dy52aXBnbG9iYWwuaGsiKSE9LTEpewoJCQlwbGF0Zm9ybSA9ICJ2cGluaHVpIjsKCQl9CgkJcmV0dXJuIHBsYXRmb3JtOwoJfQoJdGhpcy5pc1BDID0gZnVuY3Rpb24oKXsKCQl2YXIgdXNlckFnZW50SW5mbyA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CgkJdmFyIEFnZW50cyA9IFsiQW5kcm9pZCIsICJpUGhvbmUiLCJTeW1iaWFuT1MiLCAiV2luZG93cyBQaG9uZSIsICJpUGFkIiwgImlQb2QiXTsKCQl2YXIgZmxhZyA9IHRydWU7CgkJZm9yICh2YXIgdiA9IDA7IHYgPCBBZ2VudHMubGVuZ3RoOyB2KyspIHsKCQkJaWYgKHVzZXJBZ2VudEluZm8uaW5kZXhPZihBZ2VudHNbdl0pID4gMCkgewoJCQkJZmxhZyA9IGZhbHNlOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJcmV0dXJuIGZsYWc7Cgl9OwoJdGhpcy5nZXRCaWxpYmlsaUJWPWZ1bmN0aW9uKCl7CgkJdmFyIHBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lOwoJCXZhciBidiA9IHBhdGhuYW1lLnJlcGxhY2UoIi92aWRlby8iLCIiKS5yZXBsYWNlKCIvIiwiIik7CgkJcmV0dXJuIGJ2OwoJfTsKCXRoaXMuZ2V0U3lzdGVtT1M9ZnVuY3Rpb24oKXsKCQl2YXIgdSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CgkJaWYgKCEhdS5tYXRjaCgvY29tcGF0aWJsZS9pKSB8fCB1Lm1hdGNoKC9XaW5kb3dzL2kpKSB7CgkJCXJldHVybiAnd2luZG93cyc7CgkJfSBlbHNlIGlmICghIXUubWF0Y2goL01hY2ludG9zaC9pKSB8fCB1Lm1hdGNoKC9NYWNJbnRlbC9pKSkgewoJCQlyZXR1cm4gJ21hY09TJzsKCQl9IGVsc2UgaWYgKCEhdS5tYXRjaCgvaXBob25lL2kpIHx8IHUubWF0Y2goL0lwYWQvaSkpIHsKCQkJcmV0dXJuICdpb3MnOwoJCX0gZWxzZSBpZiAoISF1Lm1hdGNoKC9hbmRyb2lkL2kpKSB7CgkJCXJldHVybiAnYW5kcm9pZCc7CgkJfSBlbHNlIHsKCQkJcmV0dXJuICdvdGhlcic7CgkJfQoJfTsKCXRoaXMuUlBDRG93bmxvYWRGaWxlID0gZnVuY3Rpb24oZmlsZU5hbWUsIHVybCwgc2F2ZVBhdGg9IkM6L1VzZXJzL3d5c3d5L0Rvd25sb2FkcyIsIFJQQ1VSTD0id3M6Ly9sb2NhbGhvc3Q6MTY4MDAvanNvbnJwYyIsIFJQQ1Rva2VuPSIiKSB7CgkJY29uc3Qgc2VsZiA9IHRoaXM7CgkJaWYoIXNhdmVQYXRoKXsKCQkJc2F2ZVBhdGggPSAiQzovVXNlcnMvd3lzd3kvRG93bmxvYWRzIjsKCQl9CgkJaWYoIVJQQ1VSTCl7CgkJCVJQQ1VSTCA9ICJ3czovL2xvY2FsaG9zdDoxNjgwMC9qc29ucnBjIjsKCQl9CgkJbGV0IG9wdGlvbnMgPSB7IC8v5LiL6L296YWN572u5paH5Lu2CgkJCSJkaXIiOnNhdmVQYXRoLAoJCQkibWF4LWNvbm5lY3Rpb24tcGVyLXNlcnZlciI6ICIxNiIsCgkJCSJoZWFkZXIiOlsiVXNlci1BZ2VudDoiK25hdmlnYXRvci51c2VyQWdlbnQrIiIsICJDb29raWU6Iitkb2N1bWVudC5jb29raWUrIiIsICJSZWZlcmVyOiIrd2luZG93LmxvY2F0aW9uLmhyZWYrIiJdCgkJfQoJCWlmKCEhZmlsZU5hbWUpIHsKCQkJb3B0aW9ucy5vdXQgPSBmaWxlTmFtZTsKCQl9CgkJbGV0IGpzb25SUEMgPSB7CgkJCSJqc29ucnBjIjogIjIuMCIsCgkJCSJpZCI6ICJodWFodWFjYXQiLAoJCQkibWV0aG9kIjogImFyaWEyLmFkZFVyaSIsCgkJCSJwYXJhbXMiOiBbW3VybF0sIG9wdGlvbnNdLAoJCX0KCQlpZiAoISFSUENUb2tlbikgewoJCQlqc29uUlBDLnBhcmFtcy51bnNoaWZ0KCJ0b2tlbjoiICsgUlBDVG9rZW4pOyAvLyDlv4XpobvopoHliqDlnKjnrKzkuIDkuKoKCQl9CgkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewoJCQl2YXIgd2ViU29ja2V0ID0gbmV3IFdlYlNvY2tldChSUENVUkwpOwoJCQl3ZWJTb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQljb25zb2xlLmxvZygid2ViU29ja2V0Lm9uZXJyb3IiLCBldmVudCk7CgkJCQlyZWplY3QoIkFyaWEy6L+e5o6l6ZSZ6K+v77yM6K+35omT5byAQXJpYTLlkozmo4Dmn6VSUEPorr7nva7vvIEiKTsKCQkJfQoJCQl3ZWJTb2NrZXQub25vcGVuID0gZnVuY3Rpb24oKXsKCQkJCXdlYlNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KGpzb25SUEMpKTsKCQkJfQoJCQl3ZWJTb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpewoJCQkJbGV0IHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CgkJCQlzd2l0Y2ggKHJlc3VsdC5tZXRob2QpIHsKCQkJCQljYXNlICJhcmlhMi5vbkRvd25sb2FkU3RhcnQiOgoJCQkJCQlyZXNvbHZlKCJBcmlhMiDlvIDlp4vkuIvovb3jgJAiK2ZpbGVOYW1lKyLjgJEiKTsKCQkJCQkJd2ViU29ja2V0LmNsb3NlKCk7CgkJCQkJCWJyZWFrOwoJCQkJCWNhc2UgImFyaWEyLm9uRG93bmxvYWRDb21wbGV0ZSI6CgkJCQkJCWJyZWFrOwoJCQkJCWRlZmF1bHQ6CgkJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgkJfSk7Cgl9OwoJdGhpcy5nZXRFbGVtZW50T2JqZWN0ID0gZnVuY3Rpb24oc2VsZWN0b3IsIGFsbG93RW1wdHkgPSB0cnVlLCBkZWxheT0xMCwgbWF4RGVsYXk9MjAwMCl7CgkJcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCkgPT57CgkJCWxldCB0b3RhbERlbGF5ID0gMDsKCQkJbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKCQkJbGV0IHJlc3VsdCA9IGFsbG93RW1wdHkgPyAhIWVsZW1lbnQgOiAoISFlbGVtZW50ICYmICEhZWxlbWVudC5pbm5lckhUTUwpOwoJCQlpZihyZXN1bHQpewoJCQkJcmVzb2x2ZShlbGVtZW50KTsKCQkJfQoJCQlsZXQgZWxlbWVudEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PnsKCQkJCWlmKHRvdGFsRGVsYXkgPj0gbWF4RGVsYXkpeyAvL+aAu+WFseajgOafpTJz77yM5aaC5p6c6L+Y5piv5rKh5om+5Yiw77yM5YiZ6L+U5ZueCgkJCQkJY2xlYXJJbnRlcnZhbChlbGVtZW50SW50ZXJ2YWwpOwoJCQkJCXJlc29sdmUobnVsbCk7CgkJCQl9CgkJCQllbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CgkJCQlyZXN1bHQgPSBhbGxvd0VtcHR5ID8gISFlbGVtZW50IDogKCEhZWxlbWVudCAmJiAhIWVsZW1lbnQuaW5uZXJIVE1MKTsKCQkJCWlmKHJlc3VsdCl7CgkJCQkJY2xlYXJJbnRlcnZhbChlbGVtZW50SW50ZXJ2YWwpOwoJCQkJCXJlc29sdmUoZWxlbWVudCk7CgkJCQl9ZWxzZXsKCQkJCQl0b3RhbERlbGF5ICs9IGRlbGF5OwoJCQkJfQoJCQl9LCBkZWxheSk7CgkJfSk7Cgl9OwoJLyoqCgkgKiBAcGFyYW0ge09iamVjdH0gdGltZQoJICogQHBhcmFtIHtPYmplY3R9IGZvcm1hdAoJICog5pe26Ze05qC85byP5YyWCgkgKiBEYXRlRm9ybWF0KG5ldyBEYXRlKGRhdGVDcmVhdGVkKSwgInl5eXktTU0tZGQgaGg6bW06c3MiKQoJICovCgl0aGlzLkRhdGVGb3JtYXQgPSBmdW5jdGlvbih0aW1lLCBmb3JtYXQpIHsKCQl2YXIgbyA9IHsKCQkJIk0rIjogdGltZS5nZXRNb250aCgpICsgMSwgLy/mnIjku70KCQkJImQrIjogdGltZS5nZXREYXRlKCksIC8v5pelCgkJCSJoKyI6IHRpbWUuZ2V0SG91cnMoKSwgLy/lsI/ml7YKCQkJIm0rIjogdGltZS5nZXRNaW51dGVzKCksIC8v5YiGCgkJCSJzKyI6IHRpbWUuZ2V0U2Vjb25kcygpLCAvL+enkgoJCQkicSsiOiBNYXRoLmZsb29yKCh0aW1lLmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6pgoJCQkiUyI6IHRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgLy/mr6vnp5IKCQl9OwoJCWlmKC8oeSspLy50ZXN0KGZvcm1hdCkpewoJCQlmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShSZWdFeHAuJDEsICh0aW1lLmdldEZ1bGxZZWFyKCkgKyAiIikuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7CgkJfQoJCWZvcih2YXIgayBpbiBvKXsKCQkJaWYobmV3IFJlZ0V4cCgiKCIgKyBrICsgIikiKS50ZXN0KGZvcm1hdCkpewoJCQkJZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoUmVnRXhwLiQxLCAoUmVnRXhwLiQxLmxlbmd0aCA9PSAxKSA/IChvW2tdKSA6ICgoIjAwIiArIG9ba10pLnN1YnN0cigoIiIgKyBvW2tdKS5sZW5ndGgpKSk7CgkJCX0KCQl9CgkJcmV0dXJuIGZvcm1hdDsKCX0KfQovL+WFqOWxgOW8ueeql+WvueixoQpjb25zdCBwb3B1cCA9IChmdW5jdGlvbigpewoJY2xhc3MgUG9wdXAgewoJCWNvbnN0cnVjdG9yKCkgewoJCQl0aGlzLm1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKQoJCQl0aGlzLnNldFN0eWxlKHRoaXMubWFzaywgewoJCQkJIndpZHRoIjogJzEwMCUnLAoJCQkJImhlaWdodCI6ICcxMDAlJywKCQkJCSJiYWNrZ3JvdW5kQ29sb3IiOiAncmdiYSgwLCAwLCAwLCAuNiknLAoJCQkJInBvc2l0aW9uIjogJ2ZpeGVkJywKCQkJCSJsZWZ0IjogIjBweCIsCgkJCQkidG9wIjogIjBweCIsCgkJCQkiYm90dG9tIjoiMHB4IiwKCQkJCSJyaWdodCI6IjBweCIsCgkJCQkiei1pbmRleCI6Ijk5OTk5IgoJCQl9KQoJCQkvLyDliJvlu7rkuK3pl7TmmL7npLrlhoXlrrnnmoTmsLTlubPlubblnoLnm7TlsYXkuK3nmoRkaXYKCQkJdGhpcy5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykKCQkJdGhpcy5zZXRTdHlsZSh0aGlzLmNvbnRlbnQsIHsKCQkJCSJtYXgtd2lkdGgiOiAnNDUwcHgnLAoJCQkJIndpZHRoIjoiMTAwJSIsCgkJCQkibWF4LWhlaWdodCI6ICc2MDBweCcsCgkJCQkiYmFja2dyb3VuZENvbG9yIjogJyNmZmYnLAoJCQkJImJveFNoYWRvdyI6ICcwIDAgMnB4ICM5OTknLAoJCQkJInBvc2l0aW9uIjogJ2Fic29sdXRlJywKCQkJCSJsZWZ0IjogJzUwJScsCgkJCQkidG9wIjogJzUwJScsCgkJCQkidHJhbnNmb3JtIjogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJywKCQkJCSJib3JkZXJSYWRpdXMiOiAnM3B4JwoJCQl9KQoJCQkvLyDlsIbov5nkuKrlsI9kaXbmlL7lnKjpga7nvankuK0KCQkJdGhpcy5tYXNrLmFwcGVuZENoaWxkKHRoaXMuY29udGVudCkKCQl9CgkJbWlkZGxlQm94KHBhcmFtKSB7CgkJCS8vIOWFiOa4heepuuS4remXtOWwj2RpdueahOWGheWuuSAtIOmYsuatouiwg+eUqOWkmuasoe+8jOWHuueOsOa3t+S5sQoJCQl0aGlzLmNvbnRlbnQuaW5uZXJIVE1MID0gJycKCQkJbGV0IHRpdGxlID0gJ+m7mOiupOagh+mimOWGheWuuSc7CgkJCS8vIOajgOa1i+WPguaVsOexu+WeiwoJCQlpZih7fS50b1N0cmluZy5jYWxsKHBhcmFtKSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpIHsKCQkJCXRpdGxlID0gcGFyYW0KCQkJfSBlbHNlIGlmKHt9LnRvU3RyaW5nLmNhbGwocGFyYW0pID09PSAnW29iamVjdCBPYmplY3RdJykgewoJCQkJdGl0bGUgPSBwYXJhbS50aXRsZQoJCQl9CgkJCS8vIOWwhumBrue9qeaUvuWcqGJvZHnkuK3mmL7npLoKCQkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm1hc2spCgkJCS8vIOe7meS4remXtOeahOWwj2Rpduiuvue9rum7mOiupOeahOaOkueJiAoJCQkvLyDkuIrpnaLmoIfpopjpg6jliIYKCQkJdGhpcy50aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCgkJCS8vIOiuvue9ruagt+W8jwoJCQl0aGlzLnNldFN0eWxlKHRoaXMudGl0bGUsIHsKCQkJCSJ3aWR0aCI6ICcxMDAlJywKCQkJCSJoZWlnaHQiOiAnNDBweCcsCgkJCQkibGluZUhlaWdodCI6ICc0MHB4JywKCQkJCSJib3hTaXppbmciOiAnYm9yZGVyLWJveCcsCgkJCQkiYmFja2dyb3VuZC1jb2xvciI6IiNGRjRENDAiLAoJCQkJImNvbG9yIjogJyNGRkYnLAoJCQkJInRleHQtYWxpZ24iOiAnY2VudGVyJywKCQkJCSJmb250LXdlaWdodCI6IjcwMCIsCgkJCQkiZm9udC1zaXplIjoiMTZweCIKCgkJCX0pCgkJCS8vIOiuvue9rum7mOiupOagh+mimOWGheWuuQoJCQl0aGlzLnRpdGxlLmlubmVyVGV4dCA9IHRpdGxlCgkJCS8vIOWwhuagh+mimOmDqOWIhuaUvuWcqOS4remXtGRpduS4rQoJCQl0aGlzLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy50aXRsZSkKCQkJLy8g5YWz6Zet5oyJ6ZKuCgkJCXRoaXMuY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKQoJCQkvLyDorr7nva7lhoXlrrkKCQkJdGhpcy5jbG9zZUJ0bi5pbm5lclRleHQgPSAnw5cnCgkJCS8vIOiuvue9ruagt+W8jwoJCQl0aGlzLnNldFN0eWxlKHRoaXMuY2xvc2VCdG4sIHsKCQkJCSJ0ZXh0RGVjb3JhdGlvbiI6ICdub25lJywKCQkJCSJjb2xvciI6ICcjNjY2JywKCQkJCSJwb3NpdGlvbiI6ICdhYnNvbHV0ZScsCgkJCQkicmlnaHQiOiAnMTBweCcsCgkJCQkidG9wIjogJzBweCcsCgkJCQkiZm9udFNpemUiOiAnMjVweCcsCgkJCQkiY29sb3IiOiAnI0ZGRicsCgkJCQkiZGlzcGxheSI6ImlubGluZS1ibG9jayIsCgkJCQkiY3Vyc29yIjoicG9pbnRlciIKCQkJfSkKCQkJLy8g5bCG5YWz6Zet5oyJ6ZKu5pS+5Zyo5Lit6Ze05bCPZGl25LitCgkJCXRoaXMudGl0bGUuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZUJ0bikKCQkJdGhpcy5jbG9zZUJ0bi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jbG9zZSgpCgkJfQoJCS8vIOW8ueWHuuaPkOekuuahhgoJCWRpYWxvZyhwYXJhbSkgewoJCQl0aGlzLm1pZGRsZUJveChwYXJhbSk7CgkJCXRoaXMuZGlhbG9nQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCgkJCXRoaXMuc2V0U3R5bGUodGhpcy5kaWFsb2dDb250ZW50LHsKCQkJCSJwYWRkaW5nIjoiMTVweCIsCgkJCQkibWF4LWhlaWdodCI6IjQwMHB4IgoJCQl9KQoJCQl0aGlzLmRpYWxvZ0NvbnRlbnQuaW5uZXJIVE1MID0gcGFyYW0uY29udGVudDsKCQkJdGhpcy5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMuZGlhbG9nQ29udGVudCkKCQkJcGFyYW0ub25Db250ZW50UmVhZHkodGhpcyk7CgkJfQoJCWNsb3NlKCkgewoJCQlkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMubWFzaykKCQkJd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwoJCX0KCQlzZXRTdHlsZShlbGUsIHN0eWxlT2JqKSB7IC8vIOiuvue9ruagt+W8j+eahOWHveaVsAoJCQlmb3IobGV0IGF0dHIgaW4gc3R5bGVPYmopewoJCQkJZWxlLnN0eWxlW2F0dHJdID0gc3R5bGVPYmpbYXR0cl0KCQkJfQoJCX0KCX0KCWxldCBwb3B1cCA9IG51bGw7CglyZXR1cm4gKGZ1bmN0aW9uKCkgewoJCWlmKCFwb3B1cCkgewoJCQlwb3B1cCA9IG5ldyBQb3B1cCgpCgkJfQoJCXJldHVybiBwb3B1cDsKCX0pKCkKfSkoKTsKLy/lhajlsYDnu5/kuIDmlrnms5Xlr7nosaEKY29uc3QgY29tbW9uRnVuY3Rpb25PYmplY3QgPSBuZXcgQ29tbW9uRnVuY3Rpb24oKTsKY29tbW9uRnVuY3Rpb25PYmplY3QuYWRkQ29tbW9uSHRtbENzcygpOwkvL+e7n+S4gGh0bWzjgIFjc3PlhYPntKDmt7vliqAKbGV0IGZ1bmN0aW9uQ29udHJvbGxlciA9IG51bGw7CgkvL+ebuOWFs+WKn+iDveWFs+mXreaOp+WItgpmdW5jdGlvbkNvbnRyb2xsZXIgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKCJzZXRpbmdEYXRhIik7CmlmKCFmdW5jdGlvbkNvbnRyb2xsZXIpewoJZnVuY3Rpb25Db250cm9sbGVyPXsKCQkiYmlsaWJpbGlIZWxwZXIiOnRydWUsInN1cGVyVmlkZW9IZWxwZXIiOnRydWUsCgkJImFicm9hZFZpZGVvSGVscGVyIjp0cnVlLAoJCSJzZWFyY2hFbmdpbmVzTmF2aWdhdGlvbiI6dHJ1ZSwiemhpaHVIZWxwZXIiOnRydWUsCgkJInNob3J0VmlkZW9Eb3dubG9hZCI6dHJ1ZQoJfQp9Ci8v55So5oi35Yqf6IO96K6+572u5Ye95pWwCmZ1bmN0aW9uIHVzZXJzU2V0aW5nKCl7Cgl2YXIgYmlsaWJpbGlIZWxwZXI9dHJ1ZSwgc3VwZXJWaWRlb0hlbHBlcj10cnVlLCBhYnJvYWRWaWRlb0hlbHBlcj10cnVlLAoJc2VhcmNoRW5naW5lc05hdmlnYXRpb249dHJ1ZSwgemhpaHVIZWxwZXI9dHJ1ZSwgc2hvcnRWaWRlb0Rvd25sb2FkPXRydWU7Cgl2YXIgaXNVcGRhdGVTdG9yYWdlID0gZmFsc2U7CglpZighZnVuY3Rpb25Db250cm9sbGVyLmhhc093blByb3BlcnR5KCJiaWxpYmlsaUhlbHBlciIpKXsKCQlmdW5jdGlvbkNvbnRyb2xsZXIuYmlsaWJpbGlIZWxwZXIgPSB0cnVlOwoJCWlzVXBkYXRlU3RvcmFnZSA9IHRydWU7Cgl9ZWxzZXsKCQliaWxpYmlsaUhlbHBlciA9IGZ1bmN0aW9uQ29udHJvbGxlci5iaWxpYmlsaUhlbHBlcjsKCX0KCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIuaGFzT3duUHJvcGVydHkoInN1cGVyVmlkZW9IZWxwZXIiKSl7CgkJZnVuY3Rpb25Db250cm9sbGVyLnN1cGVyVmlkZW9IZWxwZXIgPSB0cnVlOwoJCWlzVXBkYXRlU3RvcmFnZSA9IHRydWU7Cgl9ZWxzZXsKCQlzdXBlclZpZGVvSGVscGVyID0gZnVuY3Rpb25Db250cm9sbGVyLnN1cGVyVmlkZW9IZWxwZXI7Cgl9CglpZighZnVuY3Rpb25Db250cm9sbGVyLmhhc093blByb3BlcnR5KCJhYnJvYWRWaWRlb0hlbHBlciIpKXsKCQlmdW5jdGlvbkNvbnRyb2xsZXIuYWJyb2FkVmlkZW9IZWxwZXIgPSB0cnVlOwoJCWlzVXBkYXRlU3RvcmFnZSA9IHRydWU7Cgl9ZWxzZXsKCQlhYnJvYWRWaWRlb0hlbHBlciA9IGZ1bmN0aW9uQ29udHJvbGxlci5hYnJvYWRWaWRlb0hlbHBlcjsKCX0KCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIuaGFzT3duUHJvcGVydHkoInNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uIikpewoJCWZ1bmN0aW9uQ29udHJvbGxlci5zZWFyY2hFbmdpbmVzTmF2aWdhdGlvbiA9IHRydWU7CgkJaXNVcGRhdGVTdG9yYWdlID0gdHJ1ZTsKCX1lbHNlewoJCXNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uID0gZnVuY3Rpb25Db250cm9sbGVyLnNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uOwoJfQoJaWYoIWZ1bmN0aW9uQ29udHJvbGxlci5oYXNPd25Qcm9wZXJ0eSgiemhpaHVIZWxwZXIiKSl7CgkJZnVuY3Rpb25Db250cm9sbGVyLnpoaWh1SGVscGVyID0gdHJ1ZTsKCQlpc1VwZGF0ZVN0b3JhZ2UgPSB0cnVlOwoJfWVsc2V7CgkJemhpaHVIZWxwZXIgPSBmdW5jdGlvbkNvbnRyb2xsZXIuemhpaHVIZWxwZXI7Cgl9CglpZighZnVuY3Rpb25Db250cm9sbGVyLmhhc093blByb3BlcnR5KCJzaG9ydFZpZGVvRG93bmxvYWQiKSl7CgkJZnVuY3Rpb25Db250cm9sbGVyLnNob3J0VmlkZW9Eb3dubG9hZCA9IHRydWU7CgkJaXNVcGRhdGVTdG9yYWdlID0gdHJ1ZTsKCX1lbHNlewoJCXNob3J0VmlkZW9Eb3dubG9hZCA9IGZ1bmN0aW9uQ29udHJvbGxlci5zaG9ydFZpZGVvRG93bmxvYWQ7Cgl9CglpZihpc1VwZGF0ZVN0b3JhZ2UpewoJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUoInNldGluZ0RhdGEiLGZ1bmN0aW9uQ29udHJvbGxlcik7Cgl9Cgl2YXIgc2V0aW5nRGF0YT1bCgkJeyJ0YWciOiJiaWxpYmlsaUhlbHBlciIsICJuYW1lIjoiQuermeS9v+eUqOWKoOW8uijop4bpopHkuIvovb3mlK/mjIHmibnph4/jgIHmtY/op4jorrDlvZXjgIHkuIDplK7kuInov54pIiwgImNoZWNrZWQiOmJpbGliaWxpSGVscGVyfSwKCQl7InRhZyI6InpoaWh1SGVscGVyIiwgIm5hbWUiOiLnn6XkuY7kvb/nlKjliqDlvLoo5YaF5a655qCH6K+G44CB6Zeu562U5pi+56S65LyY5YyW44CB6KeG6aKR5LiL6L29562JKSIsICJjaGVja2VkIjp6aGlodUhlbHBlcn0sCgkJeyJ0YWciOiJzdXBlclZpZGVvSGVscGVyIiwgIm5hbWUiOiLlhajnvZFWSVDop4bpopHop6PmnpAo5pSv5oyB54ix5aWH6Im644CB6IW+6K6v6KeG6aKR44CBQuermeeVquWJp+etiSkiLCAiY2hlY2tlZCI6c3VwZXJWaWRlb0hlbHBlcn0sCgkJeyJ0YWciOiJzZWFyY2hFbmdpbmVzTmF2aWdhdGlvbiIsICJuYW1lIjoi5pCc57Si5byV5pOO5L2/55So5Yqg5by6KOmAgumFjeeZvuW6puOAgTM2MOOAgeaQnOeLl+OAgeW/heW6lOOAgUdvb2dsZeetiSkiLCAiY2hlY2tlZCI6c2VhcmNoRW5naW5lc05hdmlnYXRpb259LAoJCXsidGFnIjoic2hvcnRWaWRlb0Rvd25sb2FkIiwgIm5hbWUiOiLnn63op4bpopHljrvmsLTljbDkuIvovb0o5pSv5oyB5oqW6Z+z44CB5b+r5omL562JKSIsICJjaGVja2VkIjpzaG9ydFZpZGVvRG93bmxvYWR9LAoJCXsidGFnIjoiYWJyb2FkVmlkZW9IZWxwZXIiLCAibmFtZSI6IuWbveWkluinhumikeino+aekOS4i+i9vSjmlK/mjIHmsrnnrqHjgIFGYWNlYm9va+etiSkiLCAiY2hlY2tlZCI6YWJyb2FkVmlkZW9IZWxwZXJ9CgldCgl2YXIgY29udGVudCA9ICIiOwoJZm9yKHZhciBpPTA7IGk8c2V0aW5nRGF0YS5sZW5ndGg7aSsrKXsKCQl2YXIgb25lID0gc2V0aW5nRGF0YVtpXTsKCQljb250ZW50ICs9IGAKCQkJPGRpdiBzdHlsZT0icGFkZGluZzogNXB4IDBweDsiPgoJCQkJPGlucHV0IHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDogMTVweDtoZWlnaHQ6IDE1cHg7ZGlzcGxheTogaW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IC13ZWJraXQtYXBwZWFyYW5jZTpjaGVja2JveDttYXJnaW4tYm90dG9tOiAzcHg7Y3Vyc29yOiBwb2ludGVyOyIgbmFtZT0iQ2hlY2tib3giIHR5cGU9ImNoZWNrYm94IiBkYXRhLXRhZz0iYCtvbmUudGFnK2AiIGArKG9uZS5jaGVja2VkID8gImNoZWNrZWQiIDogIiIpK2A+CgkJCQk8bGFiZWwgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtc2l6ZTogMTRweDttYXJnaW46M3B4IDA7dmVydGljYWwtYWxpZ246IG1pZGRsZTtmb250LXdlaWdodDo1MDA7Y29sb3I6IzAwMDsiPmArb25lLm5hbWUrYDwvbGFiZWw+CgkJCTwvZGl2PgoJCWAKCX0KCXBvcHVwLmRpYWxvZyh7CgkJInRpdGxlIjoi5Yqf6IO95byA5YWzIiwKCQkiY29udGVudCI6Y29udGVudCwKCQkib25Db250ZW50UmVhZHkiOmZ1bmN0aW9uKCR0aGF0KXsKCQkJJHRoYXQuZGlhbG9nQ29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFt0eXBlPSdjaGVja2JveCddIikuZm9yRWFjaChmdW5jdGlvbihjaGVja2JveCl7CgkJCQljaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpewoJCQkJCXZhciB0YWcgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtdGFnIik7CgkJCQkJdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkOwoJCQkJCWZ1bmN0aW9uQ29udHJvbGxlclt0YWddID0gY2hlY2tlZDsKCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCJzZXRpbmdEYXRhIixmdW5jdGlvbkNvbnRyb2xsZXIpOwoJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LndlYlRvYXN0KHsibWVzc2FnZSI6IuaTjeS9nOaIkOWKnyIsICJiYWNrZ3JvdW5kIjoiI0ZGNEQ0MCJ9KTsKCQkJCX0pOwoJCQl9KQoJCX0KCX0pOwp9CgovLyDoj5zljZXmjInpkq7lvLnmoYYKaWYoY29tbW9uRnVuY3Rpb25PYmplY3QuaXNQQygpKXsKCUdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIuWKn+iDveW8gOWFsyIsKCk9PnVzZXJzU2V0aW5nKCkpOwp9ZWxzZXsKCWZ1bmN0aW9uQ29udHJvbGxlci5iaWxpYmlsaUhlbHBlciA9IGZhbHNlOwoJZnVuY3Rpb25Db250cm9sbGVyLmFicm9hZFZpZGVvSGVscGVyID0gZmFsc2U7CglmdW5jdGlvbkNvbnRyb2xsZXIuc2VhcmNoRW5naW5lc05hdmlnYXRpb24gPSBmYWxzZTsKCWZ1bmN0aW9uQ29udHJvbGxlci56aGlodUhlbHBlciA9IGZhbHNlOwp9CgoJLyoqCiAqIOi2hee6p+ino+aekOWKqeaJi+WKn+iDvQogKi8KCi8vVklQ6KeG6aKR6Kej5p6Q5o6l5Y+j5Y+v6Ieq5a6a5LmJ77yb6K+35Lil5qC85oyJ54Wn5qC85byP5re75YqgCi8vc2hvd1R5cGU9MSjku4VQQyksIHNob3dUeXBlPTIo5LuFbW9iaWxlKSwgc2hvd1R5cGU9MyjlkIzml7bmmL7npLopCmNvbnN0IG9yaWdpbmFsSW50ZXJmYWNlTGlzdCA9IFsKCl07CmZ1bmN0aW9uIFN1cGVyVmlkZW9IZWxwZXIob3JpZ2luYWxJbnRlcmZhY2VMaXN0KXsKCXRoaXMub3JpZ2luYWxJbnRlcmZhY2VMaXN0ID0gb3JpZ2luYWxJbnRlcmZhY2VMaXN0OwoJdGhpcy5lbGVtZW50SWQgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxMDAwMDAwMDApKyJtbXgiOwoJdGhpcy5jdXN0b21JbnRlcmZhY2VLZXkgPSAiY3VzdG9tX2ludGVyZmFjZV9rZXlfZGRkc2R4eGEiOwoJdGhpcy5xdWlja2x5SW50ZXJmYWNlS2V5ID0gImN1c3RvbV9xdWlja2x5X2ludGVyZmFjZV9rZXlfZGRkc2R4eGEiOwoJdGhpcy5kZWZhdWx0UXVpY2tseUludGVyZmFjZUluZGV4ID0gMTsKCXRoaXMuaXNSdW4gPSBmdW5jdGlvbigpeyAvL+WIpOaWreaYr+WQpui/kOihjAoJCWNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQljb25zdCB1cmxzID0gWyJ3d3cuaXFpeWkuY29tIiwidi5xcS5jb20iLCJ5b3VrdS5jb20iLCAid3d3LmxlLmNvbSIsIm1ndHYuY29tIiwic29odS5jb20iLCAiYWNmdW4uY24iLCJiaWxpYmlsaS5jb20iLAoJCQkiYmFvZmVuZy5jb20iLCJwcHR2LmNvbSIsIjE5MDUuY29tIiwibWlndXZpZGVvLmNvbSIsInNwb3J0cy5pcWl5aS5jb20iXTsKCQl2YXIgcmVzdWx0ID0gZmFsc2U7CgkJaWYoIWhvc3Quc3RhcnRzV2l0aCgibS4iKSl7IC8v5LiN5piv56e75Yqo56uv5omn6KGMCgkJCWZvcih2YXIgaT0wOyBpPHVybHMubGVuZ3RoO2krKyl7IC8v5LiN5pivQuermeebtOaOpeWIpOaWrQoJCQkJaWYod2luZG93LmxvY2F0aW9uLmhvc3QuaW5kZXhPZigiYmlsaWJpbGkuY29tIik9PS0xKXsKCQkJCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKHVybHNbaV0pIT0tMSl7CgkJCQkJCXJlc3VsdCA9IHRydWU7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX1lbHNlewoJCQkJCWlmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoInd3dy5iaWxpYmlsaS5jb20vYmFuZ3VtaS9wbGF5IikhPS0xKXsgLy/mmK9C56uZ5Y+q5pyJ55Wq5Ymn5omN5byA5ZCvVklQ6Kej5p6QCgkJCQkJCXJlc3VsdCA9IHRydWU7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCQlyZXR1cm4gcmVzdWx0OwoJfTsKCXRoaXMuc2hvd1BsYXllcldpbmRvdyA9IGZ1bmN0aW9uKHBsYXlPYmplY3QpewkvL+aYvuekuuaSreaUvueql+WPowoJCXZhciB1cmwgPSBwbGF5T2JqZWN0LnVybCArIHdpbmRvdy5sb2NhdGlvbi5ocmVmOwoJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNb3BlbkluVGFiKHVybCk7Cgl9OwoJdGhpcy5hbmFseXNpc0N1c3RvbUludGVyZmFjZSA9IGZ1bmN0aW9uKCl7IC8v6Ieq5a6a5LmJ5o6l5Y+j6Kej5p6QCgkJdmFyIGN1c3RvbUludGVyZmFjZSA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUodGhpcy5jdXN0b21JbnRlcmZhY2VLZXksIiIpOwoJCWlmKCEhY3VzdG9tSW50ZXJmYWNlKXsKCQkJdHJ5ewoJCQkJdmFyIGN1c3RvbWl6ZUludGVyZmFjZUxpc3QgPSBuZXcgQXJyYXkoKTsKCQkJCXZhciBhbmFseXNpc0FycmF5ID0gY3VzdG9tSW50ZXJmYWNlLnNwbGl0KCJcbiIpOwoJCQkJZm9yKHZhciBpPTA7aTxhbmFseXNpc0FycmF5Lmxlbmd0aDtpKyspewoJCQkJCXZhciBvbmVQaWVjZSA9IGFuYWx5c2lzQXJyYXlbaV07CgkJCQkJaWYoISFvbmVQaWVjZSAmJiBvbmVQaWVjZS5pbmRleE9mKCIsIikhPS0xKXsKCQkJCQkJdmFyIG9uZVBpZWNlQXJyYXkgPSBvbmVQaWVjZS5zcGxpdCgiLCIpOwoKCQkJCQkJaWYob25lUGllY2VBcnJheS5sZW5ndGg9PTIgJiYgISFvbmVQaWVjZUFycmF5WzBdICYmIC8oaHR0cHxodHRwcyk6XC9cL1xTKi8udGVzdChvbmVQaWVjZUFycmF5WzFdKSl7CgkJCQkJCQljdXN0b21pemVJbnRlcmZhY2VMaXN0LnB1c2goeyJuYW1lIjoiIitvbmVQaWVjZUFycmF5WzBdKyIiLCJ1cmwiOiIiK29uZVBpZWNlQXJyYXlbMV0rIiIsICJzaG93VHlwZSI6MX0pOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQkJdGhpcy5vcmlnaW5hbEludGVyZmFjZUxpc3QgPSBjdXN0b21pemVJbnRlcmZhY2VMaXN0LmNvbmNhdCh0aGlzLm9yaWdpbmFsSW50ZXJmYWNlTGlzdCk7CgkJCX1jYXRjaChlKXt9CgkJfQoJfTsKCXRoaXMuZ2V0UXVpY2tseUludGVyZmFjZUluZGV4ID0gZnVuY3Rpb24oKXsKCQl2YXIgcXVpY2tseUludGVyZmFjZUluZGV4U3RyaW5nID0gY29tbW9uRnVuY3Rpb25PYmplY3QuR01nZXRWYWx1ZSh0aGlzLnF1aWNrbHlJbnRlcmZhY2VLZXksIiIpKyIiOwoJCXZhciBxdWlja2x5SW50ZXJmYWNlSW5kZXggPSB0aGlzLmRlZmF1bHRRdWlja2x5SW50ZXJmYWNlSW5kZXg7CgkJaWYoISFxdWlja2x5SW50ZXJmYWNlSW5kZXhTdHJpbmcpewoJCQlxdWlja2x5SW50ZXJmYWNlSW5kZXggPSBwYXJzZUludChxdWlja2x5SW50ZXJmYWNlSW5kZXhTdHJpbmcpOwoJCX0KCQlpZih0aGlzLm9yaWdpbmFsSW50ZXJmYWNlTGlzdC5sZW5ndGgtMTxxdWlja2x5SW50ZXJmYWNlSW5kZXgpewoJCQlxdWlja2x5SW50ZXJmYWNlSW5kZXggPSB0aGlzLmRlZmF1bHRRdWlja2x5SW50ZXJmYWNlSW5kZXg7CgkJfQoJCXJldHVybiBxdWlja2x5SW50ZXJmYWNlSW5kZXg7Cgl9OwoJdGhpcy5hZGRIdG1sRWxlbWVudHMgPSBmdW5jdGlvbigpeyAgLy/mt7vliqBIVE1MCgkJY29uc3QgdmlwVmlkZW9JbWFnZUJhc2U2NCA9ICJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQURBQUFBQXdDQVlBQUFCWEF2bUhBQUFDOWtsRVFWUm9RKzJaUFdnVlFSREgvNy9DV3FPSVlPRkhGYlJTakpoR01HRHBCeW9JYWdvNzBjcXZVdFFnZGlwV0ZxYXdNV2doR0lpZGhjSEtRQUpxRVVSQlJmRUQxQ0NDamMzSVB1NGVtMzE3NzVKN2QzbThjQXRYM083c3pQN25QenN6eDZFZUgvVDQrVlVENkRhRFRRYk1iRSszRDdNWSs4Q2trdzhCUEZ1TWtpN0tEdFVBdXVoOVozb1pNdEJsanhZMlg5ZUJ3cTRyYVdQTlFFbU9MS3htK1RCZ1pxc2tuUTFkQVZ6TmNvK1poV3NtNlpha0haTEMxbVF5clo1T1gyUnZ6TXhuU2E4bHpRSi9Zd0x6R0RDemU1Sk9lb0kvZ2JWdEFNeEo2dlBXN3dLbmtyNHFiRXVheGNjRGNHV0JzZk5WMG1qTW1TR0FnNUxHQTZYYmdGZWhJVFBiTGVsNU1OODRaQVVBVWpNUGdXTyt6Wlk3WUdidkpXME92Um9COEVqU0VXOStCaGhJdk92Q3Awd0dmUFBiZ1pmcFJBekFUVW5uNTZHRW1KeUxkMzljQk54ZUY5OUZBRFRhNDJCc2t1UWVmNHdEaDlvQjJDWHBSYkRwTVBBNG5UT3owNUx1QkRMcmdXK2RBQUNHSWt4ZmtIVERtLzhEck13RWtCeGdPc2trcWR3RWNNQUQ0R0xmM1lGMFBBQ09lK3VGR01nQTRCajRFQUFiQUdiY1hMUU9tTmtsU2RlQ1RSdUJUMmJXTCtsTnNMWWZlRklSZ0gyU0pnSjdHd0NYWWpNQnJKYjBLOWpVaUhFekc1RjAyVnViQTliNHNrWHZRTWlBbVcyVmRGU1NuMjQvQXMwa2sxbUp6ZXlwcEwzZXdhYUJuV1kySzJtTE56OFM1dWVDQU1Md3ozcS9EWnhyZXdlU2UzQkMwdjFBaTd0a1lYcnNCOTZXd01CQ0FmUUJ2M01CSkNEK1NWcmhhWGFaNTR6M1BnVU1ocFlyWktDRjdiYk5uSms1Qmh3VDZmZ2h5Vzh0aG9HeGlnRTRteTZ0WHdlbVFsdDVBR0kxb2FtRFNJRkxtQ3VVUmlXNUJPR1BMOEM3ZHJHVjIwNmIyWGRKNnlKS3hvRGhtUEtDSWVTNjFaWkNsbmN4RmdMQXRjeXhybkV3Um1rbkRGUUZJRllUV25KL0NWbW9HZ1lTajdaODFPUjg2TGc3c09nUG1uWTZzMElwTjRUeVlyRGI2eldBbW9FT1BWQ0hVSWNPN0hoNy9ZZW1ZeGNXVTdBTWYzQmtOR0RGL0ZQOXJrd0dxamRka29XV3Y1UWw2VjF5TlhVZFdIS1hCd1o3bm9IL2RQK0hRTnFoZVRvQUFBQUFTVVZPUks1Q1lJST0iOwoJCWNvbnN0IHF1aWNrbHlCYXNlNjQgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUFYTlNSMElBcnM0YzZRQUFBdjFKUkVGVVdFZkZsMDJJVldVWXgzOS9FRGRLb0NpQ0dZcXV4Tnc0MDRRTCt3QS93SVVmQTVsdU1vdGswakdvaURRRnYxb01xQ0NPRmtZUXRvcGN6S3hNR3NVVUYyYk5Lc1dGS0Jyb0p0TEkycWp3bCtkeTd1VjQ3am5ubm50bnlnY09GOTduZmQ3Lzc3N25mWjduUGVJWm04WmIzL1pzWUJFd0U1Z0Z6QUdtQVg4bHo5L0FBMGw3UW52Y0FHd3ZCZDRFMWdPVEsveXh2UUV4WmdEYmJ3SHZBcTlVRUUxUE9TenB3ekVCMkQ0S2JHMVR1RDc5RzBudmRBeGcrMmVncDBQeENCdVMxTnNSZ0cyUFFiZ2VlbGJTMHJZQmJKOERYaXNBdUFkY0IyWWtwNytNOHp0Skd5b0QySDRKK0F4WVU3RHFvS1FQNmo3YjI0QWpKUVFEa25hVUF0aWVEdlFtei9LU3hVWWtOZmx0eDA3Rmp1Vlp2NlJqaFFDMjF3SUhnSGtWM3ZjMlNaRVJUV2I3ZCtDRkhGZXZwS0ZjQU52dkExOVVFSzVQV1NucGh3S0FTOERMR2Q4L3dJdVNiamNCMkk0U3Vic044Wmo2aWFTREJRQi9BbE16dnE4bHZSZGpUd0VrNVhTa1RmSGFkRWw1ZnlZT1lSekdyQzJUZE9ZcEFOdmR3QytkaUtkaXRnTlhreFJjQlN6TFdlK0NwRmZyNHcxcTIxZUFCWm1BeDhERmtyenZoSGVqcEcvekFQcVNiaGFDdFVmU3Y3WUhnRTg3VWNxSk9TYXBQejFlcVJEWi9oNTRZNHdRbHlWbHM2SDZmY0QycjBCWHB4QjVoN1FwQzFvdGJqdHEvWlJXOHpMK255UzlYaFRUcWhSM1NScE5COXUrazF5M3FuQU1TNHFLV21oRmxYQWxzQy9aOGx2QWlmb2RMbGF5UFF5c3JrRFFJNmswdGZPS3gwVGdHakEzSTdCTzBzbjZtTzFEd0VjbEVEOUtXdEVLTWcvZ09MQTVKL0N1cE9jenJ5TjJhVWxCbmVpVEZHdVZXcllVUjZwRnloVlpkODZaZUFSTXlBVGNBQlpMK3FNeWdPMDQzZWVCaFFWQm81S2lYRGZNOWlRZ09sdldhcTIybFhqNDA2WDRjMkJuUWRETmFDcVNUbVVBNGgyZnpzUnNrZlJsRmZFR2dPMzVRUFR0NTNJQ3YwckVIMlo5dHZjRHUxTGp0WStOcXVKcGdMaDh4Q1VrYmI4Qis5TW5Qd2NnZlVGdHROaE9BTklMeGJmYklIQkkwdjJ5eFd4L0RHd0MzcFlVcGJwdHE1MkI1QllVUFRyeVAyNjM4ZnUvV0tWdStGK1NQQUc3bC93aDROc0pPUUFBQUFCSlJVNUVya0pnZ2c9PSI7CgkJY29uc3QgY3VycmVudEhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCgkJY29uc3QgcXVpY2tseUludGVyZmFjZUluZGV4ID0gdGhpcy5nZXRRdWlja2x5SW50ZXJmYWNlSW5kZXgoKTsKCQl2YXIgY3VycmVudFF1aWNrbHlJbnRlcmZhY2VPYmplY3QgPSBudWxsOwoKCQl2YXIgY2F0ZWdvcnlfMV9odG1sID0gIiI7CgkJdGhpcy5vcmlnaW5hbEludGVyZmFjZUxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKCQkJaWYoaXRlbS5zaG93VHlwZSAhPSAyKXsKCQkJCXZhciBzZWxlY3RlZCA9ICIiCgkJCQlpZihpbmRleD09cXVpY2tseUludGVyZmFjZUluZGV4KXsKCQkJCQlzZWxlY3RlZCA9ICJzZWxlY3RlZCI7CgkJCQkJY3VycmVudFF1aWNrbHlJbnRlcmZhY2VPYmplY3QgPSAgaXRlbTsKCQkJCX0KCQkJCWNhdGVnb3J5XzFfaHRtbCArPSAiPHNwYW4gdGl0bGU9JyIraXRlbS5uYW1lKyInIGRhdGEtaW5kZXg9JyIraW5kZXgrIicgY2xhc3M9JyIrc2VsZWN0ZWQrIic+IiArIGl0ZW0ubmFtZSArICI8L3NwYW4+IjsKCQkJfQoJCX0pOwoKCQkvL+iOt+W+l+iHquWumuS5ieS9jee9rgoJCXZhciBsZWZ0ID0gMDsKCQl2YXIgdG9wID0gMTIwOwoJCXZhciBQb3NpdGlvbiA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoIlBvc2l0aW9uXyIgKyBjdXJyZW50SG9zdCk7CgkJaWYoISFQb3NpdGlvbil7CgkJCWxlZnQgPSBQb3NpdGlvbi5sZWZ0OwoJCQl0b3AgPSBQb3NpdGlvbi50b3A7CgkJfQoJCXZhciBjb2xvciA9ICIjRkY0RDQwIjsKCQl2YXIgaG92ZXJDb2xvciA9ICIjMDAwMDAwIjsKCQlpZihjdXJyZW50SG9zdC5pbmRleE9mKCJiaWxpYmlsaS5jb20iKSE9LTEpeyAvL+iHquWumuS5ieS4u+mimAoJCQljb2xvciA9ICIjZmI3Mjk5IjsKCQkJaG92ZXJDb2xvciA9ICIjMDBCMEUxIjsKCQl9CgkJdmFyIGNzc01vdWxkID0gYCN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtge2N1cnNvcjpwb2ludGVyOyBwb3NpdGlvbjpmaXhlZDsgdG9wOmAgKyB0b3AgKyBgcHg7IGxlZnQ6YCArIGxlZnQgKyBgcHg7IHdpZHRoOjBweDsgei1pbmRleDo5OTk5OTk5OTsgZm9udC1zaXplOjE2cHg7IHRleHQtYWxpZ246bGVmdDt9CgkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC5pbWdfYm94YCt0aGlzLmVsZW1lbnRJZCtge3dpZHRoOjI0cHg7IGhlaWdodDozMnB4O2xpbmUtaGVpZ2h0OjMycHg7dGV4dC1hbGlnbjpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjpgK2NvbG9yK2A7fQoJCQkJCQkjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYCAuaW1nX2JveGArdGhpcy5lbGVtZW50SWQrYDpob3ZlcnsKCQkJCQkJCWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgzMGRlZywgIzJhNjZmZiA0MCUsIGArY29sb3IrYCk7CgkJCQkJCX0KCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLmltZ19ib3hgK3RoaXMuZWxlbWVudElkK2A+aW1nIHt3aWR0aDoyMHB4OyBkaXNwbGF5OmlubGluZS1ibG9jazsgdmVydGljYWwtYWxpZ246bWlkZGxlO30KCgkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC5zaG93aGlkZV9ib3hgK3RoaXMuZWxlbWVudElkK2B7ZGlzcGxheTpub25lO3BhZGRpbmctbGVmdDo1cHg7cG9zaXRpb246IGFic29sdXRlO2xlZnQ6IDI0cHg7dG9wOiAwO30KCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaXt3aWR0aDozODBweDsgbWF4LWhlaWdodDo0MDBweDsgb3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6cmdiYSgyNDEsMjQxLDI0MSk7fQoJCQkJCQkjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYCAuZGVmYXVsdC1zY3JvbGxiYXItNTU2Nzg6Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjVweDsgaGVpZ2h0OjFweDt9CgkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC5kZWZhdWx0LXNjcm9sbGJhci01NTY3ODo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7Ym94LXNoYWRvdzppbnNldCAwIDAgNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTsgYmFja2dyb3VuZDojQThBOEE4O30KCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLmRlZmF1bHQtc2Nyb2xsYmFyLTU1Njc4Ojotd2Via2l0LXNjcm9sbGJhci10cmFja3tib3gtc2hhZG93Omluc2V0IDAgMCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpOyBiYWNrZ3JvdW5kOiNGMUYxRjE7fQoKCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaT4gLml0ZW1fYm94YCt0aGlzLmVsZW1lbnRJZCtge21hcmdpbi1ib3R0b206MTBweDt9CgkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC52aXBfbW9kX2JveF9hY3Rpb25fNjg3aWk+IC5pdGVtX2JveGArdGhpcy5lbGVtZW50SWQrYDpsYXN0LWNoaWxke21hcmdpbi1ib3R0b206MHB4O30KCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaT4gLml0ZW1fYm94YCt0aGlzLmVsZW1lbnRJZCtgID4udGl0bGVgK3RoaXMuZWxlbWVudElkK2B7Zm9udC1zaXplOjE0cHg7IHRleHQtYWxpZ246bGVmdDtjb2xvcjojMDAwMDAwO2ZvbnQtd2VpZ2h0OjYwMDttYXJnaW46NXB4IDNweDt9CgkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC52aXBfbW9kX2JveF9hY3Rpb25fNjg3aWk+IC5pdGVtX2JveGArdGhpcy5lbGVtZW50SWQrYCA+LmludGVyZmFjZV9ib3hgK3RoaXMuZWxlbWVudElkK2B7fQoJCQkJCQkjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYCAudmlwX21vZF9ib3hfYWN0aW9uXzY4N2lpPiAuaXRlbV9ib3hgK3RoaXMuZWxlbWVudElkK2AgPi5pbnRlcmZhY2VfYm94YCt0aGlzLmVsZW1lbnRJZCtgPnNwYW57Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyLXRvcDozcHggc29saWQgYCtjb2xvcitgOyBib3JkZXItYm90dG9tOjNweCBzb2xpZCBgK2NvbG9yK2A7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Y2FsYygyNSUgLSA2cHgpO3dpZHRoOi1tb3otY2FsYygyNSUgLSA2cHgpO3dpZHRoOiAtd2Via2l0LWNhbGMoMjUlIC0gNnB4KTtoZWlnaHQ6MjBweDtsaW5lLWhlaWdodDoyMHB4O2JhY2tncm91bmQtY29sb3I6YCtjb2xvcitgO2NvbG9yOiNGRkY7Y3Vyc29yOnBvaW50ZXI7bWFyZ2luOjNweDt0ZXh0LWFsaWduOmNlbnRlcjtvdmVyZmxvdzpoaWRkZW47d2hpdGUtc3BhY2U6IG5vd3JhcDt0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczstby10ZXh0LW92ZXJmbG93OmVsbGlwc2lzO2ZvbnQtc2l6ZToxMnB4IWltcG9ydGFudDtib3gtc2l6aW5nOmNvbnRlbnQtYm94IWltcG9ydGFudDt9CgkJCQkJCSN2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgIC52aXBfbW9kX2JveF9hY3Rpb25fNjg3aWk+IC5pdGVtX2JveGArdGhpcy5lbGVtZW50SWQrYCA+LmludGVyZmFjZV9ib3hgK3RoaXMuZWxlbWVudElkK2A+c3Bhbjpob3Zlcntib3JkZXItdG9wOjNweCBzb2xpZCBgK2hvdmVyQ29sb3IrYDsgYm9yZGVyLWJvdHRvbTozcHggc29saWQgYCtob3ZlckNvbG9yK2A7fQoJCQkJCQkjdmlwX21vdmllX2JveGArdGhpcy5lbGVtZW50SWQrYCAudmlwX21vZF9ib3hfYWN0aW9uXzY4N2lpPiAuaXRlbV9ib3hgK3RoaXMuZWxlbWVudElkK2AgPi5pbnRlcmZhY2VfYm94YCt0aGlzLmVsZW1lbnRJZCtgPnNwYW4uc2VsZWN0ZWR7Ym9yZGVyLXRvcDozcHggc29saWQgYCtob3ZlckNvbG9yK2A7IGJvcmRlci1ib3R0b206M3B4IHNvbGlkIGAraG92ZXJDb2xvcitgO30KCQkJCQkJI3ZpcF9tb3ZpZV9ib3hgK3RoaXMuZWxlbWVudElkK2AgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaT4gLml0ZW1fYm94YCt0aGlzLmVsZW1lbnRJZCtgID4uY29udGVudGArdGhpcy5lbGVtZW50SWQrYHtmb250LXNpemU6MTJweDtjb2xvcjojMDAwMDAwO21hcmdpbi1sZWZ0OjNweDt9CgkJCQkJCWAKCQljb21tb25GdW5jdGlvbk9iamVjdC5HTWFkZFN0eWxlKGNzc01vdWxkKTsKCgkJLy/liqDlhaVIVE1MCgkJdmFyIGh0bWxNb3VsZCA9IGA8ZGl2IGlkPSd2aXBfbW92aWVfYm94YCt0aGlzLmVsZW1lbnRJZCtgJz4KCQkJCQkJCTxkaXYgY2xhc3M9J3BsdWdpbl9pbm5lcl9gK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCTxkaXYgY2xhc3M9ImltZ19ib3hgK3RoaXMuZWxlbWVudElkK2AiIGlkPSJpbWdfYm94X2p1bXBfNjY2Nzg5N2lpbyI+PGltZyBzcmM9J2ArIHZpcFZpZGVvSW1hZ2VCYXNlNjQgK2AnIHRpdGxlPSfpgInmi6nop6PmnpDnur/ot68nLz48L2Rpdj4KCQkJCQkJCQk8ZGl2IGNsYXNzPSdzaG93aGlkZV9ib3hgK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCQk8ZGl2IGNsYXNzPSd2aXBfbW9kX2JveF9hY3Rpb25fNjg3aWkgZGVmYXVsdC1zY3JvbGxiYXItNTU2NzgnPgoJCQkJCQkJCQkJPGRpdiBjbGFzcz0naXRlbV9ib3hgK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCQkJCTxkaXYgY2xhc3M9J3RpdGxlYCt0aGlzLmVsZW1lbnRJZCtgJz48Yj7mjqXlj6Pmt7vliqA8L2I+PC9kaXY+CgkJCQkJCQkJCQkJPGRpdiBjbGFzcz0nY29udGVudGArdGhpcy5lbGVtZW50SWQrYCc+CgkJCQkJCQkJCQkJCeWvueeOsOacieaOpeWPo+S4jea7oeaEj++8n+WPr+a3u+WKoOiHquWumuS5ieaOpeWPo+WTn348c3BhbiBpZD0iaW1nX3NldF82NjY3ODk3aWlvIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7Ym9yZGVyLXJhZGl1czoycHg7bWFyZ2luLWxlZnQ6NXB4O3BhZGRpbmc6M3B4IDVweDtiYWNrZ3JvdW5kLWNvbG9yOiNDQ0M7Y3Vyc29yOnBvaW50ZXI7Ij7mt7vliqDmjqXlj6M8L3NwYW4+CgkJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQkJPGRpdiBjbGFzcz0ndGl0bGVgK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCQkJCQk8YSBzdHlsZT0iZm9udC1zaXplOjEzcHg7Y29sb3I6Ymx1ZTsiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIHRhcmdldD0iX2JsYW5rIj7mjqXlj6Por7foh6rooYzmt7vliqB+PC9hPgoJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQk8ZGl2IGNsYXNzPSdpdGVtX2JveGArdGhpcy5lbGVtZW50SWQrYCcgc3R5bGU9J21pbi1oZWlnaHQ6ODBweDtib3JkZXI6MXB4IGRhc2hlZCAjMDAwOyc+CgkJCQkJCQkJCQkJPGRpdiBjbGFzcz0naW50ZXJmYWNlX2JveGArdGhpcy5lbGVtZW50SWQrYCc+CgkJCQkJCQkJCQkJCWAgKyBjYXRlZ29yeV8xX2h0bWwgKyBgCgkJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQkJCTxkaXYgY2xhc3M9J2l0ZW1fYm94YCt0aGlzLmVsZW1lbnRJZCtgJz4KCQkJCQkJCQkJCQk8ZGl2IGNsYXNzPSd0aXRsZWArdGhpcy5lbGVtZW50SWQrYCc+PGI+5YWN6LSj5aOw5piO77yaPC9iPjwvZGl2PgoJCQkJCQkJCQkJCTxkaXYgY2xhc3M9J2NvbnRlbnRgK3RoaXMuZWxlbWVudElkK2AnPgoJCQkJCQkJCQkJCQkx44CBPGIgc3R5bGU9J2NvbG9yOnJlZDsnPumcgOimgeS9v+eUqFZJUOinhumikeino+aekOeahO+8jOivt+iHquihjOa3u+WKoOaOpeWPozwvYj7vvIzniYjmnYPpl67popjor7fogZTns7vnm7jlhbPop6PmnpDmjqXlj6PmiYDmnInogIXvvIzohJrmnKzkuI3mib/mi4Xnm7jlhbPotKPku7vvvIEiPGJyPgoJCQkJCQkJCQkJCQky44CB5Li65Yib6YCg6Imv5aW955qE5Yib5L2c5rCb5Zu077yM6K+35aSn5a625pSv5oyB5q2j54mI77yBPGJyPgoJCQkJCQkJCQkJCQkz44CB6ISa5pys5LuF6ZmQ5Liq5Lq65a2m5Lmg5Lqk5rWB77yM5L2/55So5Y2z5bey5Luj6KGo5oKo5bey57uP5YWF5YiG5LqG6Kej55u45YWz6Zeu6aKY77yM5ZCm5YiZ5ZCO5p6c6Ieq6LSf77yM54m55q2k5aOw5piO77yBPGJyPgoJCQkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJCTwvZGl2PgoJCQkJCQkJCTwvZGl2PgoJCQkJCQkJPC9kaXY+CgkJCQkJCQk8ZGl2IGNsYXNzPSJpbWdfYm94YCt0aGlzLmVsZW1lbnRJZCtgIiBpZD0iaW1nX3F1aWNrbHlfNjY2Nzg5N2lpbyI+PGltZyBzcmM9J2ArcXVpY2tseUJhc2U2NCtgJyB0aXRsZT0n5b+r6YCf5byA5aeLKOW9k+WJjeaJgOmAieaOpeWPo++8mmArKGN1cnJlbnRRdWlja2x5SW50ZXJmYWNlT2JqZWN0PT1udWxsID8gJ+aXoCcgOiBjdXJyZW50UXVpY2tseUludGVyZmFjZU9iamVjdC5uYW1lKStgKScvPjwvZGl2PgoJCQkJCQk8L2Rpdj4KCQkJCQkJYDsKCQkkKCJib2R5IikuYXBwZW5kKGh0bWxNb3VsZCk7Cgl9OwoJdGhpcy5ydW5FdmVudCA9IGZ1bmN0aW9uKCl7CSAvL+S6i+S7tui/kOihjAoJCXZhciB0aGF0ID0gdGhpczsKCQkkKCIjdmlwX21vdmllX2JveCIrdGhpcy5lbGVtZW50SWQrIiA+LnBsdWdpbl9pbm5lcl8iK3RoaXMuZWxlbWVudElkKS5vbigibW91c2VvdmVyIiwgKCkgPT4gewoJCQkkKCIuc2hvd2hpZGVfYm94Iit0aGlzLmVsZW1lbnRJZCkuc2hvdygpOwoJCX0pOwoJCSQoIiN2aXBfbW92aWVfYm94Iit0aGlzLmVsZW1lbnRJZCsiID4ucGx1Z2luX2lubmVyXyIrdGhpcy5lbGVtZW50SWQpLm9uKCJtb3VzZW91dCIsICgpID0+IHsKCQkJJCgiLnNob3doaWRlX2JveCIrdGhpcy5lbGVtZW50SWQpLmhpZGUoKTsKCQl9KTsKCQkkKCJib2R5Iikub24oImNsaWNrIiwiI3ZpcF9tb3ZpZV9ib3giK3RoaXMuZWxlbWVudElkKyIgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaT4uaXRlbV9ib3giK3RoaXMuZWxlbWVudElkKyI+LmludGVyZmFjZV9ib3giK3RoaXMuZWxlbWVudElkKyI+c3BhbiIsZnVuY3Rpb24oKXsKCQkJdmFyIGluZGV4ID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCJkYXRhLWluZGV4IikpOwoJCQl2YXIgcGxheU9iamVjdCA9IHRoYXQub3JpZ2luYWxJbnRlcmZhY2VMaXN0W2luZGV4XTsKCQkJdGhhdC5zaG93UGxheWVyV2luZG93KHBsYXlPYmplY3QpOwoKCQkJJCgiI3ZpcF9tb3ZpZV9ib3giK3RoYXQuZWxlbWVudElkKyIgLnZpcF9tb2RfYm94X2FjdGlvbl82ODdpaT4gLml0ZW1fYm94Iit0aGF0LmVsZW1lbnRJZCsiPi5pbnRlcmZhY2VfYm94Iit0aGF0LmVsZW1lbnRJZCsiPnNwYW4iKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKTsKCQkJJCh0aGlzKS5hZGRDbGFzcygic2VsZWN0ZWQiKTsKCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZSh0aGF0LnF1aWNrbHlJbnRlcmZhY2VLZXksIGluZGV4KTsKCgkJCSQoIiNpbWdfcXVpY2tseV82NjY3ODk3aWlvIikuZmluZCgiaW1nIikuYXR0cigidGl0bGUiLCLlv6vpgJ/lvIDlp4so5b2T5YmN5omA6YCJ5o6l5Y+j77yaIitwbGF5T2JqZWN0Lm5hbWUrIikiKTsKCQl9KTsKCgkJLy/ngrnlh7vlvLnlh7rorr7nva7moYYKCQkkKCIjaW1nX3NldF82NjY3ODk3aWlvIikub24oImNsaWNrIiwgZnVuY3Rpb24oKXsKCQkJdGhhdC5zaG93U2V0aW5nRGlhbG9nKCk7CgkJfSk7CgoJCSQoIiNpbWdfcXVpY2tseV82NjY3ODk3aWlvIikub24oImNsaWNrIiwgZnVuY3Rpb24oKXsKCQkJY29uc3QgcXVpY2tseUludGVyZmFjZUluZGV4ID0gdGhhdC5nZXRRdWlja2x5SW50ZXJmYWNlSW5kZXgoKTsKCQkJdmFyIHBsYXlPYmplY3QgPSB0aGF0Lm9yaWdpbmFsSW50ZXJmYWNlTGlzdFtxdWlja2x5SW50ZXJmYWNlSW5kZXhdOwoJCQl0aGF0LnNob3dQbGF5ZXJXaW5kb3cocGxheU9iamVjdCk7CgkJfSk7CgoJCS8v5Y+z6ZSu56e75Yqo5L2N572uCgkJdmFyIG1vdmllX2JveCA9ICQoIiN2aXBfbW92aWVfYm94Iit0aGlzLmVsZW1lbnRJZCk7CgkJbW92aWVfYm94Lm1vdXNlZG93bihmdW5jdGlvbihlKSB7CgkJCWlmIChlLndoaWNoID09IDMpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKQoJCQkJbW92aWVfYm94LmNzcygiY3Vyc29yIiwgIm1vdmUiKTsKCQkJCXZhciBwb3NpdGlvbkRpdiA9ICQodGhpcykub2Zmc2V0KCk7CgkJCQl2YXIgZGlzdGVuY2VYID0gZS5wYWdlWCAtIHBvc2l0aW9uRGl2LmxlZnQ7CgkJCQl2YXIgZGlzdGVuY2VZID0gZS5wYWdlWSAtIHBvc2l0aW9uRGl2LnRvcDsKCgkJCQkkKGRvY3VtZW50KS5tb3VzZW1vdmUoZnVuY3Rpb24oZSkgewoJCQkJCXZhciB4ID0gZS5wYWdlWCAtIGRpc3RlbmNlWDsKCQkJCQl2YXIgeSA9IGUucGFnZVkgLSBkaXN0ZW5jZVk7CgkJCQkJdmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7CgkJCQkJdmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTsKCgkJCQkJaWYgKHggPCAwKSB7CgkJCQkJCXggPSAwOwoJCQkJCX0gZWxzZSBpZiAoeCA+ICB3aW5kb3dXaWR0aC0gbW92aWVfYm94Lm91dGVyV2lkdGgodHJ1ZSkgLSAxMDApIHsKCQkJCQkJeCA9IHdpbmRvd1dpZHRoIC0gbW92aWVfYm94Lm91dGVyV2lkdGgodHJ1ZSkgLSAxMDA7CgkJCQkJfQoKCQkJCQlpZiAoeSA8IDApIHsKCQkJCQkJeSA9IDA7CgkJCQkJfSBlbHNlIGlmICh5ID4gd2luZG93SGVpZ2h0IC0gbW92aWVfYm94Lm91dGVySGVpZ2h0KHRydWUpKSB7CgkJCQkJCXkgPSB3aW5kb3dIZWlnaHQgLSBtb3ZpZV9ib3gub3V0ZXJIZWlnaHQodHJ1ZSk7CgkJCQkJfQoJCQkJCW1vdmllX2JveC5jc3MoImxlZnQiLCB4KTsKCQkJCQltb3ZpZV9ib3guY3NzKCJ0b3AiLCB5KTsKCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCJQb3NpdGlvbl8iICsgd2luZG93LmxvY2F0aW9uLmhvc3QseyAibGVmdCI6eCwgInRvcCI6eX0pOwoJCQkJfSk7CgkJCQkkKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKCkgewoJCQkJCSQoZG9jdW1lbnQpLm9mZignbW91c2Vtb3ZlJyk7CgkJCQkJbW92aWVfYm94LmNzcygiY3Vyc29yIiwgInBvaW50ZXIiKTsKCQkJCX0pOwoJCQkJJChkb2N1bWVudCkuY29udGV4dG1lbnUoZnVuY3Rpb24oZSkgewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCX0pCgkJCX0KCQl9KTsKCX07Cgl0aGlzLnJlbW92ZVZpZGVvQWRCbG9ja19pcWl5aSA9IGZ1bmN0aW9uKCl7CgoJfSwKCXRoaXMucmVtb3ZlVmlkZW9BZEJsb2NrX3ZxcSA9IGZ1bmN0aW9uKCl7CgoJfSwKCXRoaXMucmVtb3ZlVmlkZW9BZEJsb2NrX3lvdWt1ID0gZnVuY3Rpb24oKXsKCgl9LAoJdGhpcy5yZW1vdmVWaWRlb0FkQmxvY2tfbWd0diA9IGZ1bmN0aW9uKCl7CgoJfSwKCXRoaXMucmVtb3ZlVmlkZW9BZEJsb2NrX3NvaHUgPSBmdW5jdGlvbigpewoKCX0sCgl0aGlzLnJlbW92ZVZpZGVvQWRCbG9jayA9IGZ1bmN0aW9uKCl7CgkJY29uc3QgY3VycmVudEhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQlpZihjdXJyZW50SG9zdC5pbmRleE9mKCJ3d3cuaXFpeWkuY29tIikhPS0xKXsKCQkJdGhpcy5yZW1vdmVWaWRlb0FkQmxvY2tfaXFpeWkoKTsKCQl9ZWxzZSBpZihjdXJyZW50SG9zdC5pbmRleE9mKCJ2LnFxLmNvbSIpIT0tMSl7CgkJCXRoaXMucmVtb3ZlVmlkZW9BZEJsb2NrX3ZxcSgpOwoJCX1lbHNlIGlmKGN1cnJlbnRIb3N0LmluZGV4T2YoInYueW91a3UuY29tIikhPS0xKXsKCQkJdGhpcy5yZW1vdmVWaWRlb0FkQmxvY2tfeW91a3UoKTsKCQl9ZWxzZSBpZihjdXJyZW50SG9zdC5pbmRleE9mKCJ3d3cubWd0di5jb20iKSE9LTEpewoJCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9ja19tZ3R2KCk7CgkJfWVsc2UgaWYoY3VycmVudEhvc3QuaW5kZXhPZigidHYuc29odS5jb20iKSE9LTEpewoJCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9ja19zb2h1KCk7CgkJfQoJfTsKCXRoaXMuc2hvd1NldGluZ0RpYWxvZyA9IGZ1bmN0aW9uKCl7CgkJY29uc3QgdGhhdCA9IHRoaXM7CgkJdmFyIGN1c3RvbUludGVyZmFjZUtleSA9IHRoYXQuY3VzdG9tSW50ZXJmYWNlS2V5OwoJCXZhciBjdXN0b21JbnRlcmZhY2UgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKGN1c3RvbUludGVyZmFjZUtleSwgIiIpOwoKCQl2YXIgY29udGVudCA9IGAKCQkJPGRpdj4KCQkJCTxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojMDAwOyI+6Ieq5a6a5LmJ6Kej5p6Q5o6l5Y+jPC9kaXY+CgkJCQk8ZGl2IHN0eWxlPSJmb250LXNpemU6MTNweDtjb2xvcjpyZWQ7Ij4KCQkJCQnmlbDmja7moLzlvI/vvJpb5ZCN5a2XXSArIFssXSArIFvmjqXlj6PlnLDlnYBdPGJyPgoJCQkJCeS+i+Wmgu+8muWwseaYr+WQjeWtl+iAjOW3sixodHRwczovL3h4eHh4eD91cmw9PGJyPgoJCQkJCeazqO+8muS4gOihjOS4gOS4qgoJCQkJPC9kaXY+CgkJCQk8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjVweDtoZWlnaHQ6MjAwcHg7d2lkdGg6MTAwJTsiPgoJCQkJCTx0ZXh0YXJlYQoJCQkJCQlwbGFjZWhvbGRlcj0i6K+35Lil5qC85oyJ54Wn5qC85byP5aGr5YaZ77yM5ZCm5YiZ5LiN55Sf5pWIIgoJCQkJCQljbGFzcz0iY3VzdG9tLWludGVyZmFjZS10ZXh0YXJlYSIKCQkJCQkJc3R5bGU9ImNvbG9yOiMwMDA7Zm9udC1zaXplOjE0cHg7Ym94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O3BhZGRpbmc6NXB4O2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7T3ZlcmZsb3c6YXV0bztib3JkZXI6MXB4IHNvbGlkICNjY2M7cmVzaXplOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojRkZGO291dGxpbmU6bm9uZTsiPmArY3VzdG9tSW50ZXJmYWNlK2A8L3RleHRhcmVhPgoJCQkJPC9kaXY+CgkJCQk8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjE1cHg7Ij4KCQkJCQk8YnV0dG9uIGNsYXNzPSJzYXZlLWN1c3RvbS1pbnRlcmZhY2UtYnRuIiBzdHlsZT0iY29sb3I6IzAwMDtjdXJzb3I6cG9pbnRlcjsiPuS/neWtmOiHquWumuS5ieaOpeWPozwvYnV0dG9uPgoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCWA7CgkJcG9wdXAuZGlhbG9nKHsKCQkJInRpdGxlIjoi6Kej5p6Q5o6l5Y+j5re75YqgIiwKCQkJImNvbnRlbnQiOmNvbnRlbnQsCgkJCSJvbkNvbnRlbnRSZWFkeSI6ZnVuY3Rpb24oJHRoYXQpewoJCQkJdmFyICRzYXZlQ3VzdG9tSW50ZXJmYWNlQnRuID0gJHRoYXQuZGlhbG9nQ29udGVudC5xdWVyeVNlbGVjdG9yKCIuc2F2ZS1jdXN0b20taW50ZXJmYWNlLWJ0biIpOwoJCQkJJHNhdmVDdXN0b21JbnRlcmZhY2VCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpewoJCQkJCXZhciAkY3VzdG9tSW50ZXJmYWNlVGV4dGFyZWEgPSAkdGhhdC5kaWFsb2dDb250ZW50LnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b20taW50ZXJmYWNlLXRleHRhcmVhIik7CgkJCQkJdmFyIGNvbnRlbnQgPSAkY3VzdG9tSW50ZXJmYWNlVGV4dGFyZWEudmFsdWU7CgkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZShjdXN0b21JbnRlcmZhY2VLZXksIGNvbnRlbnQpOwoJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LndlYlRvYXN0KHsibWVzc2FnZSI6IuiHquWumuS5ieaOpeWPo+S/neWtmOaIkOWKnyIsICJiYWNrZ3JvdW5kIjoiI0ZGNEQ0MCJ9KTsKCQkJCX0pOwoJCQl9CgkJfSkKCX0KCXRoaXMuc3RhcnQgPSBmdW5jdGlvbigpewoJCWxldCBkZWxheVRpbWVNcyA9IDA7CgkJaWYod2luZG93LmxvY2F0aW9uLmhvc3QuaW5kZXhPZigid3d3LmJpbGliaWxpLmNvbSIpIT0tMSl7CgkJCWRlbGF5VGltZU1zID0gMjIwMDsKCQl9CgkJc2V0VGltZW91dCgoKT0+ewoJCQl0cnl7CgkJCQl0aGlzLnJlbW92ZVZpZGVvQWRCbG9jaygpOwoJCQl9Y2F0Y2goZSl7fQoJCQl0cnl7CgkJCQl0aGlzLmFuYWx5c2lzQ3VzdG9tSW50ZXJmYWNlKCk7CgkJCQl0aGlzLmFkZEh0bWxFbGVtZW50cygpOwoJCQkJdGhpcy5ydW5FdmVudCgpOwoJCQl9Y2F0Y2goZSl7fQoJCX0sIGRlbGF5VGltZU1zKTsKCX07Cn07CgovKioKICog56e75Yqo56uvVklQ6Kej5p6QCiAqIEBwYXJhbSB7T2JqZWN0fSBvcmlnaW5hbEludGVyZmFjZUxpc3QKICovCmZ1bmN0aW9uIFN1cGVyVmlkZW9IZWxwZXJNb2JpbGUob3JpZ2luYWxJbnRlcmZhY2VMaXN0KXsKCXRoaXMub3JpZ2luYWxJbnRlcmZhY2VMaXN0ID0gb3JpZ2luYWxJbnRlcmZhY2VMaXN0OwoJdGhpcy5lbGVtZW50SWQgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxMDAwMDAwMDApKyJtbXgiOwoJdGhpcy5xdWlja2x5SW50ZXJmYWNlS2V5ID0gImN1c3RvbV9tb2JpbGVfcXVpY2tseV9pbnRlcmZhY2Vfa2V5X2RkZHNkeHhhIjsKCXRoaXMuZGVmYXVsdFF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IDI7Cgl0aGlzLnBsYXllck5vZGVzPVsKCQl7InVybCI6Im0uaXFpeWkuY29tIiwgInNob3dOb2RlIjoiLm0tdmlkZW8tcGxheWVyLXdyYXAiLCAiY29sb3IiOiIjMDVCMDNCIn0sCgkJeyJ1cmwiOiJtLnYucXEuY29tIiwgInNob3dOb2RlIjoiLm1vZF9wbGF5ZXIiLCAiY29sb3IiOiIjRjk5RDM5In0sCgkJeyJ1cmwiOiJtLnlvdWt1LmNvbSIsICJzaG93Tm9kZSI6Ii5oNS1kZXRhaWwtcGxheWVyIiwgImNvbG9yIjoiIzA4QkFGRCJ9LAoJCXsidXJsIjoibS5tZ3R2LmNvbSIsICJzaG93Tm9kZSI6Ii52aWRlby1hcmVhIiwgImNvbG9yIjoiI0U5NTkwNCJ9CgldOwoJdGhpcy5pc1J1biA9IGZ1bmN0aW9uKCl7IC8v5Yik5pat5piv5ZCm6L+Q6KGMCgkJY29uc3QgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCWNvbnN0IHVybHMgPSBbIm0uaXFpeWkuY29tIiwibS52LnFxLmNvbSIsIm0ueW91a3UuY29tIiwgIm0ubWd0di5jb20iLCAibS5iaWxpYmlsaS5jb20iXTsKCQl2YXIgcmVzdWx0ID0gZmFsc2U7CgkJaWYoaG9zdC5zdGFydHNXaXRoKCJtLiIpKXsgLy/mmK/np7vliqjnq6/miafooYwKCQkJZm9yKHZhciBpPTA7IGk8dXJscy5sZW5ndGg7IGkrKyl7CgkJCQlpZihob3N0LmluZGV4T2YodXJsc1tpXSkgIT0gLTEpewoJCQkJCXJlc3VsdCA9IHRydWU7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIHJlc3VsdDsKCX07Cgl0aGlzLmdldHdpbmRvd0VsZW1lbnQgPSBmdW5jdGlvbigpewoJCXZhciBub2RlT2JqZWN0ID0gbnVsbDsKCQlmb3IodmFyIGkgaW4gdGhpcy5wbGF5ZXJOb2RlcykgeyAvL+iOt+W+l+eql+WPo0lECgkJCWlmICh0aGlzLnBsYXllck5vZGVzW2ldLnVybCA9PSB3aW5kb3cubG9jYXRpb24uaG9zdCkgewoJCQkJbm9kZU9iamVjdCA9IHRoaXMucGxheWVyTm9kZXNbaV07CgkJCQlicmVhazsKCQkJfQoJCX0KCQlyZXR1cm4gbm9kZU9iamVjdDsKCX07Cgl0aGlzLmdldFF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IGZ1bmN0aW9uKCl7CgkJdmFyIHF1aWNrbHlJbnRlcmZhY2VJbmRleFN0cmluZyA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUodGhpcy5xdWlja2x5SW50ZXJmYWNlS2V5LCIiKSsiIjsKCQl2YXIgcXVpY2tseUludGVyZmFjZUluZGV4ID0gdGhpcy5kZWZhdWx0UXVpY2tseUludGVyZmFjZUluZGV4OwoJCWlmKCEhcXVpY2tseUludGVyZmFjZUluZGV4U3RyaW5nKXsKCQkJcXVpY2tseUludGVyZmFjZUluZGV4ID0gcGFyc2VJbnQocXVpY2tseUludGVyZmFjZUluZGV4U3RyaW5nKTsKCQl9CgkJaWYodGhpcy5vcmlnaW5hbEludGVyZmFjZUxpc3QubGVuZ3RoLTE8cXVpY2tseUludGVyZmFjZUluZGV4KXsKCQkJcXVpY2tseUludGVyZmFjZUluZGV4ID0gdGhpcy5kZWZhdWx0UXVpY2tseUludGVyZmFjZUluZGV4OwoJCX0KCQlyZXR1cm4gcXVpY2tseUludGVyZmFjZUluZGV4OwoJfTsKCXRoaXMuYWRkSHRtbEVsZW1lbnRzID0gZnVuY3Rpb24oKXsKCQlsZXQgbm9kZU9iamVjdCA9IHRoaXMuZ2V0d2luZG93RWxlbWVudCgpOwoJCWNvbnN0IHF1aWNrbHlJbnRlcmZhY2VJbmRleCA9IHRoaXMuZ2V0UXVpY2tseUludGVyZmFjZUluZGV4KCk7CgkJaWYoIW5vZGVPYmplY3QpIHJldHVybjsKCQlyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PnsKCQkJY29uc3QgZWxlbWVudEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PnsKCQkJCWNvbnN0IG5vZGVFbGVtZW50T2JqZWN0ID0gJChub2RlT2JqZWN0LnNob3dOb2RlKSwgdGhlbWVDb2xvciA9IG5vZGVPYmplY3QuY29sb3I7CgoJCQkJaWYobm9kZUVsZW1lbnRPYmplY3QubGVuZ3RoID09IDApIHJldHVybjsKCQkJCWNsZWFySW50ZXJ2YWwoZWxlbWVudEludGVydmFsKTsKCgkJCQkvL+a3u+WKoEhUTUwKCQkJCWxldCBjYXRlZ29yeV8xX2h0bWwgPSAiIjsKCQkJCXRoaXMub3JpZ2luYWxJbnRlcmZhY2VMaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CgkJCQkJaWYgKGl0ZW0uc2hvd1R5cGUgIT0gMSkgewoJCQkJCQl2YXIgc2VsZWN0ZWQgPSAiIjsKCQkJCQkJaWYoaW5kZXg9PXF1aWNrbHlJbnRlcmZhY2VJbmRleCl7CgkJCQkJCQlzZWxlY3RlZCA9ICJzZWxlY3RlZCI7CgkJCQkJCX0KCQkJCQkJY2F0ZWdvcnlfMV9odG1sICs9ICI8b3B0aW9uIHZhbHVlPSciK2l0ZW0udXJsKyInIGluZGV4PSciK2luZGV4KyInICIrc2VsZWN0ZWQrIj4iK2l0ZW0ubmFtZSsiPC9vcHRpb24+IjsKCQkJCQl9CgkJCQl9KTsKCQkJCXZhciBodG1sTW91bGQgPSBgCgkJCQkJPGRpdiBzdHlsZT0ibWFyZ2luOjE1cHggMTVweCA1MHB4IDE1cHg7cGFkZGluZzoxMHB4O2JhY2tncm91bmQtY29sb3I6YCt0aGVtZUNvbG9yK2A7Ym9yZGVyLXJhZGl1czo0cHg7Y3Vyc29yOnBvaW50ZXI7ei1pbmRleDogOTk5OTk5OTk5OTk5OTk5OTk5OTk5O2NvbG9yOiNGRkY7Ij4KCQkJCQkJCTxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMDtmb250LXNpemU6MTRweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgoJCQkJCQkJCTxzcGFuPumAieaLqeino+aekOaOpeWPozwvc3Bhbj4KCQkJCQkJCQk8c2VsZWN0IGlkPSJpbnRlcmZhY2Vfc2VsZWN0aW9uX2ArdGhpcy5lbGVtZW50SWQrYCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6I0ZGRjtwYWRkaW5nOiAwcHggMTBweDsiPgoJCQkJCQkJCQlgK2NhdGVnb3J5XzFfaHRtbCtgCgkJCQkJCQkJPC9zZWxlY3Q+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJCTxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyI+CgkJCQkJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgaWQ9InN0YXJ0X2FuYWx5c2lzX291dGVyX2ArdGhpcy5lbGVtZW50SWQrYCIgc3R5bGU9ImJveC1zaXppbmc6Ym9yZGVyLWJveDttYXJnaW46MTBweCAwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzoxMHB4IDBweDt3aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6NHB4O2NvbG9yOiNGRkY7YmFja2dyb3VuZC1jb2xvcjojRjI1MDNGO2ZvbnQtc2l6ZToxNHB4OyI+56uZ5aSW6Kej5p6QPC9hPgoJCQkJCQkJPC9kaXY+CgkJCQkJCQk8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Zm9udC1zaXplOjEwcHg7Ij4KCQkJCQkJCQk8ZGl2PgoJCQkJCQkJCQnlhY3otKPnlLPmmI7vvJox44CBVklQ6KeG6aKR6Kej5p6Q5Lit5omA55So5Yiw55qE6Kej5p6Q5o6l5Y+j5YWo6YOo5pS26ZuG6Ieq5LqS6IGU572R77yI5rqQ56CB5Y+v6KeB77yJ77yM54mI5p2D6Zeu6aKY6K+36IGU57O755u45YWz6Kej5p6Q5o6l5Y+j5omA5pyJ6ICF77yBCgkJCQkJCQkJCTLjgIHkuLrliJvpgKDoia/lpb3nmoTliJvkvZzmsJvlm7TvvIzor7flpKflrrbmlK/mjIHmraPniYjvvIEKCQkJCQkJCQkJM+OAgeiEmuacrOS7hemZkOS4quS6uuWtpuS5oOS6pOa1ge+8jOWIh+WLv+eUqOS6juS7u+S9leWVhuS4muetieWFtuWug+eUqOmAlO+8gQoJCQkJCQkJCQk044CB57un57ut5L2/55So77yM5Y2z6KGo5piO5L2g5bey57uP5piO56Gu5L2/55So6ISa5pys5Y+v6IO95bim5p2l55qE6aOO6Zmp77yM5LiU5oS/5oSP6Ieq6KGM5om/5ouF55u45YWz6aOO6Zmp77yM5a+55LqO6aOO6Zmp6ISa5pys5LiN5om/5ouF5Lu75L2V6LSj5Lu777yBCgkJCQkJCQkJPC9kaXY+CgkJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCWA7CgkJCQlub2RlRWxlbWVudE9iamVjdC5hZnRlcihodG1sTW91bGQpOwoJCQkJcmVzb2x2ZSgib2siKTsKCQkJfSwgMTAwKTsKCQl9KTsKCX07Cgl0aGlzLmdldFBsYXlPYmplY3RCeVNlbGVjdCA9IGZ1bmN0aW9uKCl7CgoJCXZhciBpbmRleFN0cmluZyA9ICQoIiNpbnRlcmZhY2Vfc2VsZWN0aW9uXyIrdGhpcy5lbGVtZW50SWQpLmZpbmQoIm9wdGlvbjpzZWxlY3RlZCIpLmF0dHIoImluZGV4Iik7CgkJdmFyIGluZGV4ID0gMDsKCQlpZighIWluZGV4U3RyaW5nKXsKCQkJaW5kZXggPSBwYXJzZUludChpbmRleFN0cmluZyk7CgkJfQoJCXJldHVybiB0aGlzLm9yaWdpbmFsSW50ZXJmYWNlTGlzdFtpbmRleF07Cgl9OwoJdGhpcy5ydW5FdmVudCA9IGZ1bmN0aW9uKCl7CSAvL+S6i+S7tui/kOihjAoJCWNvbnN0IHNlbGYgPSB0aGlzOwoKCQkvL+WIneWni+WMlgoJCXZhciBwbGF5T2JqZWN0ID0gc2VsZi5nZXRQbGF5T2JqZWN0QnlTZWxlY3QoKTsKCQkkKCcjc3RhcnRfYW5hbHlzaXNfb3V0ZXJfJytzZWxmLmVsZW1lbnRJZCkuYXR0cigiaHJlZiIsIHBsYXlPYmplY3QudXJsICsgd2luZG93LmxvY2F0aW9uLmhyZWYpOwoJCSQoJyNzdGFydF9hbmFseXNpc19vdXRlcl8nK3NlbGYuZWxlbWVudElkKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCQlpZihjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKCJjb3B5cmlnaHRfdmlkZW9fcmVtaW5kX21vYmlsZV9vdXRlciIsbnVsbCk9PT0idHJ1ZSIpewoKCQkJfWVsc2V7CgkJCQl2YXIgcj1jb25maXJtKAoJCQkJCSLohJrmnKzov5DooYzmj5DphpLvvIHvvIHvvIFcdTAwMGQiKwoJCQkJCSLkvb/nlKjnq5nlpJbop6PmnpDlip/og73vvIzop4bpopHop6PmnpDml7bohJrmnKzot7Plh7rmnKzpobXpnaLvvIzlpoLkuI3lkIzmhI/mraTohJrmnKzooYzkuLrvvIzor7fngrnlh7vjgJDlj5bmtojjgJHmjInpkq7vvIHvvIEiCgkJCQkpOwoJCQkJaWYocj09ZmFsc2UpewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCX1lbHNlewoJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUoImNvcHlyaWdodF92aWRlb19yZW1pbmRfbW9iaWxlX291dGVyIiwidHJ1ZSIpOwoJCQkJfQoJCQl9CgkJfSk7CgkJLy/mjqXlj6PliIfmjaIKCQkkKCcjaW50ZXJmYWNlX3NlbGVjdGlvbl8nK3NlbGYuZWxlbWVudElkKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkgewoJCQl2YXIgJG9wdGlvbiA9ICQodGhpcykuZmluZCgib3B0aW9uOnNlbGVjdGVkIik7CgkJCXZhciB2YWx1ZSA9ICRvcHRpb24udmFsKCk7CgkJCXZhciBpbmRleCA9IHBhcnNlSW50KCRvcHRpb24uYXR0cigiaW5kZXgiKSk7CgkJCSQoJyNzdGFydF9hbmFseXNpc19vdXRlcl8nK3NlbGYuZWxlbWVudElkKS5hdHRyKCJocmVmIiwgdmFsdWUrd2luZG93LmxvY2F0aW9uLmhyZWYpOwoJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKHNlbGYucXVpY2tseUludGVyZmFjZUtleSwgaW5kZXgpOwoJCX0pOwoJfTsKCXRoaXMuc3RhcnQgPSBmdW5jdGlvbigpewoJCWNvbnN0IHNlbGYgPSB0aGlzOwoJCWlmKHRoaXMuaXNSdW4oKSl7CgkJCXRoaXMuYWRkSHRtbEVsZW1lbnRzKCkudGhlbigoKT0+ewoJCQkJc2VsZi5ydW5FdmVudCgpOwoJCQl9KTsKCQl9Cgl9Cn0KdHJ5ewoJbGV0IG5ld09yaWdpbmFsSW50ZXJmYWNlTGlzdCA9IG9yaWdpbmFsSW50ZXJmYWNlTGlzdDsKCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIgfHwgZnVuY3Rpb25Db250cm9sbGVyLnN1cGVyVmlkZW9IZWxwZXIpewoJCWNvbnN0IHN1cGVyVmlkZW9IZWxwZXJPYmplY3QgPSBuZXcgU3VwZXJWaWRlb0hlbHBlcihuZXdPcmlnaW5hbEludGVyZmFjZUxpc3QpOwoJCWlmKHN1cGVyVmlkZW9IZWxwZXJPYmplY3QuaXNSdW4oKSl7CgkJCWlmKGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoImNvcHlyaWdodF92aWRlb19yZW1pbmQiLG51bGwpPT09InRydWUiKXsKCQkJCXN1cGVyVmlkZW9IZWxwZXJPYmplY3Quc3RhcnQoKTsKCQkJfWVsc2V7CgkJCQl2YXIgcj1jb25maXJtKAoJCQkJCSLohJrmnKzov5DooYzmj5DphpLvvIHvvIHvvIFcdTAwMGQiKwoJCQkJCSIx44CBVklQ6KeG6aKR6Kej5p6Q5Lit5omA55So5Yiw55qE6Kej5p6Q5o6l5Y+j5YWo6YOo5pS26ZuG6Ieq5LqS6IGU572R77yI5rqQ56CB5Y+v6KeB77yJ77yM54mI5p2D6Zeu6aKY6K+36IGU57O755u45YWz6Kej5p6Q5o6l5Y+j5omA5pyJ6ICF77yBXHUwMDBkIisKCQkJCQkiMuOAgeS4uuWIm+mAoOiJr+WlveeahOWIm+S9nOawm+WbtO+8jOivt+Wkp+WutuaUr+aMgeato+eJiO+8gVx1MDAwZCIrCgkJCQkJIjPjgIHohJrmnKzku4XpmZDkuKrkurrlrabkuaDkuqTmtYHvvIzliIfli7/nlKjkuo7ku7vkvZXllYbkuJrnrYnlhbblroPnlKjpgJTvvIFcdTAwMGQiKwoJCQkJCSI044CB57un57ut5L2/55So77yM5Y2z6KGo5piO5L2g5bey57uP5piO56Gu5L2/55So6ISa5pys5Y+v6IO95bim5p2l55qE6aOO6Zmp77yM5LiU5oS/5oSP6Ieq6KGM5om/5ouF55u45YWz6aOO6Zmp77yM5a+55LqO6aOO6Zmp6ISa5pys5LiN5om/5ouF5Lu75L2V6LSj5Lu777yBXHUwMDBkIisKCQkJCQkiNeOAgeatpOaPkOmGkuWPquW8ueWHuuS4gOasoe+8jOehruiupOWQju+8jOWQjue7reWwhuS4jeWcqOW8ueWHuu+8jOivt+efpeaCie+8gSIKCQkJCSk7CgkJCQlpZihyPT10cnVlKXsKCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCJjb3B5cmlnaHRfdmlkZW9fcmVtaW5kIiwidHJ1ZSIpOwoJCQkJCXN1cGVyVmlkZW9IZWxwZXJPYmplY3Quc3RhcnQoKTsKCQkJCX0KCQkJfQoJCX0KCQkobmV3IFN1cGVyVmlkZW9IZWxwZXJNb2JpbGUobmV3T3JpZ2luYWxJbnRlcmZhY2VMaXN0KSkuc3RhcnQoKTsKCX0KfWNhdGNoKGUpewoJY29uc29sZS5sb2coIuWFqOe9kVZJUOino+aekO+8mmVycm9y77yaIitlKTsKfQoKCS8qKgogKiBC56uZ55u45YWz5Yqf6IO977ya6KeG6aKR5aSaUOS4i+i9ve+8jOS4gOmUruS4ieiBlO+8jOa1j+iniOiusOW9leetiQogKi8KZnVuY3Rpb24gQmlsaWJpbGlIZWxwZXIoKXsKCXRoaXMuaXNSdW4gPSBmdW5jdGlvbigpewoJCXJldHVybiB3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCJiaWxpYmlsaS5jb20iKSAhPSAtMQoJfQoJdGhpcy5iYXNlRnVuY3Rpb24gPSBmdW5jdGlvbigpewoJCS8qKgoJCSAqIGLnq5nln7rmnKzlip/og73vvIzkuIDku7bkuInov57jgIHop4bpopHop6PmnpDjgIHop4bpopHkuIvovb0KCQkgKi8KCQlmdW5jdGlvbiBiYXNlRnVuY3Rpb25PYmplY3QoKXsKCQkJdGhpcy5lbGVtZW50SWQgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxMDAwMDAwMDApKyJtbXgiOwoJCQl0aGlzLmRvd25sb2FkU2V0dGluZ0tleSA9ICJkb3dubG9hZF9zZXR0aW5nX2tleSI7CgkJCXRoaXMuZG93bmxvYWRSZXN1dEVycm9yPWZ1bmN0aW9uKGJ0bkVsZW1lbnQpewoJCQkJYnRuRWxlbWVudC50ZXh0KCLkuIvovb3op4bpopEv5bCB6Z2iLCDlh7rnjrDplJnor6/vvIHngrnlh7vph43or5UiKTsKCQkJCWJ0bkVsZW1lbnQucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTsKCQkJfTsKCQkJdGhpcy5kb3dubG9hZFJlc3V0U3VjY2Vzcz1mdW5jdGlvbihidG5FbGVtZW50KXsKCQkJCWJ0bkVsZW1lbnQudGV4dCgi5LiL6L296KeG6aKRL+Wwgemdou+8iOacgOmrmOa4he+8iSIpOwoJCQkJYnRuRWxlbWVudC5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpOwoJCQl9OwoJCQl0aGlzLmdldERvd25sb2FkUGFnZXMgPSBmdW5jdGlvbigpewoJCQkJcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewoJCQkJCXZhciBwYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgYnYgPSBudWxsOwoJCQkJCWlmIChwYXRobmFtZS5pbmRleE9mKCIvbWVkaWFsaXN0L3BsYXkvd2F0Y2hsYXRlci8iKSAhPSAtMSkgeyAvLyDlnKjkuIvovb3op4bpopHnmoTml7blgJnpkojlr7nnqI3lkI7lho3nnIvpobXpnaLnmoTpk77mjqXmib5CVuWPtwoJCQkJCQlidiA9IHBhdGhuYW1lLnJlcGxhY2UoIi9tZWRpYWxpc3QvcGxheS93YXRjaGxhdGVyLyIsIiIpLnJlcGxhY2UoIi8iLCIiKTsKCQkJCQl9ZWxzZXsKCQkJCQkJYnYgPSBwYXRobmFtZS5yZXBsYWNlKCIvdmlkZW8vIiwiIikucmVwbGFjZSgiLyIsIiIpOwoJCQkJCX0KCQkJCQlpZighYnYpewoJCQkJCQlyZXNvbHZlKHsic3RhdHVzIjoiYnZfbnVsbCJ9KTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCQkvL2J26L2sYXYKCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5yZXF1ZXN0KCJnZXQiLCAiaHR0cHM6Ly9hcGkuYmlsaWJpbGkuY29tL3gvd2ViLWludGVyZmFjZS92aWV3P2J2aWQ9IitidiwgbnVsbCkudGhlbigocmVzdWx0RGF0YSk9PnsKCQkJCQkJbGV0IGRhdGFKc29uID0gSlNPTi5wYXJzZShyZXN1bHREYXRhLmRhdGEpOwoJCQkJCQlpZighZGF0YUpzb24gfHwgZGF0YUpzb24uY29kZSE9PTAgfHwgIWRhdGFKc29uLmRhdGEpewoJCQkJCQkJcmVzb2x2ZSh7InN0YXR1cyI6InJlcXVlc3RfZXJyb3IifSk7CgkJCQkJCQlyZXR1cm47CgkJCQkJCX0KCgkJCQkJCWxldCBkYXRhID0gZGF0YUpzb24uZGF0YTsKCQkJCQkJaWYoIWRhdGEpewoJCQkJCQkJcmVzb2x2ZSh7InN0YXR1cyI6ImFpZF9udWxsIn0pOwoJCQkJCQkJcmV0dXJuOwoJCQkJCQl9CgoJCQkJCQlsZXQgYWlkID0gZGF0YS5haWQ7CgkJCQkJCWxldCBwaWMgPSBkYXRhLnBpYzsKCQkJCQkJbGV0IHRpdGxlID0gZGF0YS50aXRsZQoJCQkJCQlpZighYWlkKXsKCQkJCQkJCXJlc29sdmUoeyJzdGF0dXMiOiJhaWRfbnVsbCJ9KTsKCQkJCQkJCXJldHVybjsKCQkJCQkJfQoKCQkJCQkJLy/ojrflj5ZjaWQKCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QucmVxdWVzdCgiZ2V0IiwgImh0dHBzOi8vYXBpLmJpbGliaWxpLmNvbS94L3dlYi1pbnRlcmZhY2Uvdmlldz9haWQ9IithaWQsIG51bGwpLnRoZW4oKHJlc3VsdERhdGEyKT0+ewoJCQkJCQkJbGV0IGRhdGFKc29uMiA9IEpTT04ucGFyc2UocmVzdWx0RGF0YTIuZGF0YSk7CgkJCQkJCQlpZighZGF0YUpzb24yIHx8IGRhdGFKc29uMi5jb2RlIT09MCB8fCAhZGF0YUpzb24yLmRhdGEpewoJCQkJCQkJCXJlc29sdmUoeyJzdGF0dXMiOiJyZXF1ZXN0X2Vycm9yIn0pOwoJCQkJCQkJCXJldHVybjsKCQkJCQkJCX0KCQkJCQkJCWNvbnN0IGRvd25sb2FkRGF0YSA9IGRhdGFKc29uMi5kYXRhOwoJCQkJCQkJY29uc3Qge2FpZCwgIGJ2aWR9ID0gZG93bmxvYWREYXRhLAoJCQkJCQkJCWl0ZW1zID0gbmV3IEFycmF5KCk7CgkJCQkJCQkvL+i/meaYr+S4i+i9vembhuWQiAoJCQkJCQkJaWYoZG93bmxvYWREYXRhLmhhc093blByb3BlcnR5KCJ1Z2Nfc2Vhc29uIikgJiYgZG93bmxvYWREYXRhLnVnY19zZWFzb24uaGFzT3duUHJvcGVydHkoInNlY3Rpb25zIikpewoJCQkJCQkJCWxldCBzZWN0aW9ucyA9IGRvd25sb2FkRGF0YS51Z2Nfc2Vhc29uLnNlY3Rpb25zOwoJCQkJCQkJCWxldCBwYWdlID0gMTsKCQkJCQkJCQlmb3IodmFyIGk9MDsgaTxzZWN0aW9ucy5sZW5ndGg7IGkrKyl7CgkJCQkJCQkJCWxldCBzZWN0aW9uID0gc2VjdGlvbnNbaV07CgkJCQkJCQkJCWlmKHNlY3Rpb24uaGFzT3duUHJvcGVydHkoImVwaXNvZGVzIikpewoJCQkJCQkJCQkJZm9yKHZhciBqPTA7IGo8c2VjdGlvbi5lcGlzb2Rlcy5sZW5ndGg7IGorKyl7CgkJCQkJCQkJCQkJbGV0IGVwaXNvZGUgPSBzZWN0aW9uLmVwaXNvZGVzW2pdOwoJCQkJCQkJCQkJCWl0ZW1zLnB1c2goewoJCQkJCQkJCQkJCQkiY292ZXIiOiIiLAoJCQkJCQkJCQkJCQkicGFnZSI6cGFnZSwKCQkJCQkJCQkJCQkJInRpdGxlIjplcGlzb2RlLnRpdGxlLAoJCQkJCQkJCQkJCQkiY2lkIjplcGlzb2RlLmNpZCwKCQkJCQkJCQkJCQkJImFpZCI6ZXBpc29kZS5haWQKCQkJCQkJCQkJCQl9KTsKCQkJCQkJCQkJCQlwYWdlKys7CgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQl9ZWxzZXsgLy/ov5nmmK/lpJpQ5LiL6L29CgkJCQkJCQkJZm9yKHZhciBpPTA7IGk8ZG93bmxvYWREYXRhLnBhZ2VzLmxlbmd0aDsgaSsrKXsKCQkJCQkJCQkJbGV0IHBhZ2VEYXRhID0gZG93bmxvYWREYXRhLnBhZ2VzW2ldOwoJCQkJCQkJCQlpdGVtcy5wdXNoKHsKCQkJCQkJCQkJCSJjb3ZlciI6cGFnZURhdGEuZmlyc3RfZnJhbWUsCgkJCQkJCQkJCQkicGFnZSI6cGFnZURhdGEucGFnZSwKCQkJCQkJCQkJCSJ0aXRsZSI6cGFnZURhdGEucGFydCwKCQkJCQkJCQkJCSJjaWQiOnBhZ2VEYXRhLmNpZCwKCQkJCQkJCQkJCSJhaWQiOmFpZAoJCQkJCQkJCQl9KTsKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCQlyZXNvbHZlKHsic3RhdHVzIjoic3VjY2VzcyIsICJkb3dubG9hZERhdGEiOnsKCQkJCQkJCQkiaXRlbXMiOml0ZW1zLAoJCQkJCQkJCSJwaWMiOnBpYywKCQkJCQkJCQkidGl0bGUiOnRpdGxlCgkJCQkJCQl9fSk7CgkJCQkJCX0pLmNhdGNoKChlcnJvckRhdGEpPT57CgkJCQkJCQlyZXNvbHZlKHsic3RhdHVzIjoicmVxdWVzdF9lcnJvciJ9KTsKCQkJCQkJfSk7CgkJCQkJfSkuY2F0Y2goKGVycm9yRGF0YSk9PnsKCQkJCQkJcmVzb2x2ZSh7InN0YXR1cyI6InJlcXVlc3RfZXJyb3IifSk7CgkJCQkJfSk7CgkJCQl9KTsKCQkJfTsKCQkJdGhpcy5zdGFydERvd25sb2FkRmlsZSA9IGZ1bmN0aW9uKG9wdGlvbnMpewoJCQkJbGV0IGFpZCA9IG9wdGlvbnMuYWlkLCBjaWQgPSBvcHRpb25zLmNpZCwgZmlsZU5hbWUgPSBvcHRpb25zLmZpbGVOYW1lLAoJCQkJCXNhdmVQYXRoID0gb3B0aW9ucy5zYXZlUGF0aCwgUlBDVVJMID0gb3B0aW9ucy5SUENVUkwsIFJQQ1Rva2VuID0gb3B0aW9ucy5SUENUb2tlbjsKCQkJCWxldCBpc0J5UFJDID0gb3B0aW9ucy5pc0J5UFJDOwoKCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LnJlcXVlc3QoImdldCIsICJodHRwczovL2FwaS5iaWxpYmlsaS5jb20veC9wbGF5ZXIvcGxheXVybD9hdmlkPSIrYWlkKyImY2lkPSIrY2lkKyImcW49MTEyIiwgbnVsbCkudGhlbigocmVzdWx0RGF0YTMpPT57CgoJCQkJCWlmKCFmaWxlTmFtZSl7CgkJCQkJCWZpbGVOYW1lID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArICIiOwoJCQkJCX0KCQkJCQlmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoL1tcIHxcfnxcYHxcPXxcfHxcXHxcO3xcOnxcInxcJ3xcLHxcLnxcPnxcL10vZywiIik7CgkJCQkJZmlsZU5hbWUgPSBmaWxlTmFtZS5zdWJzdHJpbmcoMCw1MCk7IC8v5Y+v6IO95pyJ5byC5bi477yM5qCH6aKY5pyA5aSaNTDlrZfnrKYKCQkJCQlmaWxlTmFtZSA9IGZpbGVOYW1lICsgIi5tcDQiOwoKCQkJCQlsZXQgZGF0YUpzb24zID0gSlNPTi5wYXJzZShyZXN1bHREYXRhMy5kYXRhKTsKCQkJCQlpZighIWRhdGFKc29uMyAmJiBkYXRhSnNvbjMuY29kZT09PTAgJiYgISFkYXRhSnNvbjMuZGF0YSl7CgkJCQkJCWxldCBkb3dubG9hZFVybCA9IGRhdGFKc29uMy5kYXRhLmR1cmxbMF0udXJsOwoJCQkJCQlpZihpc0J5UFJDKXsKCQkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LlJQQ0Rvd25sb2FkRmlsZShmaWxlTmFtZSwgZG93bmxvYWRVcmwsIHNhdmVQYXRoLCBSUENVUkwpLnRoZW4oKGRhdGEpPT57CgkJCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3Qud2ViVG9hc3QoeyJtZXNzYWdlIjpkYXRhLCAidGltZSI6MzAwMH0pOwoJCQkJCQkJfSkuY2F0Y2goKGRhdGEpPT57CgkJCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3Qud2ViVG9hc3QoeyJtZXNzYWdlIjpkYXRhLCAidGltZSI6MzAwMH0pOwoJCQkJCQkJfSk7CgkJCQkJCX1lbHNlewoJCQkJCQkJd2luZG93Lm9wZW4oZG93bmxvYWRVcmwpOwoJCQkJCQl9CgkJCQkJfWVsc2V7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LndlYlRvYXN0KHsibWVzc2FnZSI6IuiOt+WPluS4i+i9vemTvuaOpeWksei0pSIsICJiYWNrZ3JvdW5kIjoiI0ZGNEQ0MCJ9KTsKCQkJCQl9CgkJCQl9KS5jYXRjaCgoZXJyb3JEYXRhKT0+ewoJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LndlYlRvYXN0KHsibWVzc2FnZSI6IuiOt+WPluS4i+i9vemTvuaOpeWksei0pSIsICJiYWNrZ3JvdW5kIjoiI0ZGNEQ0MCJ9KTsKCQkJCX0pOwoJCQl9OwoJCQl0aGlzLmNyZWF0ZU1vZGFscyA9IGZ1bmN0aW9uKCl7CgkJCQl2YXIgY3NzID0gYAoJCQkJCS5tb2RhbC1tYXNrLWArdGhpcy5lbGVtZW50SWQrYHsKCQkJCQkJcG9zaXRpb246Zml4ZWQ7CgkJCQkJCXRvcDowOwoJCQkJCQlsZWZ0OjA7CgkJCQkJCXotaW5kZXg6OTk5OwoJCQkJCQl3aWR0aDoxMDAlOwoJCQkJCQloZWlnaHQ6MTAwJTsKCQkJCQkJZGlzcGxheTpub25lOwoJCQkJCQliYWNrZ3JvdW5kLWNvbG9yOiMwMDA7CgkJCQkJCW9wYWNpdHk6MC4zOwoJCQkJCQlvdmVyZmxvdzpoaWRkZW47CgkJCQkJfQoJCQkJCS5tb2RhbC1ib2R5LWArdGhpcy5lbGVtZW50SWQrYHsKCQkJCQkJcG9zaXRpb246Zml4ZWQ7CgkJCQkJCWJvcmRlci1yYWRpdXM6NXB4OwoJCQkJCQliYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGOwoJCQkJCQl0b3A6MTAlOwoJCQkJCQl3aWR0aDo2MDBweDsKCQkJCQkJbWF4LXdpZHRoOjkwJTsKCQkJCQkJbWF4LWhlaWdodDo4MCU7CgkJCQkJCXotaW5kZXg6MTAwMDsKCQkJCQkJbGVmdDogNTAlOwoJCQkJCQl0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CgkJCQkJCWRpc3BsYXk6bm9uZTsKCQkJCQkJcGFkZGluZzogMTBweDsKCQkJCQkJb3ZlcmZsb3cteTogYXV0bzsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgID4ucGFnZS1oZWFkZXJ7CgkJCQkJCWhlaWdodDozMHB4OwoJCQkJCQlsaW5lLWhlaWdodDozMHB4OwoJCQkJCQlwb3NpdGlvbjpyZWxhdGl2ZTsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgID4ucGFnZS1oZWFkZXIgPnNwYW57CgkJCQkJCWRpc3BsYXk6aW5saW5lLWJsb2NrOwoJCQkJCX0KCQkJCQkubW9kYWwtYm9keS1gK3RoaXMuZWxlbWVudElkK2AgPi5wYWdlLWhlYWRlciA+c3BhbjpudGgtY2hpbGQoMSkgewoJCQkJCQlmb250LXNpemU6MThweDsKCQkJCQkJZm9udC13ZWlnaHQ6Ym9sZDsKCQkJCQkJcG9zaXRpb246YWJzb2x1dGU7CgkJCQkJCWxlZnQ6MTBweDsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgID4ucGFnZS1oZWFkZXIgPnNwYW46bnRoLWNoaWxkKDIpIHsKCQkJCQkJZm9udC1zaXplOjI4cHg7CgkJCQkJCWZvbnQtd2VpZ2h0OmJvbGQ7CgkJCQkJCXBvc2l0aW9uOmFic29sdXRlOwoJCQkJCQlyaWdodDoxMHB4OwoJCQkJCQljdXJzb3I6cG9pbnRlcjsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgID4ucGFnZS1jb250YWluZXJ7CgkJCQkJCW1heC1oZWlnaHQ6IDUwMHB4OwoJCQkJCQlvdmVyZmxvdy15OiBhdXRvOwoJCQkJCX0KCQkJCQkubW9kYWwtYm9keS1gK3RoaXMuZWxlbWVudElkK2AgLnBhZ2Utd3JhcHsKCQkJCQkJZGlzcGxheTogZmxleDsKCQkJCQkJZmxleC13cmFwOiB3cmFwOwoJCQkJCQltYXJnaW4tdG9wOjVweDsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgIC5wYWdlLXdyYXAgPi5ib2FyZC1pdGVtewoJCQkJCQlkaXNwbGF5OiBibG9jazsKCQkJCQkJd2lkdGg6IGNhbGMoNTAlIC0gMTBweCk7CgkJCQkJCWJhY2tncm91bmQtY29sb3I6ICM2QTVGNjA7CgkJCQkJCW1hcmdpbjogNXB4OwoJCQkJCQliYWNrZ3JvdW5kLWNvbG9yOiNGQjcyOTk7CgkJCQkJCWNvbG9yOiNGRkZGRkY7CgkJCQkJCWN1cnNvcjogcG9pbnRlcjsKCQkJCQkJb3ZlcmZsb3c6aGlkZGVuOwoJCQkJCQl3aGl0ZS1zcGFjZTpub3dyYXA7CgkJCQkJCXRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CgkJCQkJfQoJCQkJCS5tb2RhbC1ib2R5LWArdGhpcy5lbGVtZW50SWQrYCAucGFnZS13cmFwID4uYm9hcmQtaXRlbSA+aW5wdXR7CgkJCQkJCXdpZHRoOiAxNHB4OwoJCQkJCQloZWlnaHQ6IDE0cHg7CgkJCQkJCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CgkJCQkJCW1hcmdpbi1yaWdodDo1cHg7CgkJCQkJfQoJCQkJCS5tb2RhbC1ib2R5LWArdGhpcy5lbGVtZW50SWQrYCAucGFnZS13cmFwID4uYm9hcmQtaXRlbSA+c3BhbnsKCQkJCQkJdmVydGljYWwtYWxpZ246IG1pZGRsZTsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgIC5tb2RhbC1idG4td3JhcHsKCQkJCQkJdGV4dC1hbGlnbjogY2VudGVyOwoJCQkJCQltYXJnaW4tdG9wOiAxMHB4OwoJCQkJCQljdXJzb3I6IHBvaW50ZXI7CgkJCQkJfQoJCQkJCS5tb2RhbC1ib2R5LWArdGhpcy5lbGVtZW50SWQrYCAuYXJpYTItc2V0dGluZ3sKCQkJCQkJYm9yZGVyOjFweCBkYXNoZWQgI0YxRjFGMTsKCQkJCQkJYm9yZGVyLXJhZGl1czo0cHg7CgkJCQkJCW1hcmdpbi10b3A6MTBweDsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgIC5hcmlhMi1zZXR0aW5nID4uc2V0dGluZy1pdGVtewoJCQkJCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJCQkJCWZvbnQtc2l6ZToxNHB4OwoJCQkJCQltYXJnaW46MTBweCAwcHg7CgkJCQkJfQoJCQkJCS5tb2RhbC1ib2R5LWArdGhpcy5lbGVtZW50SWQrYCAuYXJpYTItc2V0dGluZyA+LnNldHRpbmctaXRlbSAudG9waWMtbmFtZXsKCQkJCQkJZGlzcGxheTppbmxpbmUtYmxvY2s7CgkJCQkJCXdpZHRoOjgwcHg7CgkJCQkJCXRleHQtYWxpZ246bGVmdDsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgIC5hcmlhMi1zZXR0aW5nID4uc2V0dGluZy1pdGVtPiBpbnB1dHsKCQkJCQkJd2lkdGg6MzAwcHg7CgkJCQkJCXBhZGRpbmctbGVmdDoxMHB4OwoJCQkJCQlib3JkZXI6MXB4IHNvbGlkICM4ODg7CgkJCQkJCW91dGxpbmU6bm9uZTsKCQkJCQkJYm9yZGVyLXJhZGl1czozcHg7CgkJCQkJfQoJCQkJCS5tb2RhbC1ib2R5LWArdGhpcy5lbGVtZW50SWQrYCAubW9kYWwtYnRuLXdyYXAgPnNwYW57CgkJCQkJCWJvcmRlcjoxcHggc29saWQgI2NjYzsKCQkJCQkJZGlzcGxheTppbmxpbmUtYmxvY2s7CgkJCQkJCXBhZGRpbmc6M3B4IDVweDsKCQkJCQkJbWFyZ2luOjBweCA1cHg7CgkJCQkJCWJvcmRlci1yYWRpdXM6M3B4OwoJCQkJCX0KCQkJCQkubW9kYWwtYm9keS1gK3RoaXMuZWxlbWVudElkK2AgLnRpcC13cmFwewoJCQkJCQltYXJnaW4tdG9wOiAxMHB4OwoJCQkJCQlmb250LXNpemU6MTJweDsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgIC50aXAtd3JhcCA+LnRpdGxlewoJCQkJCQlmb250LXNpemU6MTZweDsKCQkJCQkJZm9udC13ZWlnaHQ6Ym9sZDsKCQkJCQl9CgkJCQkJLm1vZGFsLWJvZHktYCt0aGlzLmVsZW1lbnRJZCtgIC50aXAtd3JhcCA+LmNvbnRlbnQgPnVsID5saXsKCQkJCQkJbWFyZ2luLXRvcDo1cHg7CgkJCQkJfQoJCQkJYDsKCgkJCQl2YXIgaHRtbCA9IGAKCQkJCQk8ZGl2IGNsYXNzPSdtb2RhbC1tYXNrLWArdGhpcy5lbGVtZW50SWQrYCc+PC9kaXY+CgkJCQkJPGRpdiBjbGFzcz0nbW9kYWwtYm9keS1gK3RoaXMuZWxlbWVudElkK2AnIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiMxMzE0MTg7Y29sb3I6IzgwODI4NSI+CgkJCQkJCTxkaXYgY2xhc3M9InBhZ2UtaGVhZGVyIj4KCQkJCQkJCTxzcGFuPuinhumikeS4i+i9vSjlj6/mibnph48pPC9zcGFuPgoJCQkJCQkJPHNwYW4gY2xhc3M9ImNsb3NlIj7Dlzwvc3Bhbj4KCQkJCQkJPC9kaXY+CgkJCQkJCTxkaXYgY2xhc3M9InBhZ2UtY29udGFpbmVyIj4KCQkJCQkJCTxsYWJlbCBzdHlsZT0iY29sb3I6cmVkOyI+5rOo77ya5q2k5Yqf6IO95Lya6LCD55SoYmlsaWJpbGnnmoRBUEnvvIzohJrmnKzku4XnlKjkuo7kuKrkurrkuqTmtYHvvIzliIfli7/nlKjkuo7llYbkuJrnlKjpgJTvvIzlkKbliJnlkI7mnpzoh6rotJ/vvIznibnmraTnlLPmmI7vvIE8L2xhYmVsPgoJCQkJCQkJPGRpdiBjbGFzcz0icGFnZS13cmFwIj4KCQkJCQkJCTwvZGl2PgoJCQkJCQkJPGRpdiBjbGFzcz0iYXJpYTItc2V0dGluZyI+CgkJCQkJCQkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtIj4KCQkJCQkJCQkJPHNwYW4+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJkb3dubG9hZFdheSIgdmFsdWU9Ik1vdHJpeCI+TW90cml45LiL6L29PC9zcGFuPiZuYnNwOyZuYnNwOyZuYnNwOwoJCQkJCQkJCQk8c3Bhbj48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImRvd25sb2FkV2F5IiB2YWx1ZT0iQXJpYU5nR1VJIj5BcmlhTmdHVUnkuIvovb08L3NwYW4+CgkJCQkJCQkJPC9kaXY+CgkJCQkJCQkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtIj4KCQkJCQkJCQkJPGxhYmVsIGNsYXNzPSJ0b3BpYy1uYW1lIj7phY3nva5SUEM6PC9sYWJlbD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iUlBDVVJMIiB2YWx1ZT0iIiBwbGFjZWhvbGRlcj0i6K+35YeG56Gu6L6T5YWlUlBD5a+55bqU6L2v5Lu255qE5Zyw5Z2A77yM6buY6K6k77yaTW90cml4Ij4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQk8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0iPgoJCQkJCQkJCQk8bGFiZWwgY2xhc3M9InRvcGljLW5hbWUiPumFjee9rlRva2VuOjwvbGFiZWw+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9IlJQQ1Rva2VuIiB2YWx1ZT0iIiBwbGFjZWhvbGRlcj0i6buY6K6k5peg6ZyA5aGr5YaZIj4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCQk8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0iPgoJCQkJCQkJCQk8bGFiZWwgY2xhc3M9InRvcGljLW5hbWUiPuS/neWtmOi3r+W+hDo8L2xhYmVsPjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJzYXZlUGF0aCIgdmFsdWU9IiIgcGxhY2Vob2xkZXI9Iuivt+WHhuehrui+k+WFpeaWh+S7tuS/neWtmOi3r+W+hCI+CgkJCQkJCQkJCTxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOiM4ODg7Ij7mnIDlpb3oh6rlrprkuYnkuIvovb3lnLDlnYDvvIzpu5jorqTlnLDlnYDlj6/og73kuI3mu6HotrPpnIDopoE8L2Rpdj4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCTwvZGl2PgoJCQkJCQkJPGRpdiBjbGFzcz0ibW9kYWwtYnRuLXdyYXAiPgoJCQkJCQkJCTxzcGFuIG5hbWU9InNlbGVjdGFsbCI+5YWo6YCJPC9zcGFuPgoJCQkJCQkJCTxzcGFuIG5hbWU9InJlbW92ZVNlbGVjdCI+5Y+W5raI6YCJ5oupPC9zcGFuPgoJCQkJCQkJCTxzcGFuIG5hbWU9ImRvd25sb2FkQWxsIj7mibnph4/kuIvovb08L3NwYW4+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJCTxkaXYgY2xhc3M9InRpcC13cmFwIj4KCQkJCQkJCQk8ZGl2IGNsYXNzPSJ0aXRsZSI+5YWz5LqO5Y2VUOS4i+i9ve+8mjwvZGl2PgoJCQkJCQkJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPjxzcGFuPueCueWHu+W8ueahhuWNleS4qumAiembhu+8jOWNs+WPr+S4i+i9veWNlembhuinhumike+8gVBTOuWNlVDkuIvovb3vvIzmjqjojZDlpKflrrbkvb/nlKhCQkRvd27kuIvovb3vvIzmraTlt6Xlhbflip/og73lvojlvLrlpKfvvIzlhbfkvZPmn6XnnIvvvJo8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL25pbGFvZGEvQkJEb3duIj5odHRwczovL2dpdGh1Yi5jb20vbmlsYW9kYS9CQkRvd248L2E+PC9zcGFuPjwvZGl2PgoJCQkJCQkJPC9kaXY+CgkJCQkJCQk8ZGl2IGNsYXNzPSJ0aXAtd3JhcCI+CgkJCQkJCQkJPGRpdiBjbGFzcz0idGl0bGUiPuWFs+S6juaJuemHj+S4i+i9ve+8mjwvZGl2PgoJCQkJCQkJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPgoJCQkJCQkJCQk8dWw+CgkJCQkJCQkJCQk8bGk+CgkJCQkJCQkJCQkJPGI+MeOAgeaJuemHj+S4i+i9vemcgOimgeesrOS4ieaWuei9r+S7tueahOaUr+aMge+8jOiEmuacrOaOqOiNkOS9v+eUqO+8mk1vdHJpeDwvYj4KCQkJCQkJCQkJCQk8dWw+CgkJCQkJCQkJCQkJCTxsaT5Nb3RyaXjkuIvovb3lnLDlnYDvvJo8YSBocmVmPSJodHRwczovL21vdHJpeC5hcHAvemgtQ04vIiB0YXJnZXQ9Il9ibGFuayI+aHR0cHM6Ly9tb3RyaXguYXBwL3poLUNOLzwvYT48L2xpPgoJCQkJCQkJCQkJCQk8bGk+QXJpYU5nR1VJ5LiL6L295Zyw5Z2A77yaPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL1htYWRlci9hcmlhLW5nLWd1aSIgdGFyZ2V0PSJfYmxhbmsiPmh0dHBzOi8vZ2l0aHViLmNvbS9YbWFkZXIvYXJpYS1uZy1ndWk8L2E+PC9saT4KCQkJCQkJCQkJCQk8L3VsPgoJCQkJCQkJCQkJPC9saT4KCQkJCQkJCQkJCTxsaT4KCQkJCQkJCQkJCQk8Yj4y44CB5Zyo5om56YeP5LiL6L295YmN6ZyA6KaB5o+Q5YmN5omT5byA6L2v5Lu277yM5pys5pWZ56iL5LulTW90cml45Li65YeGPC9iPgoJCQkJCQkJCQkJCTx1bD4KCQkJCQkJCQkJCQkJPGxpPigxKeOAgeWmguaenOWFqOmDqOaMieeFp+m7mOiupOmFjee9ru+8jOWPqumcgOimgeaJk+W8gOi9r+S7tuWNs+WPrzwvbGk+CgkJCQkJCQkJCQkJCTxsaT4oMinjgIHlpoLmnpzmg7Poh6rlrprkuYlSUEPlnLDlnYDlkozmlofku7bkv53lrZjot6/lvoTvvIzlj6/mm7TmlLnkuIrpnaLovpPlhaXmoYbnmoTlhoXlrrnvvIjmraTmlbDmja7pnZ7luLjph43opoHvvIzor7flh4bnoa7loavlhpnvvIk8L2xpPgoJCQkJCQkJCQkJCQk8bGk+CgkJCQkJCQkJCQkJCSgzKeOAgU1vdHJpeOi/kOihjOWbvueJhwoJCQkJCQkJCQkJCQk8aW1nIHNyYz0iaHR0cHM6Ly9waWMucm1iLmJkc3RhdGljLmNvbS9iamgvODkxMjU4MmMwNDE2MTE5NDA1ZWMzN2VhMjdkMTIzNzYuanBlZyIgd2lkdGg9IjEwMCUiIC8+CgkJCQkJCQkJCQkJCTwvbGk+CgkJCQkJCQkJCQkJPC91aT4KCQkJCQkJCQkJCTwvbGk+CgkJCQkJCQkJCQk8bGk+CgkJCQkJCQkJCQkJPGI+M+OAgem7mOiupFJQQ+m7mOiupOWcsOWdgDwvYj4KCQkJCQkJCQkJCQk8dWw+CgkJCQkJCQkJCQkJCTxsaT4oMSnjgIFNb3RyaXggUlBD6buY6K6k5Zyw5Z2A77yad3M6Ly9sb2NhbGhvc3Q6MTY4MDAvanNvbnJwYzwvbGk+CgkJCQkJCQkJCQkJCTxsaT4oMinjgIFBcmlhMiBSUEPpu5jorqTlnLDlnYDvvJp3czovL2xvY2FsaG9zdDo2ODAwL2pzb25ycGM8L2xpPgoJCQkJCQkJCQkJCQk8bGk+KDMp54K55Ye74oCc5om56YeP5LiL6L295Lya6Ieq5Yqo5L+d5a2Y5b2T5YmN5LiL6L296K6+572u4oCdPC9saT4KCQkJCQkJCQkJCQk8L3VsPgoJCQkJCQkJCQkJPC9saT4KCQkJCQkJCQkJCTxsaT4KCQkJCQkJCQkJCQk8Yj4044CB5aaC5L2/55SoQXJpYU5nR1VJ77yM5L2/55So5pa55byP57G75Ly877yM5aSn5a625Y+v5Lul6Ieq6KGM56CU56m2PC9iPgoJCQkJCQkJCQkJPC9saT4KCQkJCQkJCQkJPC91bD4KCQkJCQkJCQk8L2Rpdj4KCQkJCQkJCTwvZGl2PgoJCQkJCQkJPGRpdiBjbGFzcz0idGlwLXdyYXAiPgoJCQkJCQkJCTxkaXYgY2xhc3M9InRpdGxlIj7lv4XopoHor7TmmI7vvJo8L2Rpdj4KCQkJCQkJCQk8ZGl2IGNsYXNzPSJjb250ZW50Ij4KCQkJCQkJCQkJ55Sz5piO77ya5pys5Yqf6IO95LuF6IO95L2c5Li65a2m5Lmg5Lqk5rWB5L2/55So77yM5LiU5LiN5Y+v55So5LqO5YW25a6D55So6YCU77yM5ZCm5YiZ5ZCO5p6c6Ieq6LSf44CC6K+35aSn5a626YeN6KeG54mI5p2D77yM5bCK6YeN5Yib5L2c6ICF77yM5YiH5Yu/5pCs6L+Q5oqE6KKt44CC6K+35aSn5a625aSa55SoW+S4gOmUruS4iei/nl3kuLrliJvkvZzogIXmipXluIF+77yM5bCP56C056uZ54mb5o6w77yBCgkJCQkJCQkJPC9kaXY+CgkJCQkJCQk8L2Rpdj4KCQkJCQkJPC9kaXY+CgkJCQkJPC9kaXY+CgkJCQlgOwoJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01hZGRTdHlsZShjc3MpOwoJCQkJJCgiYm9keSIpLmFwcGVuZChodG1sKTsKCQkJfTsKCQkJdGhpcy5oaWRlTW9kYWxzID0gZnVuY3Rpb24oKXsKCQkJCSQoIi5tb2RhbC1ib2R5LSIrdGhpcy5lbGVtZW50SWQrIiIpLmNzcygnZGlzcGxheScsJ25vbmUnKTsKCQkJCSQoIi5tb2RhbC1tYXNrLSIrdGhpcy5lbGVtZW50SWQrIiIpLmNzcygnZGlzcGxheScsJ25vbmUnKTsKCQkJfTsKCQkJdGhpcy5zaG93TW9kYWxzID0gZnVuY3Rpb24ocGFnZUh0bWwpewoJCQkJY29uc3Qgc2VsZiA9IHRoaXM7CgkJCQljb25zdCBkb3dubG9hZFNldHRpbmdLZXkgPSBzZWxmLmRvd25sb2FkU2V0dGluZ0tleTsKCQkJCSQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiIpLmNzcygnZGlzcGxheScsJ2Jsb2NrJyk7CgkJCQkkKCIubW9kYWwtbWFzay0iK3NlbGYuZWxlbWVudElkKyIiKS5jc3MoJ2Rpc3BsYXknLCdibG9jaycpOwoJCQkJJCgiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiIC5wYWdlLXdyYXAiKS5odG1sKHBhZ2VIdG1sKTsKCgkJCQkvL+WIneWni+WMluiuvue9rueahOaVsOaNrgoJCQkJdmFyIHNhdmVQYXRoID0gIkM6L1VzZXJzL3d5c3d5L0Rvd25sb2FkcyI7CgkJCQlpZigibWFjT1MiPT09Y29tbW9uRnVuY3Rpb25PYmplY3QuZ2V0U3lzdGVtT1MoKSl7CgkJCQkJc2F2ZVBhdGggPSAiIgoJCQkJfQoJCQkJY29uc3QgZG93bmxvYWRTZXR0aW5nID0gY29tbW9uRnVuY3Rpb25PYmplY3QuR01nZXRWYWx1ZSh0aGlzLmRvd25sb2FkU2V0dGluZ0tleSwKCQkJCQl7IlJQQ1VSTCI6IndzOi8vbG9jYWxob3N0OjE2ODAwL2pzb25ycGMiLAoJCQkJCSJzYXZlUGF0aCI6c2F2ZVBhdGgsCgkJCQkJIlJQQ1Rva2VuIjonJywgImRvd25sb2FkV2F5IjoiTW90cml4In0pOwoJCQkJY29uc3QgaXNNb3RyaXggPSBkb3dubG9hZFNldHRpbmcuZG93bmxvYWRXYXk9PSJNb3RyaXgiOwoJCQkJJCgiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiIGlucHV0W25hbWU9J1JQQ1VSTCddIikudmFsKGRvd25sb2FkU2V0dGluZy5SUENVUkwpOwoJCQkJJCgiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiIGlucHV0W25hbWU9J3NhdmVQYXRoJ10iKS52YWwoZG93bmxvYWRTZXR0aW5nLnNhdmVQYXRoKTsKCQkJCSQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiBpbnB1dFtuYW1lPSdSUENUb2tlbiddIikudmFsKGRvd25sb2FkU2V0dGluZy5SUENUb2tlbik7CgkJCQkkKCIubW9kYWwtYm9keS0iK3NlbGYuZWxlbWVudElkKyIgaW5wdXRbbmFtZT0nZG93bmxvYWRXYXknXSIpLnJlbW92ZUF0dHIoImNoZWNrZWQiKTsKCQkJCWlmKGlzTW90cml4KXsKCQkJCQkkKCIubW9kYWwtYm9keS0iK3NlbGYuZWxlbWVudElkKyIgaW5wdXQ6cmFkaW9bdmFsdWU9J01vdHJpeCddIikuYXR0cignY2hlY2tlZCcsJ3RydWUnKTsKCQkJCX1lbHNlewoJCQkJCSQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiBpbnB1dDpyYWRpb1t2YWx1ZT0nQXJpYU5nR1VJJ10iKS5hdHRyKCdjaGVja2VkJywndHJ1ZScpOwoJCQkJfQoKCQkJCSQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiAucGFnZS13cmFwID4uYm9hcmQtaXRlbSA+c3BhbiIpLm9mZigiY2xpY2siKS5vbigiY2xpY2siLCBmdW5jdGlvbigpewoJCQkJCSQodGhpcykuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiwiI2NjYyIpOwoJCQkJCWxldCBkb3dubG9hZE9wdGlvbnM9ewoJCQkJCQkiYWlkIjokKHRoaXMpLmRhdGEoImFpZCIpLAoJCQkJCQkiY2lkIjokKHRoaXMpLmRhdGEoImNpZCIpLAoJCQkJCQkiaXNCeVBSQyI6ZmFsc2UKCQkJCQl9CgkJCQkJc2VsZi5zdGFydERvd25sb2FkRmlsZShkb3dubG9hZE9wdGlvbnMpOwoJCQkJfSk7CgkJCQkkKCIubW9kYWwtYm9keS0iK3NlbGYuZWxlbWVudElkKyIgLnBhZ2UtaGVhZGVyID5zcGFuLmNsb3NlIikub2ZmKCJjbGljayIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCl7CgkJCQkJc2VsZi5oaWRlTW9kYWxzKCk7CgkJCQl9KTsKCQkJCSQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiAubW9kYWwtYnRuLXdyYXAgPnNwYW5bbmFtZT0nc2VsZWN0YWxsJ10iKS5vZmYoImNsaWNrIikub24oImNsaWNrIiwgZnVuY3Rpb24oKXsKCQkJCQkkKCIubW9kYWwtYm9keS0iK3NlbGYuZWxlbWVudElkKyIgLnBhZ2Utd3JhcCIpLmZpbmQoImlucHV0W3R5cGU9J2NoZWNrYm94J10iKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJCSQodGhpcykucHJvcCgnY2hlY2tlZCcsIHRydWUpOwoJCQkJCX0pOwoJCQkJfSk7CgkJCQkkKCIubW9kYWwtYm9keS0iK3NlbGYuZWxlbWVudElkKyIgaW5wdXRbbmFtZT0nZG93bmxvYWRXYXknXSIpLm9mZigiY2hhbmdlIikub24oImNoYW5nZSIsIGZ1bmN0aW9uKCl7CgkJCQkJaWYoJCh0aGlzKS52YWwoKT09Ik1vdHJpeCIpewoJCQkJCQkkKCIubW9kYWwtYm9keS0iK3NlbGYuZWxlbWVudElkKyIgaW5wdXRbbmFtZT0nUlBDVVJMJ10iKS52YWwoIndzOi8vbG9jYWxob3N0OjE2ODAwL2pzb25ycGMiKTsKCQkJCQl9ZWxzZXsKCQkJCQkJJCgiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiIGlucHV0W25hbWU9J1JQQ1VSTCddIikudmFsKCJ3czovL2xvY2FsaG9zdDo2ODAwL2pzb25ycGMiKTsKCQkJCQl9CgkJCQl9KTsKCQkJCSQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiAubW9kYWwtYnRuLXdyYXAgPnNwYW5bbmFtZT0ncmVtb3ZlU2VsZWN0J10iKS5vZmYoImNsaWNrIikub24oImNsaWNrIiwgZnVuY3Rpb24oKXsKCQkJCQkkKCIubW9kYWwtYm9keS0iK3NlbGYuZWxlbWVudElkKyIgLnBhZ2Utd3JhcCIpLmZpbmQoImlucHV0W3R5cGU9J2NoZWNrYm94J10iKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQkJCSQodGhpcykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTsKCQkJCQl9KTsKCQkJCX0pOwoJCQkJJCgiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiIC5tb2RhbC1idG4td3JhcCA+c3BhbltuYW1lPSdkb3dubG9hZEFsbCddIikub2ZmKCJjbGljayIpLm9uKCJjbGljayIsIGZ1bmN0aW9uKCl7CgkJCQkJbGV0IFJQQ1VSTCA9ICQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiBpbnB1dFtuYW1lPSdSUENVUkwnXSIpLnZhbCgpOwoJCQkJCWxldCBzYXZlUGF0aCA9ICQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiBpbnB1dFtuYW1lPSdzYXZlUGF0aCddIikudmFsKCk7CgkJCQkJbGV0IFJQQ1Rva2VuID0gJCgiLm1vZGFsLWJvZHktIitzZWxmLmVsZW1lbnRJZCsiIGlucHV0W25hbWU9J1JQQ1Rva2VuJ10iKS52YWwoKTsKCQkJCQlsZXQgZG93bmxvYWRXYXkgPSAkKCIubW9kYWwtYm9keS0iK3NlbGYuZWxlbWVudElkKyIgaW5wdXRbbmFtZT0nZG93bmxvYWRXYXknXTpjaGVja2VkIikudmFsKCk7CgkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZShkb3dubG9hZFNldHRpbmdLZXkseyJSUENVUkwiOlJQQ1VSTCwgInNhdmVQYXRoIjpzYXZlUGF0aCwKCQkJCQkJIlJQQ1Rva2VuIjpSUENUb2tlbiwgImRvd25sb2FkV2F5Ijpkb3dubG9hZFdheX0pOwoKCQkJCQlsZXQgaW5wdXRFbGVtZW50cyA9ICQoIi5tb2RhbC1ib2R5LSIrc2VsZi5lbGVtZW50SWQrIiAucGFnZS13cmFwIGlucHV0W3R5cGU9J2NoZWNrYm94J106Y2hlY2tlZCIpOwoJCQkJCWlmKGlucHV0RWxlbWVudHMubGVuZ3RoID09IDApewoJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC53ZWJUb2FzdCh7Im1lc3NhZ2UiOiLoh7PlsJHpnIDopoHpgInkuK0xUCIsICJiYWNrZ3JvdW5kIjoiI0ZGNEQ0MCJ9KTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCgkJCQkJaWYoIXNhdmVQYXRoKXsKCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3Qud2ViVG9hc3QoeyJtZXNzYWdlIjoi5L+d5a2Y6Lev5b6E5LiN6IO95Li656m6IiwgImJhY2tncm91bmQiOiIjRkY0RDQwIn0pOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCWlmKCFSUENVUkwpewoJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC53ZWJUb2FzdCh7Im1lc3NhZ2UiOiJQUkPlnLDlnYDkuI3og73kuLrnqboiLCAiYmFja2dyb3VuZCI6IiNGRjRENDAifSk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQkJUlBDVG9rZW4gPSAhUlBDVG9rZW4gPyAiIiA6IFJQQ1Rva2VuOwoJCQkJCWxldCBkb3dubG9hZE9wdGlvbnMgPSB7CgkJCQkJCSJhaWQiOiIiLAoJCQkJCQkiY2lkIjoiIiwKCQkJCQkJImlzQnlQUkMiOnRydWUsCgkJCQkJCSJmaWxlTmFtZSI6IiIsCgkJCQkJCSJzYXZlUGF0aCI6c2F2ZVBhdGgsCgkJCQkJCSJSUENVUkwiOlJQQ1VSTCwKCQkJCQkJIlJQQ1Rva2VuIjpSUENUb2tlbgoJCQkJCX0KCQkJCQlpbnB1dEVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKXsKCQkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQkJbGV0IGFpZD0kKHRoaXMpLmRhdGEoImFpZCIpLCBjaWQgPSAkKHRoaXMpLmRhdGEoImNpZCIpLCBmaWxlTmFtZSA9ICQodGhpcykuYXR0cigidGl0bGUiKTsKCQkJCQkJCWRvd25sb2FkT3B0aW9ucy5haWQgPSBhaWQ7CgkJCQkJCQlkb3dubG9hZE9wdGlvbnMuY2lkID0gY2lkOwoJCQkJCQkJZG93bmxvYWRPcHRpb25zLmZpbGVOYW1lID0gZmlsZU5hbWU7CgkJCQkJCQlzZWxmLnN0YXJ0RG93bmxvYWRGaWxlKGRvd25sb2FkT3B0aW9ucyk7CgkJCQkJCX0sIDEwMDApOwoJCQkJCX0pCgkJCQl9KTsKCQkJfTsKCQkJdGhpcy5jcmVhdGVFbGVtZW50SHRtbCA9IGFzeW5jIGZ1bmN0aW9uKCl7CgkJCQkvL+mmluWFiOWIpOaWremhtemdouaYr+WQpuWKoOi9veWujOWFqAoJCQkJbGV0IHZpZGVvQ29udGFpbmVyID0gYXdhaXQgY29tbW9uRnVuY3Rpb25PYmplY3QuZ2V0RWxlbWVudE9iamVjdCgiLnRvdGFsLXJlcGx5Iik7CgkJCQlpZighdmlkZW9Db250YWluZXIpewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJCSQoIiNiaWxpYmlsaV9leHRpXzk3ODdmamZoMTJqIikucmVtb3ZlKCk7CgoJCQkJY29uc3QgcmFuZG9tTnVtYmVyID0gdGhpcy5lbGVtZW50SWQsIHNlbGYgPSB0aGlzOwoJCQkJbGV0IGNzc1RleHQgPSBgCgkJCQkJI2JpbGliaWxpX2V4dGlfOTc4N2ZqZmgxMmp7CgkJCQkJCXBhZGRpbmc6MTBweDsKCQkJCQl9CgkJCQkJI2JpbGliaWxpX2V4dGlfOTc4N2ZqZmgxMmogPi5zZWxmX3NfYnRuewoJCQkJCQliYWNrZ3JvdW5kLWNvbG9yOiNGQjcyOTk7CgkJCQkJCWNvbG9yOiNGRkY7CgkJCQkJCWZvbnQtc2l6ZToxMHB4OwoJCQkJCQlkaXNwbGF5OmlubGluZS1ibG9jazsKCQkJCQkJbWFyZ2luLXJpZ2h0OjE1cHg7CgkJCQkJCXBhZGRpbmc6MnB4IDRweDsKCQkJCQkJYm9yZGVyLXJhZGl1czozcHg7CgkJCQkJCWN1cnNvcjpwb2ludGVyOwoJCQkJCX0KCQkJCWA7CgkJCQlsZXQgaHRtbFRleHQ9YAoJCQkJCTxkaXYgaWQ9ImJpbGliaWxpX2V4dGlfOTc4N2ZqZmgxMmoiPgoJCQkJCQk8c3BhbiBjbGFzcz0ic2VsZl9zX2J0biIgaWQ9ImRvd25sb2FkX3NfYCtyYW5kb21OdW1iZXIrYCI+5LiL6L296KeG6aKRL+Wwgemdou+8iOacgOmrmOa4he+8iTwvc3Bhbj4KCQkJCQkJPHNwYW4gY2xhc3M9InNlbGZfc19idG4iIGlkPSJmb2N1c19zX2ArcmFuZG9tTnVtYmVyK2AiPuS4gOmUruS4iei/njwvc3Bhbj4KCQkJCQk8L2Rpdj4KCQkJCWA7CgoJCQkJLy/mt7vliqDkuIvovb3nrYnmk43kvZzmjInpkq4KCQkJCWxldCAkdmlld2JveFJlcG9ydCA9ICQoIiNhcmNfdG9vbGJhcl9yZXBvcnQiKTsKCQkJCWlmKCQoIiNmb2N1c19zXyIrcmFuZG9tTnVtYmVyKS5sZW5ndGg9PTAgJiYgJHZpZXdib3hSZXBvcnQubGVuZ3RoIT0wKXsKCQkJCQkkKCJib2R5IikucHJlcGVuZCgiPHN0eWxlPiIrY3NzVGV4dCsiPC9zdHlsZT4iKTsKCQkJCQkkdmlld2JveFJlcG9ydC5iZWZvcmUoaHRtbFRleHQpOwoJCQkJfQoKCQkJCS8v5Yib5bu65by55qGGCgkJCQl0aGlzLmNyZWF0ZU1vZGFscygpOwoKCQkJCS8v5LiL6L295pON5L2c5Ye95pWwCgkJCQkkKCJib2R5Iikub24oImNsaWNrIiwgIiNkb3dubG9hZF9zXyIrcmFuZG9tTnVtYmVyLCBmdW5jdGlvbigpewoJCQkJCWNvbnN0IGJ0bkVsZW1lbnQgPSAkKHRoaXMpOwoJCQkJCWJ0bkVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCAiZGlzYWJsZWQiKTsKCQkJCQlidG5FbGVtZW50LnRleHQoIuS4i+i9veinhumikS/lsIHpnaLvvIjlh4blpIfkuK3vvIkiKTsKCQkJCQkvL+W8gOWni+WHhuWkh+S4i+i9veaVsOaNrgoJCQkJCXNlbGYuZ2V0RG93bmxvYWRQYWdlcygpLnRoZW4oKHJlc3VsZSk9PnsKCQkJCQkJaWYocmVzdWxlLnN0YXR1cz09PSJzdWNjZXNzIil7CgkJCQkJCQljb25zdCB7aXRlbXMsIHBpYywgdGl0bGV9ID0gcmVzdWxlLmRvd25sb2FkRGF0YTsKCQkJCQkJCWxldCBpdGVtSHRtbCA9ICIiOwoJCQkJCQkJaXRlbUh0bWwgKz0gIjxkaXYgc3R5bGU9J3dpZHRoOjEwMCU7Jz48YSBocmVmPSciK3BpYysiJyB0YXJnZXQ9J19ibGFuayc+5qCH6aKY77yaIit0aXRsZSsi77yI54K55oiR6Lez6L2s5bCB6Z2i77yJPC9hPjwvZGl2PiI7CgkJCQkJCQlmb3IodmFyIGk9MDsgaTxpdGVtcy5sZW5ndGg7IGkrKyl7CgkJCQkJCQkJdmFyIGN1cnJlbnRUaXRsZSA9ICLjgJBQIitpdGVtc1tpXS5wYWdlKyLjgJEiK2l0ZW1zW2ldLnRpdGxlKyIiOwoJCQkJCQkJCWl0ZW1IdG1sICs9ICI8ZGl2IGNsYXNzPSdib2FyZC1pdGVtJz4iOwoJCQkJCQkJCWl0ZW1IdG1sICs9ICI8aW5wdXQgZGF0YS1haWQ9JyIraXRlbXNbaV0uYWlkKyInIGRhdGEtY2lkPSciK2l0ZW1zW2ldLmNpZCsiJyB0aXRsZT0nIitjdXJyZW50VGl0bGUrIicgdHlwZT0nY2hlY2tib3gnPiIKCQkJCQkJCQlpdGVtSHRtbCArPSAiPHNwYW4gZGF0YS1haWQ9JyIraXRlbXNbaV0uYWlkKyInIGRhdGEtY2lkPSciK2l0ZW1zW2ldLmNpZCsiJyB0aXRsZT0nIitjdXJyZW50VGl0bGUrIic+IitjdXJyZW50VGl0bGUrIjwvc3Bhbj4iOwoJCQkJCQkJCWl0ZW1IdG1sICs9ICI8L2Rpdj4iOwoJCQkJCQkJfQoJCQkJCQkJc2VsZi5zaG93TW9kYWxzKGl0ZW1IdG1sKTsKCQkJCQkJCXNlbGYuZG93bmxvYWRSZXN1dFN1Y2Nlc3MoYnRuRWxlbWVudCk7CgkJCQkJCX1lbHNlewoJCQkJCQkJc2VsZi5kb3dubG9hZFJlc3V0RXJyb3IoYnRuRWxlbWVudCk7CgkJCQkJCX0KCQkJCQl9KS5jYXRjaCgoZXJyb3IpPT57CgkJCQkJCXNlbGYuZG93bmxvYWRSZXN1dEVycm9yKGJ0bkVsZW1lbnQpOwoJCQkJCX0pOwoJCQkJfSk7CgkJCQkkKCJib2R5Iikub24oImNsaWNrIiwgIiNmb2N1c19zXyIrcmFuZG9tTnVtYmVyLCBmdW5jdGlvbigpewoJCQkJCSQoIiNhcmNfdG9vbGJhcl9yZXBvcnQgLnZpZGVvLWxpa2UiKS5jbGljaygpOyAvLyDngrnotZ4KCQkJCQkkKCIjYXJjX3Rvb2xiYXJfcmVwb3J0IC52aWRlby1jb2luIikuY2xpY2soKTsgLy8g5oqV5biBCgkJCQkJLy8gJCgiI2FyY190b29sYmFyX3JlcG9ydCAudmlkZW8tZmF2IikuY2xpY2soKTsgLy8g5pS26JePCgkJCQl9KTsKCQkJfQoJCQl0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKXsKCQkJCWxldCBsb2NhdGlvbkhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdCwgbG9jYXRpb25QYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKCQkJCWlmKGxvY2F0aW9uSG9zdD09PSJ3d3cuYmlsaWJpbGkuY29tIiAmJiAobG9jYXRpb25QYXRobmFtZS5pbmRleE9mKCIvdmlkZW8iKSE9LTEgfHwgbG9jYXRpb25QYXRobmFtZS5pbmRleE9mKCIvd2F0Y2hsYXRlciIpIT0tMSkpewoJCQkJCXRoaXMuY3JlYXRlRWxlbWVudEh0bWwoKTsKCQkJCX0KCQkJfQoJCX0KCQl0cnl7CgkJCShuZXcgYmFzZUZ1bmN0aW9uT2JqZWN0KCkpLnN0YXJ0KCk7CgkJfWNhdGNoKGUpewoJCQljb25zb2xlLmxvZygiYmFzZUZ1bmN0aW9uT2JqZWN0IG5ldyBlcnJvciIsIGUpOwoJCX0KCX07CgkvKioKCSAqIOa1j+iniOWOhuWPsuiusOW9leaPkOmGkgoJICovCgl0aGlzLnJlY29yZFZpZXdGdW5jdGlvbiA9IGZ1bmN0aW9uKCl7CgkJZnVuY3Rpb24gcmVjb3JkVmlld09iamVjdCgpewoJCQl0aGlzLmxvY2FsQ2FjaGVOYW1lID0gImJpbGliaWxpX3ZpZGVvX3JlY29yZCI7CgkJCXRoaXMucmVjb3JkT25lVmlkZW8gPSBmdW5jdGlvbigpewoJCQkJbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+ewoJCQkJCWxldCBidiA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldEJpbGliaWxpQlYoKTsKCQkJCQlsZXQgY2FjaGVUZXh0ID0gY29tbW9uRnVuY3Rpb25PYmplY3QuR01nZXRWYWx1ZSh0aGlzLmxvY2FsQ2FjaGVOYW1lKTsKCQkJCQljYWNoZVRleHQgPSAhY2FjaGVUZXh0ID8gIiIgOiBjYWNoZVRleHQKCQkJCQlsZXQgbWF4TGVuZ3RoID0gMTIqNTAwOwoJCQkJCWxldCBjdXJyZW50TGVuZ3RoID0gY2FjaGVUZXh0Lmxlbmd0aDsKCQkJCQlpZihjdXJyZW50TGVuZ3RoID4gbWF4TGVuZ3RoKXsKCQkJCQkJY2FjaGVUZXh0ID0gY2FjaGVUZXh0LnN1YnN0cmluZygxMioxMDAsIGN1cnJlbnRMZW5ndGgpOwoJCQkJCX0KCgkJCQkJaWYoY2FjaGVUZXh0LmluZGV4T2YoYnYpPT0tMSl7CgkJCQkJCWNhY2hlVGV4dCArPSBidjsKCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZSh0aGlzLmxvY2FsQ2FjaGVOYW1lLCBjYWNoZVRleHQpOwoJCQkJCX0KCQkJCQlyZXNvbHZlKHsicmVzdWx0Ijoic3VjY2VzcyJ9KTsKCQkJCX0pOwoJCQl9OwoJCQl0aGlzLnNlYXJjaFBhZ2VSZW1pbmRIdG1sID0gZnVuY3Rpb24oJGVsZSwgdG9wPTgsIHJpZ2h0PTgpewoJCQkJaWYoJGVsZS5maW5kKCJkaXZbbmFtZT0nbWFya2xvb2tlZCddIikubGVuZ3RoPT0wKXsKCQkJCQkkZWxlLmNzcygicG9zaXRpb24iLCJyZWxhdGl2ZSIpOwoJCQkJCSRlbGUuYXBwZW5kKCI8ZGl2IG5hbWU9J21hcmtsb29rZWQnIHN0eWxlPSd6LWluZGV4OiAxMDA7cG9zaXRpb246YWJzb2x1dGU7IHRvcDoiK3RvcCsicHg7IHJpZ2h0OiIrcmlnaHQrInB4OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1MSwxMjMsMTU5LDEpOyBib3JkZXItcmFkaXVzOjNweDsgZm9udC1zaXplOjEwcHg7IGNvbG9yOiNGRkY7cGFkZGluZzowcHggMnB4Oyc+5bey55yLPC9kaXY+Iik7CgkJCQl9CgkJCX07CgkJCXRoaXMuc2VhcmNoUGFnZVJlbWluZCA9IGZ1bmN0aW9uKCl7CgkJCQlsZXQgJHRoYXQgPSB0aGlzOwoJCQkJdmFyIGVsZW1lbnRBcnJheSA9IFsKCQkJCQl7Im5vZGUiOiIuYmlsaS12aWRlby1jYXJkIiwgInRvcCI6OCwgInJpZ2h0IjoxMn0sICAvL+WFvOWuuSBNQUMgTTHmkJzntKLnu5PmnpwKCQkJCQl7Im5vZGUiOiIjcGFnZS1pbmRleCAuc21hbGwtaXRlbSIsICJ0b3AiOjEyLCAicmlnaHQiOjEyfSwgIC8v55So5oi35oqV56i/CgkJCQkJeyJub2RlIjoiI3N1Ym1pdC12aWRlby1saXN0IC5zbWFsbC1pdGVtIiwgInRvcCI6MTIsICJyaWdodCI6MTJ9LCAvL+eUqOaIt+S4u+mhtQoJCQkJCXsibm9kZSI6IiNwYWdlLXNlcmllcy1kZXRhaWwgLnNtYWxsLWl0ZW0uZmFrZURhbm11LWl0ZW0iLCAidG9wIjoxMiwgInJpZ2h0IjoxMn0sIC8v55So5oi35Li76aG15oqV56i/CgkJCQldOwoJCQkJc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkJCQlsZXQgY2FjaGVUZXh0ID0gY29tbW9uRnVuY3Rpb25PYmplY3QuR01nZXRWYWx1ZSgkdGhhdC5sb2NhbENhY2hlTmFtZSk7CgkJCQkJY2FjaGVUZXh0ID0gIWNhY2hlVGV4dCA/ICIiIDogY2FjaGVUZXh0OwoJCQkJCWZvcih2YXIgaT0wOyBpPGVsZW1lbnRBcnJheS5sZW5ndGg7IGkrKyl7CgkJCQkJCXZhciBlbGVtZW50b2JqID0gZWxlbWVudEFycmF5W2ldOwoJCQkJCQkkKGVsZW1lbnRvYmoubm9kZSkuZWFjaChmdW5jdGlvbigpewoJCQkJCQkJaWYoJCh0aGlzKS5hdHRyKCJkZWFseGxsIikhPT0idHJ1ZSIpewoJCQkJCQkJCXZhciB2aWRlb3VybCA9ICQodGhpcykuZmluZCgiYVtocmVmXj0nLy93d3cuYmlsaWJpbGkuY29tL3ZpZGVvJ10iKS5hdHRyKCJocmVmIik7CgkJCQkJCQkJaWYoISF2aWRlb3VybCl7CgkJCQkJCQkJCXZhciBidnMgPSB2aWRlb3VybC5tYXRjaCgvKFwvQlYoLio/KVwvKS9nKQoJCQkJCQkJCQlpZihidnMubGVuZ3RoPT0xKXsKCQkJCQkJCQkJCXZhciBidiA9IGJ2c1swXS5yZXBsYWNlKC9cLy9nLCIiKTsKCQkJCQkJCQkJCWlmKGNhY2hlVGV4dC5pbmRleE9mKGJ2KSAhPSAtMSl7CgkJCQkJCQkJCQkJJHRoYXQuc2VhcmNoUGFnZVJlbWluZEh0bWwoJCh0aGlzKSwgZWxlbWVudG9iai50b3AsIGVsZW1lbnRvYmoucmlnaHQpOwoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJJCh0aGlzKS51bmJpbmQoImNsaWNrIikuYmluZCgiY2xpY2siLCAoKT0+eyAgLy/lvqrnjq/mk43kvZzvvIzljZXni6znu5HlrpoKCQkJCQkJCQkJCQkkdGhhdC5zZWFyY2hQYWdlUmVtaW5kSHRtbCgkKHRoaXMpLCBlbGVtZW50b2JqLnRvcCwgZWxlbWVudG9iai5yaWdodCk7CgkJCQkJCQkJCQl9KQoJCQkJCQkJCQl9CgkJCQkJCQkJCSQodGhpcykuYXR0cigiZGVhbHhsbCIsInRydWUiKTsKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0pOwoJCQkJCX0KCQkJCX0sIDUwMCk7CgkJCX0KCQkJdGhpcy5zdGFydD1mdW5jdGlvbigpewoJCQkJbGV0ICR0aGF0ID0gdGhpczsKCQkJCWlmKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCIvdmlkZW8iKSE9LTEgJiYgd2luZG93LmxvY2F0aW9uLmhvc3Q9PT0id3d3LmJpbGliaWxpLmNvbSIpewoJCQkJCWxldCBjdXJyZW50SHJlZiA9ICIiOwoJCQkJCXNldEludGVydmFsKCgpPT57IC8v6ZyA6KaB5b6q546v5a2Y5YKoCgkJCQkJCWlmKHdpbmRvdy5sb2NhdGlvbi5ocmVmICE9PSBjdXJyZW50SHJlZil7CgkJCQkJCQl0aGlzLnJlY29yZE9uZVZpZGVvKCk7CgkJCQkJCQljdXJyZW50SHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwoJCQkJCQl9CgkJCQkJfSwgNTAwKTsKCQkJCX0KCQkJCS8v5pCc57Si57uT5p6c5ZKM55So5oi35Li76aG15bey57uP55yL6L+H55qE6KeG6aKR5o+Q6YaSCgkJCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCJiaWxpYmlsaS5jb20iKSE9LTEpewoJCQkJCXRoaXMuc2VhcmNoUGFnZVJlbWluZCgpOwoJCQkJCUdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIua4heepukLnq5nmtY/op4jorrDlvZUiLGZ1bmN0aW9uKCl7CgkJCQkJCWlmKGNvbmZpcm0oJ+aYr+WQpuimgea4heepukLnq5nmtY/op4jorrDlvZXvvJ/muIXnqbrlkI7lsIbkuI3lj6/mgaLlpI0uLi4nKSl7CgkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCR0aGF0LmxvY2FsQ2FjaGVOYW1lLCAiIik7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCX0KCQkJfTsKCQl9CgkJdHJ5ewoJCQkobmV3IHJlY29yZFZpZXdPYmplY3QoKSkuc3RhcnQoKTsKCQl9Y2F0Y2goZSl7CgkJCWNvbnNvbGUubG9nKCJyZWNvcmRWaWV3T2JqZWN0IG5ldyBlcnJvciIsIGUpOwoJCX0KCX07CgkvKioKCSAqIOinhumikeaPj+i/sOaWh+acrOi9rOmTvuaOpQoJICovCgl0aGlzLnRleHRUb0xpbmtGdW5jdGlvbiA9IGZ1bmN0aW9uKCkgewoJCWZ1bmN0aW9uIHRleHRUb0xpbmtPYmplY3QoKXsKCQkJdGhpcy5saW5rID0gZnVuY3Rpb24oYXJlYUVsZW1lbnRzKXsKCQkJCWNvbnN0IGN1cnJlbnRfaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwoJCQkJZm9yKGxldCBpPTA7IGk8YXJlYUVsZW1lbnRzLmxlbmd0aDsgaSsrKXsKCQkJCQlsZXQgdGV4dFRvTGlua0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFyZWFFbGVtZW50c1tpXSk7CgkJCQkJaWYoIXRleHRUb0xpbmtBcmVhKXsKCQkJCQkJY29udGludWU7CgkJCQkJfQoJCQkJCWZpbmRBbmRSZXBsYWNlRE9NVGV4dCh0ZXh0VG9MaW5rQXJlYSwgewoJCQkJCQlmaW5kOiAvKGh0dHB8ZnRwfGh0dHBzKTpcL1wvW1x3XC1fXSsoXC5bXHdcLV9dKykrKFtcd1wtXC4sQD9ePSUmYW1wOzovflwrI10qW1x3XC1cQD9ePSUmYW1wOy9+XCsjXSk/L2csCgkJCQkJCXJlcGxhY2U6IGZ1bmN0aW9uIChlLCB0KSB7CgkJCQkJCQlsZXQgdGV4dCA9IGUudGV4dDsKCQkJCQkJCWxldCBlbGVtZW50ID0gbnVsbDsKCQkJCQkJCWlmKHRleHQuaW5kZXhPZigiYmlsaWJpbGkuY29tIik9PS0xICYmIC9eKGh0dHB8ZnRwfGh0dHBzKS9pLnRlc3QodGV4dCkpewoJCQkJCQkJCWVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CgkJCQkJCQkJZWxlbWVudC5zZXRBdHRyaWJ1dGUoImhyZWYiLCB0ZXh0KQoJCQkJCQkJCWVsZW1lbnQuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLCAiX2JsYW5rIik7CgkJCQkJCQkJZWxlbWVudC5zdHlsZS5jb2xvcj0iIzAwQUVFQyI7CgkJCQkJCQl9ZWxzZXsKCQkJCQkJCQllbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwoJCQkJCQkJfQoJCQkJCQkJZWxlbWVudC5pbm5lclRleHQgPSB0ZXh0OwoJCQkJCQkJcmV0dXJuIGVsZW1lbnQ7CgkJCQkJCX0sCgkJCQkJCXByZXNldDogInByb3NlIgoJCQkJCX0pOwoJCQkJfQoJCQl9CgkJCXRoaXMuc3RhcnQgPSBmdW5jdGlvbigpewoJCQkJY29uc3QgYXJlYUVsZW1lbnRzID0gWyIjdl9kZXNjIiwgIiNhcnRpY2xlLWNvbnRlbnQiXTsKCQkJCXRoaXMubGluayhhcmVhRWxlbWVudHMpOwoJCQkJbGV0IE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcgoJCQkJbGV0IGJvZHlNdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCk9PnsKCQkJCQl0aGlzLmxpbmsoYXJlYUVsZW1lbnRzKTsKCQkJCX0pOwoJCQkJbGV0IG9ic2VydmVyRWxlbWVudE9iaiA9IG51bGw7CgkJCQlmb3IobGV0IGk9MDsgaTxhcmVhRWxlbWVudHMubGVuZ3RoOyBpKyspewoJCQkJCW9ic2VydmVyRWxlbWVudE9iaiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXJlYUVsZW1lbnRzW2ldKTsKCQkJCQlpZihvYnNlcnZlckVsZW1lbnRPYmopewoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQlpZihvYnNlcnZlckVsZW1lbnRPYmopewoJCQkJCWJvZHlNdXRhdGlvbk9ic2VydmVyLm9ic2VydmUob2JzZXJ2ZXJFbGVtZW50T2JqLAoJCQkJCQl7ImNoYXJhY3RlckRhdGEiOnRydWUsImF0dHJpYnV0ZXMiOnRydWUsICJjaGlsZExpc3QiOnRydWV9LAoJCQkJCSk7CgkJCQl9CgkJCX0KCQl9CgkJdHJ5ewoJCQkobmV3IHRleHRUb0xpbmtPYmplY3QoKSkuc3RhcnQoKTsKCQl9Y2F0Y2goZSl7CgkJCWNvbnNvbGUubG9nKCJ0ZXh0VG9MaW5rT2JqZWN0IG5ldyBlcnJvciIsIGUpOwoJCX0KCX0KCXRoaXMuc2lnbkluID0gYXN5bmMgZnVuY3Rpb24oKXsgLy9CbGliaWxpIOiHquWKqOetvuWIsAoJCWNvbnN0IG15RGF0ZSA9IG5ldyBEYXRlKCkKCQl2YXIgY3VycmVudERhdGUgPSBteURhdGUuZ2V0RnVsbFllYXIoKSsiLSIrKG15RGF0ZS5nZXRNb250aCgpICsgMSkgKyAiLSIrbXlEYXRlLmdldERhdGUoKTsKCQl2YXIgdGV4dCA9ICLku4rml6Xlt7Lnrb4iOwoJCWlmKGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoImJpbGliaWxpX3NpZ25JbiIsIG51bGwpID09PSBjdXJyZW50RGF0ZSl7IC8v5bey57uP562+5YiwCgkJCXRleHQgPSAi5LuK5pel5bey562+IjsKCQl9ZWxzZXsKCQkJdHJ5ewoJCQkJY29uc3QgcmVzdWx0ID0gYXdhaXQgY29tbW9uRnVuY3Rpb25PYmplY3QucmVxdWVzdCgiR0VUIiwgImh0dHBzOi8vYXBpLmxpdmUuYmlsaWJpbGkuY29tL3NpZ24vZG9TaWduIiwgbnVsbCk7CgkJCQlpZihyZXN1bHQgJiYgcmVzdWx0LnJlc3VsdD09InN1Y2Nlc3MiKXsKCQkJCQljb25zdCBqc29uID0gSlNPTi5wYXJzZShyZXN1bHQuZGF0YSk7CgkJCQkJaWYoanNvbi5oYXNPd25Qcm9wZXJ0eSgiY29kZSIpKXsKCQkJCQkJY29uc3QgY29kZSA9IGpzb24uY29kZTsKCQkJCQkJaWYoY29kZSA9PSAtMTAxKXsgLy/mnKrnmbvlvZUKCQkJCQkJCXRleHQgPSAi5pyq55m75b2VIjsKCQkJCQkJfWVsc2UgaWYoY29kZSA9PSAxMDExMDQwKXsvL+W3sue7j+etvuWIsOS6hgoJCQkJCQkJdGV4dCA9ICLku4rml6Xlt7Lnrb4iOwoJCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZSgiYmlsaWJpbGlfc2lnbkluIiwgY3VycmVudERhdGUpOwoJCQkJCQl9ZWxzZSBpZihjb2RlID09IDApey8v562+5Yiw5oiQ5YqfCgkJCQkJCQl0ZXh0ID0gIuS7iuaXpeW3suetviI7CgkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTXNldFZhbHVlKCJiaWxpYmlsaV9zaWduSW4iLCBjdXJyZW50RGF0ZSk7CgkJCQkJCX1lbHNlewoJCQkJCQkJdGV4dCA9ICLnrb7liLDlvILluLgiOwoJCQkJCQl9CgkJCQkJfWVsc2V7CgkJCQkJCXRleHQgPSAi562+5Yiw5byC5bi4IjsKCQkJCQl9CgkJCQl9CgkJCX1jYXRjaChlKXsKCQkJCXRleHQgPSAi562+5Yiw5Ye66ZSZIgoJCQl9CgkJfQoJCXZhciBodG1sID0gYAoJCQk8ZGl2IGlkPSJiaWxpYmlsaV9zaWduSW4iIHN0eWxlPSJ3aWR0aDoxMnB4O2ZvbnQtc2l6ZToxMnB4O3Bvc2l0aW9uOmZpeGVkO3RvcDoyMDBweDtsZWZ0OjBweDtiYWNrZ3JvdW5kLWNvbG9yOiNGQzhCQUI7Y29sb3I6I0ZGRjsiPmArdGV4dCtgPC9kaXY+CgkJYDsKCQkkKCJib2R5IikuYXBwZW5kKGh0bWwpOwoJfQoJdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7CgkJaWYodGhpcy5pc1J1bigpKXsKCQkJdGhpcy5iYXNlRnVuY3Rpb24oKTsKCQkJdGhpcy5yZWNvcmRWaWV3RnVuY3Rpb24oKTsKCQkJdGhpcy50ZXh0VG9MaW5rRnVuY3Rpb24oKTsKCQkJdGhpcy5zaWduSW4oKTsKCQl9Cgl9Cn0KdHJ5ewoJaWYoIWZ1bmN0aW9uQ29udHJvbGxlciB8fCBmdW5jdGlvbkNvbnRyb2xsZXIuYmlsaWJpbGlIZWxwZXIpewoJCW5ldyBCaWxpYmlsaUhlbHBlcigpLnN0YXJ0KCk7Cgl9Cn1jYXRjaChlKXsKCWNvbnNvbGUubG9nKCJC56uZ6KeG6aKR5LiL6L2977yaZXJyb3LvvJoiK2UpOwp9CgkvKioKICog55+l5LmO5Yqp5omL5byA5aeLCiAqLwpmdW5jdGlvbiBaaGlodUhlbHBlcigpewoJdGhpcy5tYXJrQXJ0aWNsZU9yUXVlc3Rpb24gPSBmdW5jdGlvbigpewoJCXZhciBxdWVzdGlvbnNDc3MgPSBgCgkJCS5BbnN3ZXJJdGVtIC5Db250ZW50SXRlbS10aXRsZSBhOjpiZWZvcmUgewoJCQkJY29udGVudDogJ+mXrumimCc7CgkJCQljb2xvcjogI2Y2OGI4MzsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNmNjhiODMzMzsKCQkJCWZvbnQtd2VpZ2h0OiBib2xkOwoJCQkJZm9udC1zaXplOiAxM3B4OwoJCQkJcGFkZGluZzogMXB4IDRweCAwcHg7CgkJCQlib3JkZXItcmFkaXVzOiAycHg7CgkJCQlkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CgkJCQl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwoJCQkJbWFyZ2luOiAwcHggNHB4IDBweCAwcHg7CgkJCX0KCQkJLkFydGljbGVJdGVtIC5Db250ZW50SXRlbS10aXRsZSBhOjpiZWZvcmUgewoJCQkJY29udGVudDogJ+aWh+eroCc7CgkJCQljb2xvcjogIzAwNjZGRjsKCQkJCWJhY2tncm91bmQtY29sb3I6ICNFNUVGRkY7CgkJCQlmb250LXdlaWdodDogYm9sZDsKCQkJCWZvbnQtc2l6ZTogMTNweDsKCQkJCXBhZGRpbmc6IDFweCA0cHggMDsKCQkJCWJvcmRlci1yYWRpdXM6IDJweDsKCQkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCQkJCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CgkJCQltYXJnaW46IDBweCA0cHggMHB4IDBweDsKCQkJfQoJCQkuWnZpZGVvSXRlbSAuQ29udGVudEl0ZW0tdGl0bGUgYTo6YmVmb3JlIHsKCQkJCWNvbnRlbnQ6J+inhumikSc7CgkJCQljb2xvcjogIzAwQkNENDsKCQkJCWJhY2tncm91bmQtY29sb3I6ICMwMEJDRDQzMzsKCQkJCWZvbnQtd2VpZ2h0OiBib2xkOwoJCQkJZm9udC1zaXplOiAxM3B4OwoJCQkJcGFkZGluZzogMXB4IDRweCAwOwoJCQkJYm9yZGVyLXJhZGl1czogMnB4OwoJCQkJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJCQkJdmVydGljYWwtYWxpZ246IG1pZGRsZTsKCQkJCW1hcmdpbjogMHB4IDRweCAwcHggMHB4OwoJCQl9CgkJCS5Ub3BzdG9yeUl0ZW0tLWFkdmVydENhcmR7CgkJCQl0ZXh0LWRlY29yYXRpb246bGluZS10aHJvdWdoOwoJCQl9CgkJYDsKCQljb21tb25GdW5jdGlvbk9iamVjdC5HTWFkZFN0eWxlKHF1ZXN0aW9uc0Nzcyk7Cgl9Cgl0aGlzLmF1dG9KdW1wVGFyZ2V0ID0gZnVuY3Rpb24oKXsKCQl2YXIgcmVnZXhSZXN1bHQgPSBsb2NhdGlvbi5zZWFyY2gubWF0Y2goL3RhcmdldD0oLis/KSgmfCQpLyk7CgkJaWYocmVnZXhSZXN1bHQgJiYgcmVnZXhSZXN1bHQubGVuZ3RoPT0zKXsKCQkJbG9jYXRpb24uaHJlZiA9IGRlY29kZVVSSUNvbXBvbmVudChyZWdleFJlc3VsdFsxXSk7CgkJfQoJfTsKCS8vIOS4uumXrumimOacrOi6q+a3u+WKoOaXtumXtAoJdGhpcy5hZGREYXRlUXVlc3Rpb24gPSBmdW5jdGlvbigpewoJCXZhciB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5RdWVzdGlvblBhZ2UiKTsKCQlpZighIXRpdGxlKXsKCQkJdmFyIGRhdGVDcmVhdGVkID0gdGl0bGUucXVlcnlTZWxlY3RvcigiW2l0ZW1wcm9wfj1kYXRlQ3JlYXRlZF1bY29udGVudF0iKS5jb250ZW50OwoJCQl2YXIgZGF0ZU1vZGlmaWVkID0gdGl0bGUucXVlcnlTZWxlY3RvcigiW2l0ZW1wcm9wfj1kYXRlTW9kaWZpZWRdW2NvbnRlbnRdIikuY29udGVudDsKCQkJdmFyIGNyZWF0ZURhdGUgPSBjb21tb25GdW5jdGlvbk9iamVjdC5EYXRlRm9ybWF0KG5ldyBEYXRlKGRhdGVDcmVhdGVkKSwgInl5eXktTU0tZGQgaGg6bW06c3MiKTsKCQkJdmFyIGVkaXREYXRlID0gY29tbW9uRnVuY3Rpb25PYmplY3QuRGF0ZUZvcm1hdChuZXcgRGF0ZShkYXRlTW9kaWZpZWQpLCAieXl5eS1NTS1kZCBoaDptbTpzcyIpOwoKCQkJdmFyIHNpZGUgPSB0aXRsZS5xdWVyeVNlbGVjdG9yKCIuUXVlc3Rpb25IZWFkZXItc2lkZSIpOwoJCQl2YXIgdGltZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCQl0aW1lRGl2LmlubmVySFRNTCA9IGA8cD7liJvlu7rkuo46Jm5ic3A7JHtjcmVhdGVEYXRlfTwvcD48cD7nvJbovpHkuo46Jm5ic3A7JHtlZGl0RGF0ZX08L3A+YDsKCQkJdGltZURpdi5zdHlsZS5jc3NUZXh0ID0gJ2NvbG9yOiM2ZjZmNmY7Zm9udC1zaXplOjEzcHg7JzsKCQkJc2lkZS5hcHBlbmRDaGlsZCh0aW1lRGl2KTsKCQl9Cgl9OwoJLy8g5Li65Zue562U5re75Yqg5pe26Ze0Cgl0aGlzLmFkZFRpbWVBbnN3ZXJJdGVtcyA9IGZ1bmN0aW9uKCl7CgkJdmFyIGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuQW5zd2VySXRlbTpub3QoZGl2W3poX2RhdGVfbWs9J3RydWUnXSkiKTsKCQl2YXIgaXRlbSA9IG51bGw7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CgkJCWl0ZW0gPSBsaXN0W2ldOwoJCQlpZiAoaXRlbS5nZXRBdHRyaWJ1dGUoJ3poX2RhdGVfbWsnKSA9PT0gJ3RydWUnKSB7CgkJCQljb250aW51ZTsKCQkJfQoJCQlpdGVtLnNldEF0dHJpYnV0ZSgiemhfZGF0ZV9tayIsICJ0cnVlIik7CgkJCXRyeXsKCQkJCXZhciBkYXRlQ3JlYXRlZCA9IGl0ZW0ucXVlcnlTZWxlY3RvcigiW2l0ZW1wcm9wfj1kYXRlQ3JlYXRlZF1bY29udGVudF0iKS5jb250ZW50OwoJCQkJdmFyIGRhdGVNb2RpZmllZCA9IGl0ZW0ucXVlcnlTZWxlY3RvcigiW2l0ZW1wcm9wfj1kYXRlTW9kaWZpZWRdW2NvbnRlbnRdIikuY29udGVudDsKCQkJCXZhciBjcmVhdGVEYXRlID0gY29tbW9uRnVuY3Rpb25PYmplY3QuRGF0ZUZvcm1hdChuZXcgRGF0ZShkYXRlQ3JlYXRlZCksICJ5eXl5LU1NLWRkIGhoOm1tOnNzIik7CgkJCQl2YXIgZWRpdERhdGUgPSBjb21tb25GdW5jdGlvbk9iamVjdC5EYXRlRm9ybWF0KG5ldyBEYXRlKGRhdGVNb2RpZmllZCksICJ5eXl5LU1NLWRkIGhoOm1tOnNzIik7CgoJCQkJdmFyIHNpZGVJdGVtID0gaXRlbS5xdWVyeVNlbGVjdG9yKCIuQ29udGVudEl0ZW0tbWV0YSIpOwoJCQkJdmFyIHRpbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCQkJCXRpbWVEaXYuaW5uZXJIVE1MID0gYOWIm+W7uuS6jjombmJzcDske2NyZWF0ZURhdGV9Jm5ic3A7Jm5ic3A7Jm5ic3A75L+u5pS55LqOOiZuYnNwOyR7ZWRpdERhdGV9YDsKCQkJCXRpbWVEaXYuY2xhc3MgPSAiVm90ZXJzIjsKCQkJCXRpbWVEaXYuc3R5bGUuY3NzVGV4dCA9ICdjb2xvcjojNmY2ZjZmO2ZvbnQtc2l6ZToxM3B4O2Rpc3BsYXk6YmxvY2s7cGFkZGluZzo1cHggMHB4Oyc7CgkJCQlzaWRlSXRlbS5hcHBlbmRDaGlsZCh0aW1lRGl2KTsKCQkJfWNhdGNoKGUpe30KCQl9CgkJcmV0dXJuIHRydWU7Cgl9OwoJLy8g5o+Q6Zeu6ICF5qCH6K+G5Ye65p2lCgl0aGlzLnNob3dRdWVzdGlvbkF1dGhvciA9IGZ1bmN0aW9uKCl7CgkJLy/mraTlpITku6PnoIHlgJ/pibToh6ogLSDnn6XkuY7lop7lvLoKCQkvL+WOn+S9nOiAhe+8mlguSS5VCgkJLy9odHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDE5MDgxLSVFNyU5RiVBNSVFNCVCOSU4RSVFNSVBMiU5RSVFNSVCQyVCQQoJCWlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQnJhbmRRdWVzdGlvblN5bWJvbCwgLlF1ZXN0aW9uQXV0aG9yJykpIHJldHVybgoJCWxldCBxSnNvbiA9IEpTT04ucGFyc2UoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2pzLWluaXRpYWxEYXRhJykudGV4dENvbnRlbnQpLmluaXRpYWxTdGF0ZS5lbnRpdGllcy5xdWVzdGlvbnNbL1xkKy8uZXhlYyhsb2NhdGlvbi5wYXRobmFtZSlbMF1dLmF1dGhvciwKCQkJaHRtbCA9IGA8ZGl2IGNsYXNzPSJCcmFuZFF1ZXN0aW9uU3ltYm9sIj48YSBjbGFzcz0iQnJhbmRRdWVzdGlvblN5bWJvbC1icmFuZExpbmsiIGhyZWY9Ii9wZW9wbGUvJHtxSnNvbi51cmxUb2tlbn0iPjxpbWcgcm9sZT0icHJlc2VudGF0aW9uIiBzcmM9IiR7cUpzb24uYXZhdGFyVXJsfSIgY2xhc3M9IkJyYW5kUXVlc3Rpb25TeW1ib2wtbG9nbyIgYWx0PSIiPjxzcGFuIGNsYXNzPSJCcmFuZFF1ZXN0aW9uU3ltYm9sLW5hbWUiPiR7cUpzb24ubmFtZX08L3NwYW4+PC9hPjxkaXYgY2xhc3M9IkJyYW5kUXVlc3Rpb25TeW1ib2wtZGl2aWRlciIgc3R5bGU9Im1hcmdpbi1sZWZ0OiA1cHg7bWFyZ2luLXJpZ2h0OiAxMHB4OyI+PC9kaXY+PC9kaXY+YDsKCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUXVlc3Rpb25IZWFkZXItdG9waWNzJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGh0bWwpOwoJfTsKCXRoaXMuc3RhcnREZWFsd2l0aFF1ZXN0aW9uID0gZnVuY3Rpb24oKXsKCQlsZXQgaXNNYXJrQ29tcGxldGUgPSB0cnVlOwoJCXNldEludGVydmFsKCgpPT57CgkJCWlmKGlzTWFya0NvbXBsZXRlKXsKCQkJCWlzTWFya0NvbXBsZXRlID0gZmFsc2U7CgkJCQlpc01hcmtDb21wbGV0ZSA9IHRoaXMuYWRkVGltZUFuc3dlckl0ZW1zKCk7CgkJCX0KCQl9LCAyNTAwKTsKCQl0aGlzLnNob3dRdWVzdGlvbkF1dGhvcigpOwoJCXRoaXMuYWRkRGF0ZVF1ZXN0aW9uKCk7Cgl9OwoJdGhpcy5kb3dubG9hZFZpZGVvID0gZnVuY3Rpb24oKXsKCQlsZXQgaXNNYXJrQ29tcGxldGUgPSB0cnVlOwoJCWZ1bmN0aW9uIGFkZERvd25sb2FkQnV0dG9uKCl7CgkJCWlmKCFpc01hcmtDb21wbGV0ZSkgcmV0dXJuOwoJCQlpc01hcmtDb21wbGV0ZSA9IGZhbHNlOwoKCQkJdmFyIGl0ZW1BcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5fMXRnOG9pcjpub3Qoc3Bhblt6aF9kYXRlX21rPSd0cnVlJ10pIik7CgkJCXZhciBpdGVtID0gbnVsbDsKCQkJLy8gY29uc29sZS5sb2coIuefpeS5juinhumikeS4i+i9veW+quWdj+ebkeWQrOasoeaVsO+8miIsIGl0ZW1BcnJheS5sZW5ndGgpOwoJCQlmb3IodmFyIGk9MDsgaTxpdGVtQXJyYXkubGVuZ3RoOyBpKyspewoJCQkJaXRlbSA9IGl0ZW1BcnJheVtpXTsKCQkJCWlmIChpdGVtLmdldEF0dHJpYnV0ZSgnemhfZGF0ZV9taycpID09PSAndHJ1ZScpIHsKCQkJCQljb250aW51ZTsKCQkJCX0KCQkJCWl0ZW0uc2V0QXR0cmlidXRlKCJ6aF9kYXRlX21rIiwgInRydWUiKTsKCgkJCQlpZihpdGVtLmlubmVyVGV4dCAhPSAi5YCN6YCfIil7CgkJCQkJY29udGludWU7CgkJCQl9CgoJCQkJdmFyIHBsYXlCdXRMaSA9IGl0ZW0ucGFyZW50Tm9kZS5wYXJlbnROb2RlOwoJCQkJdmFyIGRvd25sb2FkQnV0ID0gcGxheUJ1dExpLmNsb25lTm9kZSh0cnVlKQoJCQkJaWYoIWRvd25sb2FkQnV0LnF1ZXJ5U2VsZWN0b3IoJy5fMXRnOG9pcicpKSByZXR1cm47CgoJCQkJLy8g5Yig6Zmk5YW25a6D5YWD57SgCgkJCQl2YXIgZG93bmxvYWRCdXRDaGlsZHJlbiA9IGRvd25sb2FkQnV0LmNoaWxkcmVuOwoJCQkJZm9yKHZhciBqPTA7IGo8ZG93bmxvYWRCdXRDaGlsZHJlbi5sZW5ndGg7IGorKyl7CgkJCQkJaWYoZG93bmxvYWRCdXRDaGlsZHJlbltqXS5ub2RlTmFtZSAhPT0gIkJVVFRPTiIpewoJCQkJCQlkb3dubG9hZEJ1dC5yZW1vdmVDaGlsZChkb3dubG9hZEJ1dENoaWxkcmVuW2pdKTsKCQkJCQl9CgkJCQl9CgoJCQkJZG93bmxvYWRCdXQuc2V0QXR0cmlidXRlKCJ6aF9kYXRlX21rIiwgInRydWUiKTsKCQkJCWRvd25sb2FkQnV0LnF1ZXJ5U2VsZWN0b3IoJy5fMXRnOG9pcicpLmlubmVyVGV4dD0n5LiL6L29JzsKCgkJCQlwbGF5QnV0TGkuYmVmb3JlKGRvd25sb2FkQnV0KTsKCQkJCWRvd25sb2FkQnV0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpewoJCQkJCWxldCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCQkJbGV0IGZpbmRDbGFzc05hbWUgPSAiLlpWaWRlb0l0ZW0tdmlkZW8iOyAvLyDpppbpobUKCQkJCQlpZihocmVmLmluZGV4T2YoInd3dy56aGlodS5jb20vc2VhcmNoIikhPS0xKXsgLy/mkJzntKLnlYzpnaIKCQkJCQkJZmluZENsYXNzTmFtZSA9ICIuTGlzdC1pdGVtIjsKCQkJCQl9ZWxzZSBpZihocmVmLmluZGV4T2YoInd3dy56aGlodS5jb20venZpZGVvLyIpIT0tMSl7IC8v5Y2V54us6KeG6aKR5pKt5pS+55WM6Z2iCgkJCQkJCWZpbmRDbGFzc05hbWUgPSAiLlpWaWRlby1wbGF5ZXIiOwoJCQkJCX1lbHNlIGlmKGhyZWYuaW5kZXhPZigiaHR0cHM6Ly92aWRlby56aGlodS5jb20vdmlkZW8iKSE9LTEpeyAvL+inhumikeaSreaUvmlmcmFtZQoJCQkJCQlmaW5kQ2xhc3NOYW1lID0gIiNwbGF5ZXIiCgkJCQkJfQoJCQkJCWlmKCFmaW5kQ2xhc3NOYW1lKSByZXR1cm47CgkJCQkJbGV0IHBsYXlVcmwgPSAkKGl0ZW0pLnBhcmVudHMoZmluZENsYXNzTmFtZSkuZmluZCgidmlkZW8iKS5hdHRyKCJzcmMiKTsKCQkJCQlpZighIXBsYXlVcmwpewoJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTW9wZW5JblRhYihwbGF5VXJsKTsKCQkJCQl9CgkJCQl9KTsKCQkJfQoJCQlpc01hcmtDb21wbGV0ZSA9IHRydWU7CgkJfQoKCQlzZXRJbnRlcnZhbCgoKT0+ewoJCQlhZGREb3dubG9hZEJ1dHRvbigpOwoJCX0sIDE0OTkpOwoJfTsKCXRoaXMuc3RhcnQgPSBmdW5jdGlvbigpewoJCWNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQljb25zdCBzZWxmID0gdGhpczsKCQlpZihob3N0ID09ICJsaW5rLnpoaWh1LmNvbSIpewoJCQl0aGlzLmF1dG9KdW1wVGFyZ2V0KCk7CgkJfQoJCWlmKGhvc3QuaW5kZXhPZigiemhpaHUuY29tIikhPS0xKXsKCQkJdGhpcy5tYXJrQXJ0aWNsZU9yUXVlc3Rpb24oKTsKCQkJaWYod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigid3d3LnpoaWh1LmNvbS9xdWVzdGlvbi8iKSE9LTEpewoJCQkJdGhpcy5zdGFydERlYWx3aXRoUXVlc3Rpb24oKTsKCQkJfQoJCQkvL3RoaXMuZG93bmxvYWRWaWRlbygpOwoJCX0KCX07Cn0KdHJ5ewoJaWYoIWZ1bmN0aW9uQ29udHJvbGxlciB8fCBmdW5jdGlvbkNvbnRyb2xsZXIuemhpaHVIZWxwZXIpewoJCShuZXcgWmhpaHVIZWxwZXIoKSkuc3RhcnQoKTsKCX0KfWNhdGNoKGUpewoJY29uc29sZS5sb2coIuefpeS5juWKqeaJi++8mmVycm9y77yaIitlKTsKfQoKCS8qKgogKiDmkJzntKLlvJXmk47otYTmupDmj5DphpIKICovCmZ1bmN0aW9uIFNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uKCl7Cgl0aGlzLmN1c3RvbU5hdmlnYXRpb25rZXkgPSAiY3VzdG9tLW5hdmlnYXRpb24ta2V5LTg4OTgiOwoJdGhpcy5zZWFyY2hFbmdpbmVzRGF0YT1bCgkJeyJob3N0Ijoid3d3LmJhaWR1LmNvbSIsICJlbGVtZW50IjoiI2NvbnRlbnRfcmlnaHQiLCJlbGVtZW50SW5wdXQiOiIja3cifSwKCQl7Imhvc3QiOiJ3d3cuc28uY29tIiwgImVsZW1lbnQiOiIjc2lkZSIsImVsZW1lbnRJbnB1dCI6IiNrZXl3b3JkIn0sCgkJeyJob3N0Ijoid3d3LnNvZ291LmNvbSIsICJlbGVtZW50IjoiI3JpZ2h0IiwiZWxlbWVudElucHV0IjoiI3VwcXVlcnkifSwKCQl7Imhvc3QiOiJjbi5iaW5nLmNvbSIsICJlbGVtZW50IjoiI2JfY29udGV4dCIsImVsZW1lbnRJbnB1dCI6IiNzYl9mb3JtX3EifSwKCQl7Imhvc3QiOiJ3d3cuYmluZy5jb20iLCAiZWxlbWVudCI6IiNiX2NvbnRleHQiLCJlbGVtZW50SW5wdXQiOiIjc2JfZm9ybV9xIn0sCgkJeyJob3N0Ijoid3d3NC5iaW5nLmNvbSIsICJlbGVtZW50IjoiI2JfY29udGV4dCIsImVsZW1lbnRJbnB1dCI6IiNzYl9mb3JtX3EifSwKCQl7Imhvc3QiOiJzby50b3V0aWFvLmNvbSIsICJlbGVtZW50IjoiLnMtc2lkZS1saXN0IiwiZWxlbWVudElucHV0IjoiaW5wdXRbdHlwZT0nc2VhcmNoJ10ifSwKCQl7Imhvc3QiOiJ3d3cuZ29vZ2xlLmNvbSIsICJlbGVtZW50IjoiI3JocyIsImVsZW1lbnRJbnB1dCI6ImlucHV0W3R5cGU9J3RleHQnXSJ9LAoJCXsiaG9zdCI6Ind3dy5nb29nbGUuY29tLmhrIiwiZWxlbWVudCI6IiNyaHMiLCJlbGVtZW50SW5wdXQiOiJpbnB1dFt0eXBlPSd0ZXh0J10ifQoJXTsKCXRoaXMuZGVmYXVsdE5hdmlnYXRpb25EYXRhID0gIFsKCQl7Im5hbWUiOiLotYTmupDmkJzntKIiLCJsaXN0IjpbCgkJCXsibmFtZSI6IueZvuW6pueZvuenkSIsICJ1cmwiOiJodHRwczovL2JhaWtlLmJhaWR1LmNvbS9pdGVtL0BAIn0sCgkJCXsibmFtZSI6IuefpeS5juaQnOe0oiIsICJ1cmwiOiJodHRwczovL3d3dy56aGlodS5jb20vc2VhcmNoP3R5cGU9Y29udGVudCZxPUBAIn0sCgkJCXsibmFtZSI6IkLnq5nmkJzntKIiLCAidXJsIjoiaHR0cHM6Ly9zZWFyY2guYmlsaWJpbGkuY29tL2FsbD9rZXl3b3JkPUBAJmZyb21fc291cmNlPXdlYnRvcF9zZWFyY2gmc3BtX2lkX2Zyb209MzMzLjg1MSJ9LAoJCQl7Im5hbWUiOiLotKLnu4/pm6rnkIMiLCAidXJsIjoiaHR0cHM6Ly94dWVxaXUuY29tL2s/cT1AQCJ9LAoJCQl7Im5hbWUiOiLmipbpn7PmkJzntKIiLCAidXJsIjoiaHR0cHM6Ly93d3cuZG91eWluLmNvbS9zZWFyY2gvQEAifSwKCQkJeyJuYW1lIjoi5pCc54uXfOWFrOS8l+WPtyIsICJ1cmwiOiJodHRwczovL3dlaXhpbi5zb2dvdS5jb20vd2VpeGluP3R5cGU9MiZxdWVyeT1AQCJ9LAoJCQl7Im5hbWUiOiLosYbnk6PmkJzntKIiLCAidXJsIjoiaHR0cHM6Ly93d3cuZG91YmFuLmNvbS9zZWFyY2g/cT1AQCJ9LAoJCQl7Im5hbWUiOiLnu7Tln7rnmb7np5EiLCAidXJsIjoiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3cvaW5kZXgucGhwP3NlYXJjaD1AQCJ9LAoJCQl7Im5hbWUiOiLms5Xlvovms5Xop4QiLCAidXJsIjoiaHR0cHM6Ly93d3cucGt1bGF3LmNvbS9sYXcvY2hsP0tleXdvcmRzPUBAIn0sCgkJCXsibmFtZSI6Imljb27mkJzntKIiLCAidXJsIjoiaHR0cHM6Ly93d3cuaWNvbmZvbnQuY24vc2VhcmNoL2luZGV4P3NlYXJjaFR5cGU9aWNvbiZxPUBAIn0sCgkJCXsibmFtZSI6ImdpdGh1YiIsICJ1cmwiOiJodHRwczovL2dpdGh1Yi5jb20vc2VhcmNoP3E9QEAifSwKCQkJeyJuYW1lIjoiY3NkbiIsICJ1cmwiOiJodHRwczovL3NvLmNzZG4ubmV0L3NvL3NlYXJjaD9xPUBAJnQ9JnU9In0sCgkJCXsibmFtZSI6InN0YWNrb3ZlcmZsb3ciLCAidXJsIjoiaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS8ifSwKCQldfSwKCQl7Im5hbWUiOiLmkJzntKLlvJXmk44iLCJsaXN0IjpbCgkJCXsibmFtZSI6IueZvuW6piIsICJ1cmwiOiJodHRwczovL3d3dy5iYWlkdS5jb20vcz93ZD1AQCJ9LAoJCQl7Im5hbWUiOiLlv4XlupQiLCAidXJsIjoiaHR0cHM6Ly9jbi5iaW5nLmNvbS9zZWFyY2g/cT1AQCJ9LAoJCQl7Im5hbWUiOiJnb29nbGUiLCAidXJsIjoiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT1AQCJ9LAoJCQl7Im5hbWUiOiIzNjDmkJzntKIiLCAidXJsIjoiaHR0cHM6Ly93d3cuc28uY29tL3M/aWU9dXRmLTgmZnI9bm9uZSZzcmM9MzYwc291X25ld2hvbWUmbmxwdj1iYXNlc3QmcT1AQCJ9LAoJCQl7Im5hbWUiOiLmkJzni5ciLCAidXJsIjoiaHR0cHM6Ly93d3cuc29nb3UuY29tL3dlYj9xdWVyeT1AQCJ9LAoJCQl7Im5hbWUiOiLlpLTmnaHmkJzntKIiLCAidXJsIjoiaHR0cHM6Ly9zby50b3V0aWFvLmNvbS9zZWFyY2g/ZHZwZj1wYyZzb3VyY2U9aW5wdXQma2V5d29yZD1AQCJ9CgkJXX0KCV07Cgl0aGlzLmdldE5hdmlnYXRpb25EYXRhID0gZnVuY3Rpb24oZWxlbWVudCwgZWxlbWVudElucHV0KXsKCQljb25zdCBzZWxmID0gdGhpczsKCQlsZXQgbmF2aWdhdGlvbkRhdGEgPSBzZWxmLmRlZmF1bHROYXZpZ2F0aW9uRGF0YTsKCQlsZXQgZmluYWxOYXZpZ2F0aW9uRGF0YSA9IG51bGw7CgkJdHJ5ewoJCQkvL+iHquWumuS5ieeahOaVsOaNrgoJCQlsZXQgY3VzdG9tTmF2aWdhdGlvbkRhdGEgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKHNlbGYuY3VzdG9tTmF2aWdhdGlvbmtleSwgbnVsbCk7CgkJCWlmKCEhY3VzdG9tTmF2aWdhdGlvbkRhdGEpewoJCQkJZmluYWxOYXZpZ2F0aW9uRGF0YSA9IFtdLmNvbmNhdChjdXN0b21OYXZpZ2F0aW9uRGF0YSk7CgkJCX1lbHNlewoJCQkJZmluYWxOYXZpZ2F0aW9uRGF0YSA9IG5hdmlnYXRpb25EYXRhOwoJCQl9CgkJfWNhdGNoKGUpewoJCQlmaW5hbE5hdmlnYXRpb25EYXRhID0gbmF2aWdhdGlvbkRhdGE7CgkJfQoJCXNlbGYuY3JlYXRlSHRtbChlbGVtZW50LCBlbGVtZW50SW5wdXQsIGZpbmFsTmF2aWdhdGlvbkRhdGEpOwoJfTsKCXRoaXMuY3JlYXRlQ3NzID0gZnVuY3Rpb24oZWxlbWVudE51bSl7CgkJdmFyIGlubm5lckNzcyA9IGAKCQkJLmRkZmRmZGArZWxlbWVudE51bStgZGZmc3NxYXsKCQkJCW1hcmdpbi10b3A6MTVweDsKCQkJfQoJCQkuZGRmZGZkYCtlbGVtZW50TnVtK2BkZmZzc3FhOm50aC1sYXN0ewoJCQkJbWFyZ2luLXRvcDowcHg7CgkJCX0KCQkJLmRkZmRmZGArZWxlbWVudE51bStgZGZmc3NxYT4udGl0bGV7CgkJCQlmb250LXNpemU6MTZweDsKCQkJCWNvbG9yOiMwMDA7CgkJCX0KCQkJLmRkZmRmZGArZWxlbWVudE51bStgZGZmc3NxYT4uY29udGVudC1saXN0ewoKCQkJfQoJCQkuZGRmZGZkYCtlbGVtZW50TnVtK2BkZmZzc3FhPi5jb250ZW50LWxpc3Q+YXsKCQkJCWRpc3BsYXk6aW5saW5lLWJsb2NrOwoJCQkJYm9yZGVyOjFweCBzb2xpZCAjZWNlNWU1OwoJCQkJYm9yZGVyLXJhZGl1czo0cHg7CgkJCQl0ZXh0LWFsaWduOmNlbnRlcjsKCQkJCW1hcmdpbi1yaWdodDoxMHB4OwoJCQkJbWFyZ2luLXRvcDo2cHg7CgkJCQlvdmVyZmxvdzogaGlkZGVuOwoJCQkJd2hpdGUtc3BhY2U6IG5vd3JhcDsKCQkJCXRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CgkJCQlwYWRkaW5nOjJweCA1cHg7CgkJCQlib3gtc2l6aW5nOmJvcmRlci1ib3g7CgkJCQlsaW5lLWhlaWdodDoyMHB4OwoJCQkJZm9udC1zaXplOjE0cHghaW1wb3J0YW50OwoJCQkJdGV4dC1kZWNvcmF0aW9uOiBub25lOwoJCQl9CgkJCS5kZGZkZmRgK2VsZW1lbnROdW0rYGRmZnNzcWE+LmNvbnRlbnQtbGlzdD5hOmhvdmVyewoJCQkJdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CgkJCX0KCQlgOwoJCWlmKCQoIiNwbHVnaW5fY3NzX3N0eWxlX2RkZHNvbyIpLmxlbmd0aD09MCl7CgkJCSQoImJvZHkiKS5wcmVwZW5kKCI8c3R5bGUgaWQ9J3BsdWdpbl9jc3Nfc3R5bGVfZGRkc29vJz4iK2lubm5lckNzcysiPC9zdHlsZT4iKTsKCQl9Cgl9OwoJdGhpcy5zaG93U2V0aW5nRGlhbG9nID0gZnVuY3Rpb24oKXsKCQljb25zdCBzZWxmID0gdGhpczsKCgkJdmFyIGN1c3RvbU5hdmlnYXRpb25EYXRhID0gIiI7CgkJY29uc3QgY3VzdG9tTmF2aWdhdGlvbiA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoc2VsZi5jdXN0b21OYXZpZ2F0aW9ua2V5LCBudWxsKTsKCQlpZighIWN1c3RvbU5hdmlnYXRpb24pewoJCQljdXN0b21OYXZpZ2F0aW9uRGF0YSA9IEpTT04uc3RyaW5naWZ5KGN1c3RvbU5hdmlnYXRpb24sIG51bGwsIDQpOwoJCX0KCQljb25zdCBjb250ZW50ID0gYAoJCQk8ZGl2PgoJCQkJPGRpdiBzdHlsZT0iZm9udC1zaXplOjEzcHg7Y29sb3I6cmVkOyI+CgkJCQkJ5rOo5oSP5LqL6aG55aaC5LiL77yaCgkJCQkJPGJyPjHjgIHor7fkuKXmoLzmjInnhafmoLzlvI/mt7vliqDvvIzlkKbliJnkuI3nlJ/mlYgKCQkJCQk8YnI+MuOAgeaVsOaNruS4umpzb27moLzlvI/vvIzor7fnoa7kv51qc29u5qC85byP5q2j56Gu77yM5b+F6KaB5pe26K+35YiwPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vd3d3Lmpzb24uY24vIj5odHRwczovL3d3dy5qc29uLmNuLzwvYT7moKHpqowKCQkJCQk8YnI+M+OAgeeCueWHu+S4i+mdouKAneekuuS+i+KAnOaMiemSru+8jOafpeeci+WFt+S9k+agvOW8j+aDheWGtQoJCQkJCTxicj4044CB6ZO+5o6l5Lit55qE5pCc57Si5YWz6ZSu6K+N6K+355So4oCdQEDigJzku6Pmm7/vvIzohJrmnKzkvJroh6rliqjmm7/mjaLmiJDlvZPliY3mkJzntKLor43jgILkvovlpoLvvJpodHRwczovL3d3dy5iYWlkdS5jb20vcz93ZD1AQAoJCQkJCTxicj4144CB5aSn5a625Y+v5Lul6Ieq5a6a5LmJ5a+86Iiq5pWw5o2u77yMPGI+5L2G5piv5b+F6aG76KaB5rOo5oSP5pWw5o2u5qC85byP77yM5Y+R546w5Ye6546w6ZSZ6K+v77yM5Y+v54K54oCc5Yid5aeL5YyW4oCdPC9iPgoJCQkJPC9kaXY+CgkJCQk8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjVweDtoZWlnaHQ6MjAwcHg7d2lkdGg6MTAwJTsiPgoJCQkJCTx0ZXh0YXJlYQoJCQkJCQlwbGFjZWhvbGRlcj0i6K+35Lil5qC85oyJ54Wn5qC85byP5aGr5YaZ77yM5ZCm5YiZ5LiN55Sf5pWIIgoJCQkJCQljbGFzcz0ibmF2aWdhdGlvbi10ZXh0YXJlYSIKCQkJCQkJc3R5bGU9ImNvbG9yOiMwMDA7Zm9udC1zaXplOjE0cHg7Ym94LXNpemluZzogYm9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O3BhZGRpbmc6NXB4O2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7T3ZlcmZsb3c6YXV0bztib3JkZXI6MXB4IHNvbGlkICNjY2M7cmVzaXplOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojRkZGO291dGxpbmU6bm9uZTsiPmArY3VzdG9tTmF2aWdhdGlvbkRhdGErYDwvdGV4dGFyZWE+CgkJCQk8L2Rpdj4KCQkJCTxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6MTVweDsiPgoJCQkJCTxidXR0b24gY2xhc3M9Im5hdmlnYXRpb24taW5pdCIgc3R5bGU9ImNvbG9yOiMwMDA7Y3Vyc29yOnBvaW50ZXI7Ij7liJ3lp4vljJY8L2J1dHRvbj4KCQkJCQk8YnV0dG9uIGNsYXNzPSJuYXZpZ2F0aW9uLWV4YW1wbGUiIHN0eWxlPSJjb2xvcjojMDAwO2N1cnNvcjpwb2ludGVyOyI+56S65L6LPC9idXR0b24+CgkJCQkJPGJ1dHRvbiBjbGFzcz0ibmF2aWdhdGlvbi1jbGVhciIgc3R5bGU9ImNvbG9yOiMwMDA7Y3Vyc29yOnBvaW50ZXI7Ij7muIXnqbo8L2J1dHRvbj4KCQkJCQk8YnV0dG9uIGNsYXNzPSJuYXZpZ2F0aW9uLXNhdmUiIHN0eWxlPSJjb2xvcjojMDAwO2N1cnNvcjpwb2ludGVyOyI+5L+d5a2Y6Ieq5a6a5LmJ5a+86IiqPC9idXR0b24+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJYDsKCQlwb3B1cC5kaWFsb2coewoJCQkidGl0bGUiOiLoh6rlrprkuYnmt7vliqDlr7zoiKoiLAoJCQkiY29udGVudCI6Y29udGVudCwKCQkJIm9uQ29udGVudFJlYWR5IjpmdW5jdGlvbigkdGhhdCl7CgkJCQl2YXIgJG5hdmlnYXRpb25FeGFtcGxlID0gJHRoYXQuZGlhbG9nQ29udGVudC5xdWVyeVNlbGVjdG9yKCIubmF2aWdhdGlvbi1leGFtcGxlIik7CgkJCQl2YXIgJG5hdmlnYXRpb25DbGVhciA9ICR0aGF0LmRpYWxvZ0NvbnRlbnQucXVlcnlTZWxlY3RvcigiLm5hdmlnYXRpb24tY2xlYXIiKTsKCQkJCXZhciAkbmF2aWdhdGlvblNhdmUgPSAkdGhhdC5kaWFsb2dDb250ZW50LnF1ZXJ5U2VsZWN0b3IoIi5uYXZpZ2F0aW9uLXNhdmUiKTsKCQkJCXZhciAkbmF2aWdhdGlvbkluaXQgPSAkdGhhdC5kaWFsb2dDb250ZW50LnF1ZXJ5U2VsZWN0b3IoIi5uYXZpZ2F0aW9uLWluaXQiKTsKCgkJCQl2YXIgJHRleHRhcmVhID0gJHRoYXQuZGlhbG9nQ29udGVudC5xdWVyeVNlbGVjdG9yKCIubmF2aWdhdGlvbi10ZXh0YXJlYSIpOwoJCQkJJG5hdmlnYXRpb25FeGFtcGxlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKXsKCQkJCQkkdGV4dGFyZWEudmFsdWUgPSBKU09OLnN0cmluZ2lmeShzZWxmLmRlZmF1bHROYXZpZ2F0aW9uRGF0YSwgbnVsbCwgNCk7CgkJCQl9KTsKCQkJCSRuYXZpZ2F0aW9uQ2xlYXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpewoJCQkJCSR0ZXh0YXJlYS52YWx1ZSA9ICIiOwoJCQkJfSk7CgkJCQkkbmF2aWdhdGlvbkluaXQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpewoJCQkJCSR0ZXh0YXJlYS52YWx1ZSA9ICIiOwoJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUoc2VsZi5jdXN0b21OYXZpZ2F0aW9ua2V5LCBudWxsKTsKCQkJCX0pOwoJCQkJJG5hdmlnYXRpb25TYXZlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKXsKCQkJCQl2YXIgY29udGVudCA9ICR0ZXh0YXJlYS52YWx1ZTsKCQkJCQlpZighY29udGVudCl7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNc2V0VmFsdWUoc2VsZi5jdXN0b21OYXZpZ2F0aW9ua2V5LCBudWxsKTsKCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3Qud2ViVG9hc3QoeyJtZXNzYWdlIjoi5L+d5a2Y5oiQ5Yqf77ya5pWw5o2u5Li656m6IiwgImJhY2tncm91bmQiOiIjRkY0RDQwIn0pOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCWlmKGNvbnRlbnQubGVuZ3RoPT0wIHx8IGNvbnRlbnQuaW5kZXhPZigieyIpPT0tMSB8fCBjb250ZW50LmluZGV4T2YoIlsiKT09LTEpewoJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC53ZWJUb2FzdCh7Im1lc3NhZ2UiOiLmoLzlvI/plJnor6/vvIzor7fmm7TmraMiLCAiYmFja2dyb3VuZCI6IiNGRjRENDAifSk7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQkJdHJ5ewoJCQkJCQl2YXIgY29udGVudEpzb24gPSBKU09OLnBhcnNlKGNvbnRlbnQpOwoJCQkJCQlpZihBcnJheS5pc0FycmF5KGNvbnRlbnRKc29uKSl7IC8v5byA5aeL5b+F6aG75piv5pWw57uECgkJCQkJCQl2YXIgaXNPSyA9IHRydWU7CgkJCQkJCQlmb3IodmFyIGk9MDsgaTxjb250ZW50SnNvbi5sZW5ndGg7IGkrKykgewoJCQkJCQkJCWlmKEFycmF5LmlzQXJyYXkoY29udGVudEpzb25baV0pKXsgLy/mraTlpITlv4XpobvmmK/lr7nosaEKCQkJCQkJCQkJaXNPSyA9IGZhbHNlOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQl9CgkJCQkJCQkJaWYoIWNvbnRlbnRKc29uW2ldLmhhc093blByb3BlcnR5KCJuYW1lIikgfHwgIWNvbnRlbnRKc29uW2ldLmhhc093blByb3BlcnR5KCJsaXN0IikpewoJCQkJCQkJCQlpc09LID0gZmFsc2U7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCX0KCQkJCQkJCQlpZih0eXBlb2YoY29udGVudEpzb25baV1bIm5hbWUiXSkhPSJzdHJpbmciKXsKCQkJCQkJCQkJaXNPSyA9IGZhbHNlOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQl9CgkJCQkJCQkJaWYoIUFycmF5LmlzQXJyYXkoY29udGVudEpzb25baV1bImxpc3QiXSkpeyAvL+atpOWkhOW/hemhu+aYr+aVsOe7hAoJCQkJCQkJCQlpc09LID0gZmFsc2U7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCX0KCQkJCQkJCQlmb3IodmFyIGo9MDsgajxjb250ZW50SnNvbltpXVsibGlzdCJdLmxlbmd0aDsgaisrKXsKCQkJCQkJCQkJaWYoIWNvbnRlbnRKc29uW2ldWyJsaXN0Il1bal0uaGFzT3duUHJvcGVydHkoIm5hbWUiKSB8fCAhY29udGVudEpzb25baV1bImxpc3QiXVtqXS5oYXNPd25Qcm9wZXJ0eSgidXJsIikpewoJCQkJCQkJCQkJaXNPSyA9IGZhbHNlOwoJCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYodHlwZW9mKGNvbnRlbnRKc29uW2ldWyJsaXN0Il1bal1bIm5hbWUiXSkhPSJzdHJpbmciIHx8IHR5cGVvZihjb250ZW50SnNvbltpXVsibGlzdCJdW2pdWyJ1cmwiXSkhPSJzdHJpbmciKXsKCQkJCQkJCQkJCWlzT0sgPSBmYWxzZTsKCQkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCQl9CgkJCQkJCQkJfQoJCQkJCQkJCWlmKCFpc09LKXsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQkJaWYoaXNPSyl7CgkJCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZShzZWxmLmN1c3RvbU5hdmlnYXRpb25rZXksIGNvbnRlbnRKc29uKTsKCQkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC53ZWJUb2FzdCh7Im1lc3NhZ2UiOiLkv53lrZjmiJDlip8iLCAiYmFja2dyb3VuZCI6IiNGRjRENDAifSk7CgkJCQkJCQl9ZWxzZXsKCQkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC53ZWJUb2FzdCh7Im1lc3NhZ2UiOiLmoLzlvI/plJnor6/vvIzor7fmm7TmraMiLCAiYmFja2dyb3VuZCI6IiNGRjRENDAifSk7CgkJCQkJCQl9CgkJCQkJCX1lbHNlewoJCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3Qud2ViVG9hc3QoeyJtZXNzYWdlIjoi5qC85byP6ZSZ6K+v77yM6K+35pu05q2jIiwgImJhY2tncm91bmQiOiIjRkY0RDQwIn0pOwoJCQkJCQl9CgkJCQkJfWNhdGNoKGUpewoJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC53ZWJUb2FzdCh7Im1lc3NhZ2UiOiLmoLzlvI/plJnor6/vvIzor7fmm7TmraMiLCAiYmFja2dyb3VuZCI6IiNGRjRENDAifSk7CgkJCQkJfQoJCQkJfSk7CgkJCX0KCQl9KQoJfQoJdGhpcy5jcmVhdGVIdG1sID0gZnVuY3Rpb24oZWxlbWVudCwgZWxlbWVudElucHV0LCBuYXZpZ2F0aW9uRGF0YSl7CgkJJCgiI2RzZHNkOTltbW1qajc3NjAwMTEiKS5yZW1vdmUoKTsKCgkJdmFyIGlzQ29tcGxhdGUgPSB0cnVlOwoJCWNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQljb25zdCBzZWxmID0gdGhpczsKCQljb25zdCBlbGVtZW50TnVtID0gY29tbW9uRnVuY3Rpb25PYmplY3QucmFuZG9tTnVtYmVyKCk7CgkJY29uc3QgZWxlbWVudEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkJaWYoaXNDb21wbGF0ZSl7CgkJCQl2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoJCQkJdmFyICRib3ggPSAkKCIjZHNkc2Q5OW1tbWpqNzc2MDAxMSIpOwoJCQkJaXNDb21wbGF0ZSA9IGZhbHNlOwoJCQkJaWYoJGVsZW1lbnQubGVuZ3RoIT0wICYmICRib3gubGVuZ3RoPT0wKXsKCQkJCQl2YXIgaHRtbCA9ICIiOwoJCQkJCWh0bWwgICs9ICI8ZGl2IGlkPSdkc2RzZDk5bW1tamo3NzYwMDExJz4iOwoJCQkJCWZvcih2YXIgaT0wOyBpPG5hdmlnYXRpb25EYXRhLmxlbmd0aDsgaSsrKXsKCQkJCQkJaHRtbCAgKz0gIjxkaXYgY2xhc3M9J2RkZmRmZCIrZWxlbWVudE51bSsiZGZmc3NxYSc+IjsKCQkJCQkJaHRtbCAgKz0gIjxkaXYgY2xhc3M9J3RpdGxlJz48Yj4iK25hdmlnYXRpb25EYXRhW2ldLm5hbWUrIjwvYj48L2Rpdj4iOwoJCQkJCQlodG1sICArPSAiPGRpdiBjbGFzcz0nY29udGVudC1saXN0Jz4iOwoJCQkJCQlmb3IodmFyIGo9MDtqPG5hdmlnYXRpb25EYXRhW2ldLmxpc3QubGVuZ3RoO2orKyl7CgkJCQkJCQlsZXQgdXJsID0gbmF2aWdhdGlvbkRhdGFbaV0ubGlzdFtqXS51cmw7CgkJCQkJCQlsZXQgbmFtZSA9IG5hdmlnYXRpb25EYXRhW2ldLmxpc3Rbal0ubmFtZTsKCQkJCQkJCWh0bWwgKz0gIjxhIHRhcmdldD0nX2JsYW5rJyBuYW1lPSduYXZpZ2F0aW9uJyBkYXRhLXVybD0nIit1cmwrIicgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApOyc+IituYW1lKyI8L2E+IgoJCQkJCQl9CgkJCQkJCWh0bWwgKz0gIjwvZGl2PiI7CgkJCQkJCWh0bWwgKz0gIjwvZGl2PiI7CgkJCQkJfQoJCQkJCWh0bWwgKz0gYAoJCQkJCQk8ZGl2IHN0eWxlPSdtYXJnaW4tYm90dG9tOjEwcHg7bWFyZ2luLXRvcDo1cHg7Zm9udC1zaXplOjEycHg7Jz4KCQkJCQkJCTxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdodHRwczovL2dpdGxhYi5jb20vc2NyaXB0MzQ3MzMwMy9zY3JpcHRfcHJvJz4q6K+l5pWw5o2u55Sx5rK554y06ISa5pys5o+Q5L6bPC9hPgoJCQkJCQkJJm5ic3A7Jm5ic3A7CgkJCQkJCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBuYW1lPSJjdXN0b21OYXZpZ2F0aW9uIj4KCQkJCQkJCQnwn5Sn6Ieq5a6a5LmJ572R5Z2ACgkJCQkJCQk8L2E+CgkJCQkJCTwvZGl2PmA7CgkJCQkJaHRtbCArPSAiPC9kaXY+IjsKCgkJCQkJLy/mt7vliqBjc3Mg5re75YqgaHRtbAoJCQkJCXNlbGYuY3JlYXRlQ3NzKGVsZW1lbnROdW0pOwoJCQkJCSRlbGVtZW50LnByZXBlbmQoaHRtbCk7CgoJCQkJCSQoIiNkc2RzZDk5bW1tamo3NzYwMDExIGFbbmFtZT0nbmF2aWdhdGlvbiddIikub24oImNsaWNrIiwgZnVuY3Rpb24oZSl7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNb3BlbkluVGFiKCQodGhpcykuZGF0YSgidXJsIikucmVwbGFjZSgiQEAiLCQoZWxlbWVudElucHV0KS52YWwoKSkpOwoJCQkJCQllLnByZXZlbnREZWZhdWx0KCkKCQkJCQl9KTsKCgkJCQkJJCgiI2RzZHNkOTltbW1qajc3NjAwMTEgYVtuYW1lPSdjdXN0b21OYXZpZ2F0aW9uJ10iKS5vbigiY2xpY2siLCBmdW5jdGlvbihlKXsKCQkJCQkJc2VsZi5zaG93U2V0aW5nRGlhbG9nKCk7CgkJCQkJCWUucHJldmVudERlZmF1bHQoKQoJCQkJCX0pCgkJCQl9CgkJCQlpc0NvbXBsYXRlID0gdHJ1ZTsKCQkJfQoJCX0sIDEwMCk7Cgl9OwoJdGhpcy5ob29rQmFpZHUgPSBmdW5jdGlvbigpewoJCWxldCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNjb250ZW50X2xlZnQ+ZGl2Iik7CgkJZm9yKGxldCBpdGVtIG9mIGl0ZW1zKXsKCQkJLy/nu5nlpITnkIblrozmiJDnmoTlgZrkuIDkuKrmoIfor4YKCQkJaWYoISFpdGVtLmdldEF0dHJpYnV0ZSgiYmFpZHVfZGVhbHh4IikpewoJCQkJY29udGludWU7CgkJCX0KCQkJaXRlbS5zZXRBdHRyaWJ1dGUoImJhaWR1X2RlYWx4eCIsIi0tIik7CgoJCQlsZXQgYSA9IGl0ZW0ucXVlcnlTZWxlY3RvcigiYSIpOwoJCQlpZighYSB8fCAhYS5ocmVmKXsKCQkJCWNvbnRpbnVlOwoJCQl9CgoJCQkvL+agh+azqOS6hmh0bWznvZHlnYDnmoTlv73nlaUKCQkJbGV0IE9QX0xPR19MSU5LID0gaXRlbS5xdWVyeVNlbGVjdG9yKCIuT1BfTE9HX0xJTksiKTsKCQkJaWYoISFPUF9MT0dfTElOSyAmJiBPUF9MT0dfTElOSy5pbm5lclRleHQuc2VhcmNoKCJodHRwIikhPS0xKXsKCQkJCWNvbnRpbnVlOwoJCQl9CgoJCQkvL+acieWkmuS4queCueWHu+eCueeahOW/veeVpQoJCQlsZXQgY0dhcEJvdHRvbVNtYWxsID0gaXRlbS5xdWVyeVNlbGVjdG9yKCIuYy1nYXAtYm90dG9tLXNtYWxsIik7CgkJCWlmKCEhY0dhcEJvdHRvbVNtYWxsKXsKCQkJCWNvbnRpbnVlOwoJCQl9CgoJCQkvL2h0dHBzOi8vd3d3LmJhaWR1LmNvbS9zP3dkPeS4gOWknOmGkuadpeasoOWcsOmTgTYwMOWkmuS4hz/lrpjmlrnlm57lupQKCQkJaWYgKGEuaHJlZi5pbmNsdWRlcygid3d3LmJhaWR1LmNvbS9saW5rP3VybD0iKSkgewoJCQkJbGV0IHVybCA9IGl0ZW0uZ2V0QXR0cmlidXRlKCJtdSIpOwoJCQkJaWYgKHVybCAmJiB1cmwgIT0gbnVsbCAmJiAhdXJsLmluY2x1ZGVzKCJub3VybC51YnMuYmFpZHUuY29tIikpIHsKCQkJCQlhLmhyZWYgPSB1cmw7CgkJCQkJaXRlbS5pbm5lckhUTUwgKz0gYDxkaXYgc3R5bGU9ImNvbG9yOiNjY2M7Zm9udC1zaXplOjEycHg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjt3aWR0aDoxMDAlO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTogbm93cmFwO3RleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOy1vLXRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7Ij4KCQkJCQkJCQkJCTxpbWcgc3R5bGU9IndpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7IiBzcmM9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUFBWE5TUjBJQXJzNGM2UUFBQUtoSlJFRlVPRSs5azlFTndqQU1CYzhSQTdBUjdVaE1RRHNCc3pCQncwWU1BQW1LckJTM3BNMUhwT2IvbmU5Wmp0RDRwREhQRVlCVEIyRlNVOWZEMjF2cmlzRWNIc0Y1QlMwaEZZQ0x3QWhoMEtrWkdPWmNCU0FUeUFNNEs4UU5FQzhRKzF5akFFaFRQamVRNTArYnEwS1c0UVJaQVd4blhzQmRPNGV1RkM0QWJPZTFmdmxpakVHZWJyZWNPcWVYbC9nUDJhaXdyMTI1ZzJ3U3ZkMzIxc2tmY2NyNzM2M1o0QXNrbHo0UkhtZEExZ0FBQUFCSlJVNUVya0pnZ2c9PSIvPgoJCQkJCQkJCQkJPGEgc3R5bGU9ImNvbG9yOiM2MjY2NzU7IiBocmVmPSJgK3VybCtgIiB0YXJnZXQ9Il9ibGFuayI+YCt1cmwrYDwvYT4KCQkJCQkJCQkJPC9kaXY+YDsKCQkJCX0KCQkJfQoKCQkJbGV0IGl0ZW1OZXdzID0gaXRlbS5xdWVyeVNlbGVjdG9yQWxsKCJbY2xhc3NePXNpbmdsZS1jYXJkLXdyYXBwZXJdIGRpdixbY2xhc3NePWdyb3VwLXdyYXBwZXJdIGRpdiIpOwoJCQlpZighaXRlbU5ld3MpewoJCQkJY29udGludWU7CgkJCX0KCQkJLy9zaW5nbGUtY2FyZC13cmFwcGVyOiBodHRwczovL3d3dy5iYWlkdS5jb20vcz9pZT1VVEYtOCZ3ZD1lczYgICAgICAgICAgICAgICAgICAgICAgICAgIHh4eOeahOacgOaWsOebuOWFs+S/oeaBrwoJCQkvL2dyb3VwLXdyYXBwZXI6ICAgICAgIGh0dHBzOi8vd3d3LmJhaWR1LmNvbS9zP2llPVVURi04JndkPeS6lOS4gOa2iOi0ueaIkOe7qeWNleaKmOWwhOW4guWcuua0u+WKmyAgICAg6LWE6K6vCgkJCWZvcihsZXQgaXRlbU5ldyBvZiBpdGVtTmV3cyl7CgkJCQlsZXQgZGF0YVVybCA9IG51bGw7CgkJCQlsZXQgZGl2cyA9IGl0ZW1OZXcucXVlcnlTZWxlY3RvckFsbCgiZGl2Iik7CgkJCQlmb3IgKGxldCBkaXYgb2YgZGl2cykgewoJCQkJCWlmICgoZGF0YVVybCA9IGRpdi5nZXRBdHRyaWJ1dGUoImRhdGEtdXJsIikpKSB7CgkJCQkJCWxldCBhID0gaXRlbU5ldy5xdWVyeVNlbGVjdG9yKCJhIik7CgkJCQkJCWEuc2V0QXR0cmlidXRlKCJocmVmIiwgZGF0YVVybCk7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfTsKCXRoaXMuaG9va0dvb2dsZSA9IGZ1bmN0aW9uKCl7CgkJbGV0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI2NlbnRlcl9jb2wgYSIpOwoJCWZvcihsZXQgYSBvZiBpdGVtcyl7CgkJCWlmKCFhLmdldEF0dHJpYnV0ZSgidGFyZ2V0IikpIGEuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLCJfYmxhbmsiKTsKCQl9Cgl9OwoJdGhpcy5ob29rcyA9IGZ1bmN0aW9uKCl7CgkJY29uc3QgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCWNvbnN0IGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKCQljb25zdCBzZWFyY2ggPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwoJCWNvbnN0IHNlbGYgPSB0aGlzOwoJCXNldEludGVydmFsKGZ1bmN0aW9uKCl7CgkJCWlmKGhvc3Q9PT0id3d3LmJhaWR1LmNvbSIpewoJCQkJc2VsZi5ob29rQmFpZHUoKTsKCQkJfWVsc2UgaWYoaG9zdD09PSJ3d3cuZ29vZ2xlLmNvbSIgfHwgaG9zdD09PSJ3d3cuZ29vZ2xlLmNvbS5oayIpewoJCQkJc2VsZi5ob29rR29vZ2xlKCk7CgkJCX0KCQl9LCAzMDApOwoJCWxldCBzZXJ2ZXJIVE1MID0gYAoJCQkJPGRpdiBzdHlsZT0iZm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6Ym9sZDtwYWRkaW5nOjVweCAwcHg7Ij4KCQkJCQk8YSBzZXJ2ZXItY2xpY2s9Ilc5OTAxWCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgZGF0YS1ocmVmPSdodHRwczovL2Nsb3VkLnRlbmNlbnQuY29tLz9mcm9tU291cmNlPWd3emN3LjEyOTMzMTQuMTI5MzMxNC4xMjkzMzE0JmNwc19rZXk9NzVhZTRmM2MxZTRlMDUxOTkwZDM3NWFiY2YxYmM0ZDUnPvCflKXohb7orq/kupE8L2E+CgkJCQkJJm5ic3A7Jm5ic3A7PGEgc2VydmVyLWNsaWNrPSJXOTkwMVgiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGRhdGEtaHJlZj0naHR0cHM6Ly93d3cuYWxpeXVuLmNvbS8/c291cmNlPTUxNzYuMTE1MzM0NTcmdXNlckNvZGU9aGl1OG13YzEnPvCfkqXpmL/ph4zkupE8L2E+CgkJCQkJJm5ic3A7Jm5ic3A7PGEgc2VydmVyLWNsaWNrPSJXOTkwMVgiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGRhdGEtaHJlZj0naHR0cHM6Ly93d3cuaHVhd2VpY2xvdWQuY29tLz9mcm9tYWNjdD1kMGQxZjRhZi1jZjc5LTQ1ZTEtYTJkMy03MjY0YjY5YzVmNjAmdXRtX3NvdXJjZT1lbWhoYm1kd2MxOWpjSE09PSZ1dG1fbWVkaXVtPWNwcyZ1dG1fY2FtcGFpZ249MjAxOTA1Jz7ljY7kuLrkupE8L2E+CgkJCQkJJm5ic3A7Jm5ic3A7PGEgc2VydmVyLWNsaWNrPSJXOTkwMVgiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGRhdGEtaHJlZj0naHR0cHM6Ly9jbG91ZC5iYWlkdS5jb20vJz7nmb7luqbkupE8L2E+CgkJCQkJJm5ic3A7Jm5ic3A7PGEgc2VydmVyLWNsaWNrPSJXOTkwMVgiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGRhdGEtaHJlZj0iaHR0cHM6Ly9iYW5kd2Fnb25ob3N0LmNvbS9hZmYucGhwP2FmZj02NjAyOCI+5pCs55Om5belKOWFjeWkh+ahiOOAgee+juWbveOAgemcgOe/u+WimSk8L2E+CgkJCQk8L2Rpdj4KCQkJYDsKCQl0cnl7CgkJCWxldCBxdWVyeSA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldFBhcmFtdGVyUXVlcnlVcmwoc2VhcmNoLCAicSIpCgkJCQl8fCBjb21tb25GdW5jdGlvbk9iamVjdC5nZXRQYXJhbXRlclF1ZXJ5VXJsKHNlYXJjaCwgIndkIikKCQkJCXx8IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldFBhcmFtdGVyUXVlcnlVcmwoc2VhcmNoLCAicXVlcnkiKTsKCQkJaWYoISFxdWVyeSl7CgkJCQlxdWVyeSA9IGRlY29kZVVSSUNvbXBvbmVudChxdWVyeSk7CgkJCQlsZXQgZmlsdGVycyA9IFsi5pyN5Yqh5ZmoIiwi5LqR5pyN5YqhIiwi5LqR6K6h566XIiwi6IW+6K6v5LqRIiwi5LqR5biC5Zy6Iiwi6Zi/6YeM5LqRIiwi55m+5bqm5LqRIiwi5Y2O5Li65LqRIiwgInNlcnZlciIsICJob3N0d2luZHMiLAoJCQkJCSJtaWNyb3NvZnQiLCJhbWF6b24iLCLlnZrmnpzkupEiLCLkuprpqazpgIrkupEiLCLlvq7ova/kupEiXS5maWx0ZXIoKGl0ZW0sIGksIGFycikgPT4gewoJCQkJCXJldHVybiBxdWVyeS5pbmRleE9mKGl0ZW0pIT0tMTsKCQkJCX0pOwoJCQkJaWYoZmlsdGVycy5sZW5ndGghPTApewoJCQkJCWlmKGhvc3Q9PT0id3d3Lmdvb2dsZS5jb20iIHx8IGhvc3Q9PT0id3d3Lmdvb2dsZS5jb20uaGsiKXsKCQkJCQkJJCgiI2V4dGFiYXIiKS5hcHBlbmQoc2VydmVySFRNTCk7CgkJCQkJfWVsc2UgaWYoaG9zdD09PSJ3d3cuYmluZy5jb20iIHx8IGhvc3Q9PT0iY24uYmluZy5jb20iKXsKCQkJCQkJJCgiI2JfdHdlZW4iKS5hZnRlcihgPGRpdiBzdHlsZT0icGFkZGluZy1sZWZ0OjIwcHg7Ij5gK3NlcnZlckhUTUwrYDxkaXY+YCk7CgkJCQkJfQoJCQkJCSQoImFbc2VydmVyLWNsaWNrPSdXOTkwMVgnXSIpLmNsaWNrKGZ1bmN0aW9uKCl7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNb3BlbkluVGFiKCQodGhpcykuYXR0cigiZGF0YS1ocmVmIikpOwoJCQkJCX0pOwoJCQkJfQoJCQl9CgkJfWNhdGNoKGUpe30KCX07Cgl0aGlzLnNob3cgPSBmdW5jdGlvbigpewoJCWNvbnN0IHNlbGYgPSB0aGlzOwoJCWNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDsKCQljb25zdCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJaWYoKGhvc3Q9PT0id3d3LmJhaWR1LmNvbSIpCgkJCXx8IChob3N0PT09Ind3dy5zby5jb20iICYmIGhyZWYuaW5kZXhPZigid3d3LnNvLmNvbS9zIikhPS0xKQoJCQl8fCAoaG9zdD09PSJ3d3cuc29nb3UuY29tIiAmJiAoaHJlZi5pbmRleE9mKCJ3d3cuc29nb3UuY29tL3dlYiIpIT0tMSB8fCBocmVmLmluZGV4T2YoInd3dy5zb2dvdS5jb20vc29nb3UiKSE9LTEpKQoJCQl8fCAoaG9zdD09PSJjbi5iaW5nLmNvbSIgJiYgaHJlZi5pbmRleE9mKCJjbi5iaW5nLmNvbS9zZWFyY2giKSE9LTEpCgkJCXx8IChob3N0PT09Ind3dy5iaW5nLmNvbSIgJiYgaHJlZi5pbmRleE9mKCJ3d3cuYmluZy5jb20vc2VhcmNoIikhPS0xKQoJCQl8fCAoaG9zdD09PSJ3d3c0LmJpbmcuY29tIiAmJiBocmVmLmluZGV4T2YoInd3dzQuYmluZy5jb20vc2VhcmNoIikhPS0xKQoJCQl8fCAoaG9zdD09PSJzby50b3V0aWFvLmNvbSIgJiYgaHJlZi5pbmRleE9mKCJzby50b3V0aWFvLmNvbS9zZWFyY2giKSE9LTEpCgkJCXx8IChob3N0PT09Ind3dy5nb29nbGUuY29tIiAmJiBocmVmLmluZGV4T2YoInd3dy5nb29nbGUuY29tL3NlYXJjaCIpIT0tMSkKCQkJfHwgKGhvc3Q9PT0id3d3Lmdvb2dsZS5jb20uaGsiICYmIGhyZWYuaW5kZXhPZigid3d3Lmdvb2dsZS5jb20uaGsvc2VhcmNoIikhPS0xKSl7CgkJCWxldCBjdXJyZW50U2VhcmNoRW5naW5lc0RhdGEgPSBudWxsOwoJCQlmb3IodmFyIGk9MDsgaTxzZWxmLnNlYXJjaEVuZ2luZXNEYXRhLmxlbmd0aDsgaSsrKXsKCQkJCWlmKGhvc3Q9PT1zZWxmLnNlYXJjaEVuZ2luZXNEYXRhW2ldLmhvc3QpewoJCQkJCWN1cnJlbnRTZWFyY2hFbmdpbmVzRGF0YSA9IHNlbGYuc2VhcmNoRW5naW5lc0RhdGFbaV07CgkJCQl9CgkJCX0KCQkJaWYoY3VycmVudFNlYXJjaEVuZ2luZXNEYXRhIT1udWxsKXsKCQkJCXNlbGYuZ2V0TmF2aWdhdGlvbkRhdGEoY3VycmVudFNlYXJjaEVuZ2luZXNEYXRhLmVsZW1lbnQsIGN1cnJlbnRTZWFyY2hFbmdpbmVzRGF0YS5lbGVtZW50SW5wdXQpOwoJCQl9CgkJCXNlbGYuaG9va3MoKTsKCQl9Cgl9OwoJdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7CgkJdGhpcy5zaG93KCk7Cgl9Owp9CnRyeXsKCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIgfHwgZnVuY3Rpb25Db250cm9sbGVyLnNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uKXsKCQkobmV3IFNlYXJjaEVuZ2luZXNOYXZpZ2F0aW9uKCkpLnN0YXJ0KCk7Cgl9Cn1jYXRjaChlKXsKCWNvbnNvbGUubG9nKCLmkJzntKLlvJXmk47lr7zoiKrvvJplcnJvcu+8miIrZSk7Cn0KCWZ1bmN0aW9uIFF1ZXJ5Q291cG9uKCl7Cgl0aGlzLmlzUnVuID0gZnVuY3Rpb24oKXsKCQl2YXIgdXJscz1bImRldGFpbC50bWFsbC5jb20iLCAiaXRlbS50YW9iYW8uY29tIiwgIml0ZW0uamQuY29tIiwgIml0ZW0ueWl5YW9qZC5jb20iLAoJCQkibnBjaXRlbS5qZC5oayIsICJkZXRhaWwudG1hbGwuaGsiLCAiZGV0YWlsLnZpcC5jb20iLCAid3d3LnZpcGdsb2JhbC5oayJdOwoJCWZvcih2YXIgaT0wOyBpPHVybHMubGVuZ3RoO2krKyl7CgkJCWlmKHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YodXJsc1tpXSkhPS0xKXsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCXRoaXMuZ2V0R29vZHNEYXRhID0gYXN5bmMgZnVuY3Rpb24ocGxhdGZvcm0pewoJCXZhciBnb29kc0lkID0gIiI7CgkJdmFyIGdvb2RzTmFtZSA9ICIiOwoJCXZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJaWYocGxhdGZvcm09PSJ0YW9iYW8iKXsKCQkJZ29vZHNJZCA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldFBhcmFtdGVyUXVlcnlVcmwod2luZG93LmxvY2F0aW9uLnNlYXJjaCwgImlkIik7CgkJCXRyeXsKCQkJCWxldCB0aXRsZU9iaiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50Yi1tYWluLXRpdGxlIik7CgkJCQlpZighdGl0bGVPYmopewoJCQkJCXRpdGxlT2JqID0gYXdhaXQgY29tbW9uRnVuY3Rpb25PYmplY3QuZ2V0RWxlbWVudE9iamVjdCgiW2NsYXNzXj0nSXRlbUhlYWRlci0tbWFpblRpdGxlLS0nXSIsIGZhbHNlLCAxMCwgNTAwKTsKCQkJCX0KCQkJCWlmKCEhdGl0bGVPYmopewoJCQkJCWdvb2RzTmFtZSA9IHRpdGxlT2JqLnRleHRDb250ZW50OwoJCQkJfQoJCQl9Y2F0Y2goZSl7fQoJCX1lbHNlIGlmKHBsYXRmb3JtPT0idG1hbGwiKXsKCQkJZ29vZHNJZCA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldFBhcmFtdGVyUXVlcnlVcmwod2luZG93LmxvY2F0aW9uLnNlYXJjaCwgImlkIik7CgkJCXRyeXsKCQkJCWNvbnN0IHRpdGxlT2JqID0gYXdhaXQgY29tbW9uRnVuY3Rpb25PYmplY3QuZ2V0RWxlbWVudE9iamVjdCgiW2NsYXNzXj0nSXRlbUhlYWRlci0tbWFpblRpdGxlLS0nXSIsIGZhbHNlLCAxMCwgNTAwKTsKCQkJCWdvb2RzTmFtZSA9IHRpdGxlT2JqLnRleHRDb250ZW50OwoJCQl9Y2F0Y2goZSl7fQoKCQl9ZWxzZSBpZihwbGF0Zm9ybT09ImpkIil7CgkJCWdvb2RzSWQgPSBjb21tb25GdW5jdGlvbk9iamVjdC5nZXRFbmRIdG1sSWRCeVVybChocmVmKTsKCQkJdHJ5ewoJCQkJY29uc3QgdGl0bGVPYmogPSBhd2FpdCBjb21tb25GdW5jdGlvbk9iamVjdC5nZXRFbGVtZW50T2JqZWN0KCJbY2xhc3M9J3NrdS1uYW1lJ10iLCBmYWxzZSwgMTAsIDUwMCk7CgkJCQlnb29kc05hbWUgPSB0aXRsZU9iai50ZXh0Q29udGVudDsKCQkJfWNhdGNoKGUpe30KCQl9ZWxzZSBpZihwbGF0Zm9ybT09InZwaW5odWkiKXsKCQkJZ29vZHNJZCA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldEVuZEh0bWxJZEJ5VXJsKGhyZWYpLnJlcGxhY2UoImRldGFpbC0iLCIiKTsKCQkJdHJ5ewoJCQkJY29uc3QgdGl0bGVPYmogPSBhd2FpdCBjb21tb25GdW5jdGlvbk9iamVjdC5nZXRFbGVtZW50T2JqZWN0KCJbY2xhc3M9J3BpYi10aXRsZS1kZXRhaWwnXSIsIGZhbHNlLCAxMCwgNTAwKTsKCQkJCWdvb2RzTmFtZSA9IHRpdGxlT2JqLnRleHRDb250ZW50OwoJCQl9Y2F0Y2goZSl7fQoJCX0KCQl2YXIgZGF0YT17Imdvb2RzSWQiOmdvb2RzSWQsICJnb29kc05hbWUiOmNvbW1vbkZ1bmN0aW9uT2JqZWN0LmZpbHRlclN0cihnb29kc05hbWUpfTsKCQlyZXR1cm4gZGF0YTsKCX07Cgl0aGlzLnJhbmRvbVNwbVZhbHVlPWZ1bmN0aW9uKCl7CgkJJCgibWV0YVtuYW1lPSdkYXRhLXNwbSddIikuZWFjaChmdW5jdGlvbigpewoJCQl2YXIgbWF4ID0gNTAwMDsKCQkJdmFyIG1pbiA9IDEwMDA7CgkJCXZhciByYW5kb21WYWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSApICsgbWluOwoJCQl2YXIgcmFuZG9tTGV0dGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogMjYpICsgImEiLmNoYXJDb2RlQXQoMCkpOwoJCQkkKHRoaXMpLmF0dHIoImNvbnRlbnQiLCByYW5kb21WYWx1ZStyYW5kb21MZXR0ZXIpOwoJCX0pOwoJCSQoIm1ldGFbbmFtZT0nc3BtLWlkJ10iKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCXZhciBtYXggPSA1MDAwOwoJCQl2YXIgbWluID0gMTAwMDsKCQkJdmFyIHJhbmRvbVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICkgKyBtaW47CgkJCXZhciByYW5kb21MZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAyNikgKyAiYSIuY2hhckNvZGVBdCgwKSk7CgkJCSQodGhpcykuYXR0cigiY29udGVudCIsIHJhbmRvbVZhbHVlK3JhbmRvbUxldHRlcik7CgkJfSk7CgkJJCgiYm9keSIpLmZpbmQoIioiKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCSQodGhpcykucmVtb3ZlQXR0cigiZGF0YS1zcG0tYW5jaG9yLWlkIik7CgkJCSQodGhpcykucmVtb3ZlQXR0cigiZGF0YS1zcG0iKTsKCQl9KTsKCX07Cgl0aGlzLnJ1bkFsaURlY2VwdGlvblNwbT1mdW5jdGlvbigpIHsKCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKCJhbGl5dW4uY29tIikhPS0xIHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YoInRhb2Jhby5jb20iKSE9LTEgfHwgd2luZG93LmxvY2F0aW9uLmhvc3QuaW5kZXhPZigidG1hbGwuY29tIikhPS0xKXsKCQkJdGhpcy5yYW5kb21TcG1WYWx1ZSgpOwoJCQlzZXRJbnRlcnZhbCgoKT0+ewoJCQkJdGhpcy5yYW5kb21TcG1WYWx1ZSgpOwoJCQl9LCAyMDAwKTsKCQl9Cgl9OwoJdGhpcy5yZXF1ZXN0ID0gZnVuY3Rpb24obW90aGVkLCB1cmwsIHBhcmFtKXsKCQlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXsKCQkJR01feG1saHR0cFJlcXVlc3QoewoJCQkJdXJsOiB1cmwsCgkJCQltZXRob2Q6IG1vdGhlZCwKCQkJCWRhdGE6cGFyYW0sCgkJCQlvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJdmFyIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1czsKCQkJCQl2YXIgcGxheXVybCA9ICIiOwoJCQkJCWlmKHN0YXR1cz09MjAwfHxzdGF0dXM9PScyMDAnKXsKCQkJCQkJdmFyIHJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKCQkJCQkJcmVzb2x2ZSh7InJlc3VsdCI6InN1Y2Nlc3MiLCAianNvbiI6cmVzcG9uc2VUZXh0fSk7CgkJCQkJfWVsc2V7CgkJCQkJCXJlamVjdCh7InJlc3VsdCI6ImVycm9yIiwgImpzb24iOm51bGx9KTsKCQkJCQl9CgkJCQl9CgkJCX0pOwoJCX0pCgl9OwoJdGhpcy5jcmVhdGVRcmNvZGUgPSBhc3luYyBmdW5jdGlvbihwbGF0Zm9ybSwgbXNjYW4pewoJCWlmKCFtc2NhbiB8fCBtc2Nhbj09PSJudWxsIiB8fCAhbXNjYW4uaGFzT3duUHJvcGVydHkoIm1vdW50IikKCQkJfHwgIW1zY2FuLmhhc093blByb3BlcnR5KCJodG1sIil8fCAhbXNjYW4uaGFzT3duUHJvcGVydHkoInFyY29kZSIpKXsKCQkJcmV0dXJuOwoJCX0KCQljb25zdCB7bW91bnQsIGh0bWwsIHFyY29kZSwgaWRlbn0gPSBtc2NhbjsKCQlpZighIW1vdW50ICYmICEhaHRtbCAmJiAhIXFyY29kZSAmJiAhIWlkZW4pewoJCQkkKG1vdW50KS5hcHBlbmQoaHRtbCk7CgkJCXZhciBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1zY2FuIitpZGVuKTsKCQkJdmFyIHdpZHRoID0gY2FudmFzRWxlbWVudC5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgkJCXZhciBoZWlnaHQgPSBjYW52YXNFbGVtZW50LmdldEF0dHJpYnV0ZSgiaGVpZ2h0Iik7CgkJCXZhciBjeHQgPSBjYW52YXNFbGVtZW50LmdldENvbnRleHQoIjJkIik7CgkJCXZhciBpbWdEYXRhID0gbmV3IEltYWdlKCk7CgkJCWltZ0RhdGEuc3JjID0gcXJjb2RlOwoJCQlpbWdEYXRhLm9ubG9hZD1mdW5jdGlvbigpewoJCQkJY3h0LmRyYXdJbWFnZShpbWdEYXRhLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKCQkJfQoJCX0KCX07Cgl0aGlzLmNyZWF0ZUNvdXBvbiA9IGFzeW5jIGZ1bmN0aW9uKHBsYXRmb3JtLCBkYXRhKXsKCQlpZighZGF0YSB8fCBkYXRhPT09Im51bGwiIHx8ICFkYXRhLmhhc093blByb3BlcnR5KCJjc3MiKSB8fCAhZGF0YS5oYXNPd25Qcm9wZXJ0eSgiaHRtbCIpfHwgIWRhdGEuaGFzT3duUHJvcGVydHkoImhhbmRsZXIiKSl7CgkJCXJldHVybjsKCQl9CgkJY29uc3QgY3NzVGV4dCA9IGRhdGEuY3NzLCBodG1sVGV4dCA9IGRhdGEuaHRtbCwgaGFuZGxlciA9IGRhdGEuaGFuZGxlciwgdGVtcGxhdGVJZCA9IGRhdGEudGVtcGxhdGVJZDsKCQlpZighY3NzVGV4dCB8fCAhaHRtbFRleHQgfHwgIWhhbmRsZXIpewoJCQlyZXR1cm47CgkJfQoJCSQoImJvZHkiKS5wcmVwZW5kKCI8c3R5bGU+Iitjc3NUZXh0KyI8L3N0eWxlPiIpOwoKCQl2YXIgaGFuZGxlcnMgPSBoYW5kbGVyLnNwbGl0KCJAIik7CgkJZm9yKHZhciBpPTA7IGk8aGFuZGxlcnMubGVuZ3RoOyBpKyspewoJCQl2YXIgJGhhbmRsZXIgPSAkKCIiK2hhbmRsZXJzW2ldKyIiKTsKCQkJaWYocGxhdGZvcm09PSJ0YW9iYW8iKXsKCQkJCSRoYW5kbGVyLnBhcmVudCgpLmFmdGVyKGh0bWxUZXh0KTsKCQkJfWVsc2UgaWYocGxhdGZvcm09PSJ0bWFsbCIpewoJCQkJJGhhbmRsZXIucGFyZW50KCkuYWZ0ZXIoaHRtbFRleHQpOwoJCQl9ZWxzZSBpZihwbGF0Zm9ybT09ImpkIil7CgkJCQkkaGFuZGxlci5hZnRlcihodG1sVGV4dCk7CgkJCX1lbHNlIGlmKHBsYXRmb3JtPT0idnBpbmh1aSIpewoJCQkJJGhhbmRsZXIuYWZ0ZXIoaHRtbFRleHQpOwoJCQl9CgkJfQoKCQljb25zdCAkbGxrayA9ICQoIiMiK3RlbXBsYXRlSWQpOwoJCWlmKCRsbGtrLmxlbmd0aCA9PSAwKXsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgY291cG9uSWQgPSAkbGxray5kYXRhKCJpZCIpOwoJCWNvbnN0IGdvb2RzUHJpdmF0ZVVybCA9ICJodHRwOi8vdHQuc2h1cWlhbmRpcWl1LmNvbS9hcGkvcHJpdmF0ZS9jaGFuZ2UvY291cG9uP25vPTUmdj0xLjAuMiZwbGF0Zm9ybT0iK3BsYXRmb3JtKyImaWQ9IjsKCgkJaWYoIS9cZC8udGVzdChjb3Vwb25JZCkpewoJCQlyZXR1cm47CgkJfQoKCQlzZXRJbnRlcnZhbCgoKT0+ewoJCQkkbGxray5maW5kKCIqIikuZWFjaChmdW5jdGlvbigpewoJCQkJJCh0aGlzKS5yZW1vdmVBdHRyKCJkYXRhLXNwbS1hbmNob3ItaWQiKTsKCQkJfSk7CgkJfSw0MDApOwoKCQljb25zdCBjb3Vwb25FbGVtZW50QSA9ICRsbGtrLmZpbmQoImFbbmFtZT0nY3BTaFVybCddIik7CgkJY291cG9uRWxlbWVudEEudW5iaW5kKCJjbGljayIpLmJpbmQoImNsaWNrIiwgKCk9PnsKCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCXRoaXMucmVxdWVzdCgiR0VUIiwgZ29vZHNQcml2YXRlVXJsK2NvdXBvbklkLCBudWxsKS50aGVuKChwcml2YXRlUmVzdWx0RGF0YSk9PnsKCQkJCWlmKHByaXZhdGVSZXN1bHREYXRhLnJlc3VsdD09PSJzdWNjZXNzIiAmJiAhIXByaXZhdGVSZXN1bHREYXRhLmpzb24pewoJCQkJCWxldCB1cmwgPSBKU09OLnBhcnNlKHByaXZhdGVSZXN1bHREYXRhLmpzb24pLnVybDsKCQkJCQlpZighIXVybCkgR01fb3BlbkluVGFiKHVybCwge2FjdGl2ZTp0cnVlfSk7CgkJCQl9CgkJCX0pOwoJCX0pOwoKCQkvL2NhbnZhc+eUu+S6jOe7tOeggQoJCXZhciAkY2FudmFzRWxlbWVudCA9ICQoIiNjYSIrdGVtcGxhdGVJZCk7CgkJaWYoJGNhbnZhc0VsZW1lbnQubGVuZ3RoID09IDApewoJCQlyZXR1cm47CgkJfQoJCWNvbnN0IHFyY29kZVJlc3VsdERhdGEgPSBhd2FpdCB0aGlzLnJlcXVlc3QoIkdFVCIsIGdvb2RzUHJpdmF0ZVVybCtjb3Vwb25JZCwgbnVsbCk7CgkJaWYoISFxcmNvZGVSZXN1bHREYXRhICYmIHFyY29kZVJlc3VsdERhdGEucmVzdWx0PT09InN1Y2Nlc3MiICYmICEhcXJjb2RlUmVzdWx0RGF0YS5qc29uKXsKCQkJbGV0IGltZyA9IEpTT04ucGFyc2UocXJjb2RlUmVzdWx0RGF0YS5qc29uKS5pbWc7CgkJCWlmKCEhaW1nKXsKCQkJCXZhciBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhIit0ZW1wbGF0ZUlkKTsKCQkJCXZhciB3aWR0aCA9IGNhbnZhc0VsZW1lbnQuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpOwoJCQkJdmFyIGhlaWdodCA9IGNhbnZhc0VsZW1lbnQuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKTsKCQkJCXZhciBjeHQgPSBjYW52YXNFbGVtZW50LmdldENvbnRleHQoIjJkIik7CgkJCQl2YXIgaW1nRGF0YSA9IG5ldyBJbWFnZSgpOwoJCQkJaW1nRGF0YS5zcmMgPSBpbWc7CgkJCQlpbWdEYXRhLm9ubG9hZD1mdW5jdGlvbigpewoJCQkJCWN4dC5kcmF3SW1hZ2UoaW1nRGF0YSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7CgkJCQl9CgkJCX0KCQl9Cgl9OwoJdGhpcy5jcmVhdGVIdG1sID0gYXN5bmMgZnVuY3Rpb24ocGxhdGZvcm0sIGdvb2RzSWQsIGdvb2RzTmFtZSl7CgkJaWYoIXBsYXRmb3JtIHx8ICFnb29kc0lkKXsKCQkJcmV0dXJuOwoJCX07CgkJbGV0IGFkZGl0aW9uID0gIiI7CgkJaWYocGxhdGZvcm09PSJ2cGluaHVpIil7CgkJCWNvbnN0IHZpcCA9IGdvb2RzSWQuc3BsaXQoIi0iKTsKCQkJYWRkaXRpb24gPSB2aXBbMF07CgkJCWdvb2RzSWQgPSB2aXBbMV07CgkJfQoJCWNvbnN0IGdvb2RzQ291cG9uVXJsID0gImh0dHA6Ly90dC5zaHVxaWFuZGlxaXUuY29tL2FwaS9jb3Vwb24vZGlzY292ZXI/bm89NSZ2PTEuMC4yJnBsPSIrcGxhdGZvcm0rIiZpZD0iK2dvb2RzSWQrIiZxdT0iK2dvb2RzTmFtZSsiJmFkZGl0aW9uPSIrYWRkaXRpb247CgkJdHJ5ewoJCQljb25zdCByZXN1dERhdGEgPSBhd2FpdCB0aGlzLnJlcXVlc3QoIkdFVCIsIGdvb2RzQ291cG9uVXJsLCBudWxsKTsKCQkJaWYoISFyZXN1dERhdGEgJiYgcmVzdXREYXRhLnJlc3VsdD09PSJzdWNjZXNzIiAmJiAhIXJlc3V0RGF0YS5qc29uKXsKCQkJCWNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHJlc3V0RGF0YS5qc29uKTsKCQkJCXRoaXMuY3JlYXRlQ291cG9uKHBsYXRmb3JtLCBqc29uLmRhdGEpOwoJCQkJdGhpcy5jcmVhdGVRcmNvZGUocGxhdGZvcm0sIGpzb24ubXNjYW4pOwoJCQl9CgkJfWNhdGNoKGUpewoJCQljb25zb2xlLmxvZygiY3JlYXRlQ291cG9uSHRtbCIsZSk7CgkJfQoJfTsKCXRoaXMuc3RhcnQgPSBhc3luYyBmdW5jdGlvbigpewoJCWlmKHRoaXMuaXNSdW4oKSl7CgkJCXRoaXMucnVuQWxpRGVjZXB0aW9uU3BtKCk7CgkJCXZhciBwbGF0Zm9ybSA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldEVjb21tZXJjZVBsYXRmb3JtKCk7CgkJCWlmKCFwbGF0Zm9ybSkgcmV0dXJuOwoJCQkvL+WmguaenHNrdeWkquWkmuWwseaKmOWPoCzkuI3nhLbnp7vliqjnq6/kvZPpqozlpKrlt67kuoYKCQkJaWYocGxhdGZvcm09PSJ0bWFsbCIgfHwgcGxhdGZvcm09PSJ0YW9iYW8iKXsKCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldEVsZW1lbnRPYmplY3QoIltjbGFzcz0nc2t1SXRlbVdyYXBwZXInXSIsIGZhbHNlLCAxMCwgMTUwMCkudGhlbigoc2t1SXRlbVdyYXBwZXIpPT57CgkJCQkJaWYoc2t1SXRlbVdyYXBwZXIgIT0gbnVsbCl7CgkJCQkJCWNvbnN0IHsgc3R5bGUgfSA9IHNrdUl0ZW1XcmFwcGVyOwoJCQkJCQlzdHlsZS5tYXhIZWlnaHQgPSAiMzUwcHgiOwoJCQkJCQlzdHlsZS5vdmVyZmxvdyA9ICJhdXRvIjsKCQkJCQl9CgkJCQl9KS5jYXRjaCgoKT0+e30pOwoJCQl9CgkJCWNvbnN0IGdvb2RzRGF0YSA9IGF3YWl0IHRoaXMuZ2V0R29vZHNEYXRhKHBsYXRmb3JtKTsKCQkJdGhpcy5jcmVhdGVIdG1sKHBsYXRmb3JtLCBnb29kc0RhdGEuZ29vZHNJZCwgZ29vZHNEYXRhLmdvb2RzTmFtZSk7CgkJfQoJfTsKfQpmdW5jdGlvbiBTZWFyY2hQYWdlT2JqZWN0KCl7Cgl0aGlzLmludGVydmFsSXNSdW5Db21wbGV0ZSA9IHRydWU7ICAvL+WumuaXtuS7u+WKoeS4gOS4quW+queOr+aYr+WQpuWujOaIkAoJdGhpcy5waWNrdXBTZWFyY2hFbGVtZW50cyA9IGZ1bmN0aW9uKCl7IC8v5pS26ZuG5YiX6KGo55qE5YWD57SgCgkJY29uc3Qgc2VsZWN0b3JFbGVtZW50TGlzdCA9IG5ldyBBcnJheSgpOwoJCWNvbnN0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwoJCWlmKHVybC5pbmRleE9mKCI6Ly9zLnRhb2Jhby5jb20vc2VhcmNoIikhPS0xIHx8IHVybC5pbmRleE9mKCI6Ly9zLnRhb2Jhby5jb20vbGlzdCIpIT0tMSkgeyAvL+a3mOWuneaQnOe0oumhtemdogoJCQlzZWxlY3RvckVsZW1lbnRMaXN0LnB1c2goeyJlbGVtZW50IjoiLml0ZW1zID4uaXRlbSIsICJwYWdlIjoidGFvYmFvIn0pOwoKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6Ii5Db250ZW50LS1jb250ZW50LS1zZ1NDWjEyIC5DYXJkLS1kb3VibGVDYXJkV3JhcHBlci0tTDJYRkU3MyIsICJwYWdlIjoidGFvYmFvX25ldyJ9KTsKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6Ii5Db250ZW50LS1jb250ZW50LS1zZ1NDWjEyIC5DYXJkLS1saXN0Q2FyZFdyYXBwZXItLWF4MDlPZlQiLCAicGFnZSI6InRhb2Jhb19uZXcifSk7CgkJCXNlbGVjdG9yRWxlbWVudExpc3QucHVzaCh7ImVsZW1lbnQiOiIuQ29udGVudC0tY29udGVudC0tc2dTQ1oxMiAuQ2FyZC0tZG91YmxlQ2FyZFdyYXBwZXJNYWxsLS11UG1vNUJ6IiwgInBhZ2UiOiJ0YW9iYW9fbmV3In0pOwoJCQlzZWxlY3RvckVsZW1lbnRMaXN0LnB1c2goeyJlbGVtZW50IjoiLkNvbnRlbnQtLWNvbnRlbnQtLXNnU0NaMTIgLkNhcmQtLWxpc3RDYXJkV3JhcHBlck1hbGwtLUUzakk4TDQiLCAicGFnZSI6InRhb2Jhb19uZXcifSk7CgoJCX1lbHNlIGlmKHVybC5pbmRleE9mKCJ0YW9iYW8uY29tL2NhdGVnb3J5IikhPS0xKXsgLy/mt5jlrp3lupfpk7rliIbnsbsKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6ImRsLml0ZW0iLCAicGFnZSI6InRhb2Jhb19jYXRlZ29yeSJ9KTsKCQl9ZWxzZSBpZih1cmwuaW5kZXhPZigidGFvYmFvLmNvbS9zZWFyY2guaHRtIikhPS0xKXsgLy/mt5jlrp3lupfpk7rmkJzntKIKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6ImRsLml0ZW0iLCAicGFnZSI6InRhb2Jhb19zaG9wX3NlYXJjaCJ9KTsKCQl9CgkJZWxzZSBpZiAodXJsLmluZGV4T2YoIjovL2xpc3QudG1hbGwuY29tL3NlYXJjaF9wcm9kdWN0Lmh0bSIpIT0tMSB8fCB1cmwuaW5kZXhPZigiOi8vbGlzdC50bWFsbC5jb20vL3NlYXJjaF9wcm9kdWN0Lmh0bSIpIT0tMQoJCQl8fCB1cmwuaW5kZXhPZigiOi8vbGlzdC50bWFsbC5jb20vY291ZGFuL3NlYXJjaF9wcm9kdWN0Lmh0bSIpIT0tMSkgeyAvL+WkqeeMq+i2heW4ggoKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6Ii5wcm9kdWN0IiwgInBhZ2UiOiJ0bWFsbF9jaGFvc2hpX3NlYXJjaCJ9KTsKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6Ii5jaGFvc2hpLXJlY29tbWVuZC1saXN0IC5jaGFvc2hpLXJlY29tbWVuZC1pdGVtIiwgInBhZ2UiOiJ0bWFsbF9jaGFvc2hpX3NlYXJjaF9uZXcifSk7IC8v5paw5aSp54yr6LaF5biCCgoJCX1lbHNlIGlmICh1cmwuaW5kZXhPZigiLy9saXN0LnRtYWxsLmhrL3NlYXJjaF9wcm9kdWN0IikhPS0xKSB7IC8v5aSp54yr5Zu96ZmFCgkJCXNlbGVjdG9yRWxlbWVudExpc3QucHVzaCh7ImVsZW1lbnQiOiIjSl9JdGVtTGlzdCAucHJvZHVjdCIsICJwYWdlIjoidG1hbGxfaGsifSk7CgkJfWVsc2UgaWYodXJsLmluZGV4T2YoInRtYWxsLmNvbS9jYXRlZ29yeS0iKSE9LTEpeyAvL+WkqeeMq+WIhuexuwoJCQlzZWxlY3RvckVsZW1lbnRMaXN0LnB1c2goeyJlbGVtZW50IjoiI0pfU2hvcFNlYXJjaFJlc3VsdCBkbC5pdGVtIiwgInBhZ2UiOiJ0bWFsbF9jYXRlZ29yeSJ9KTsKCQl9ZWxzZSBpZih1cmwuaW5kZXhPZigidG1hbGwuY29tL2NhdGVnb3J5LSIpIT0tMSl7IC8v5aSp54yr5peX6Iiw5bqX5YiG57G7CgkJCXNlbGVjdG9yRWxlbWVudExpc3QucHVzaCh7ImVsZW1lbnQiOiIjSl9TaG9wU2VhcmNoUmVzdWx0IGRsLml0ZW0iLCAicGFnZSI6InRtYWxsX2NhdGVnb3J5In0pOwoJCX1lbHNlIGlmKHVybC5pbmRleE9mKCIudG1hbGwuY29tL3Nob3Avdmlld19zaG9wLmh0bSIpIT0tMSl7IC8v5aSp54yr5peX6Iiw5YWo6YOo5bGV56S6CgkJCXNlbGVjdG9yRWxlbWVudExpc3QucHVzaCh7ImVsZW1lbnQiOiJkbC5pdGVtIiwgInBhZ2UiOiJ0bWFsbF9zaG9wXzAxIn0pOwoJCX1lbHNlIGlmKHVybC5pbmRleE9mKCIudG1hbGwuY29tL3NlYXJjaC5odG0iKSE9LTEpewoJCQlzZWxlY3RvckVsZW1lbnRMaXN0LnB1c2goeyJlbGVtZW50IjoiZGwuaXRlbSIsICJwYWdlIjoidG1hbGxfc2hvcF9zZWFyY2gifSk7CgkJfQoJCWVsc2UgaWYodXJsLmluZGV4T2YoIi8vbWFpeWFvLmxpYW5neGlueWFvLmNvbS9zaG9wL3ZpZXdfc2hvcC5odG0iKSE9LTEKCQkJfHwgdXJsLmluZGV4T2YoIi8vbWFpeWFvLmxpYW5neGlueWFvLmNvbS9zZWFyY2guaHRtIikhPS0xCgkJCXx8IHVybC5pbmRleE9mKCIvL21haXlhby5saWFuZ3hpbnlhby5jb20vY2F0ZWdvcnkiKSE9LTEpeyAvL+mYv+mHjOWkp+iNr+aIvwoJCQlzZWxlY3RvckVsZW1lbnRMaXN0LnB1c2goeyJlbGVtZW50IjoiI0pfU2hvcFNlYXJjaFJlc3VsdCBkbC5pdGVtIiwgInBhZ2UiOiJhbGlfeWFvIn0pOwoJCX0KCQllbHNlIGlmICh1cmwuaW5kZXhPZigiLy9zZWFyY2guamQuY29tL1NlYXJjaCIpIT0tMSB8fCB1cmwuaW5kZXhPZigiLy9zZWFyY2guamQuY29tL3NlYXJjaCIpIT0tMSkgeyAvL+S6rOS4nOaQnOe0ogoJCQlzZWxlY3RvckVsZW1lbnRMaXN0LnB1c2goeyJlbGVtZW50IjoiI0pfZ29vZHNMaXN0IGxpLmdsLWl0ZW0iLCAicGFnZSI6ImpkX3NlYXJjaCJ9KTsKCQl9ZWxzZSBpZih1cmwuaW5kZXhPZigiLy9zZWFyY2guamQuaGsvU2VhcmNoIikhPS0xKXsgLy/kuqzkuJzlm73pmYVodHRwczovL3NlYXJjaC5qZC5oay9TZWFyY2g/a2V5d29yZD1kcwoJCQlzZWxlY3RvckVsZW1lbnRMaXN0LnB1c2goeyJlbGVtZW50IjoiI3BsaXN0IGxpLmdsLWl0ZW0iLCAicGFnZSI6ImpkX2hrX3NlYXJjaCJ9KTsgLy/lj6/og73lt7LlvIPnlKgKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6ImxpW2NsYXNzXj0ncHJvZHVjdExpc3RfJ10iLCAicGFnZSI6ImpkX2hrX25ld19zZWFyY2gifSk7Ly8yMDI0MDExOea3u+WKoAoJCX1lbHNlIGlmKHVybC5pbmRleE9mKCIvL21hbGwuamQuY29tL3ZpZXdfc2VhcmNoIikhPS0xKXsgLy/kuqzkuJzlpKfoja/miL8KCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6ImxpLmpTdWJPYmplY3QiLCAicGFnZSI6ImpkX3lhb19zZWFyY2gifSk7CgkJfWVsc2UgaWYodXJsLmluZGV4T2YoInd3dy5qZC5jb20iKSE9LTEgJiYgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lPT0iLyIpewoJCQlzZWxlY3RvckVsZW1lbnRMaXN0LnB1c2goeyJlbGVtZW50IjoiI2ZlZWRDb250ZW50MCBsaS5tb3JlMl9pdGVtX2dvb2QiLCAicGFnZSI6ImpkX2hvbWVwYWdlIn0pOwoJCX0KCQllbHNlIGlmKHVybC5pbmRleE9mKCJjYXRlZ29yeS52aXAuY29tL3N1Z2dlc3QucGhwIikhPS0xKXsKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6IiNKX3NlYXJjaENhdExpc3QgLmMtZ29vZHMtaXRlbSIsICJwYWdlIjoidnBpbmh1aV9zZWFyY2hfcGFnZSJ9KTsKCQl9ZWxzZSBpZih1cmwuaW5kZXhPZigiOi8vbGlzdC52aXAuY29tIikhPS0xKXsKCQkJc2VsZWN0b3JFbGVtZW50TGlzdC5wdXNoKHsiZWxlbWVudCI6IiNKX3dyYXBfcHJvX2FkZCAuYy1nb29kcy1pdGVtIiwgInBhZ2UiOiJ2cGluaHVpX2xpc3QifSk7CgkJfQoJCXJldHVybiBzZWxlY3RvckVsZW1lbnRMaXN0OwoJfQoJdGhpcy5jcmVhdGVBbGxFbGVtZW50SHRtbD1mdW5jdGlvbihlbGVtZW50RGF0YSl7IC8v5Li65omA5pyJ55qE5ZWG5ZOB5Yib5bu65o+Q56S6CgkJY29uc3Qgc2VsZiA9IHRoaXM7CgkJJChlbGVtZW50RGF0YS5lbGVtZW50KS5lYWNoKGZ1bmN0aW9uKCl7ICAvL+mBjeWOhuaJgOacieeahOWVhuWTgeahhgoJCQlzZWxmLmNyZWF0ZU9uZUVsZW1lbnRIdG1sKCQodGhpcyksIGVsZW1lbnREYXRhKTsKCQl9KTsKCQlzZWxmLmludGVydmFsSXNSdW5Db21wbGV0ZSA9IHRydWU7Cgl9CgkvKioKCSAqIOS4uuWVhuWTgWJveOa3u+WKoOacieWIuOaPkOmGkgoJICogQHBhcmFtIHtPYmplY3R9ICRlbGVtZW50ICDmr4/kuIDkuKrllYblk4Fib3gKCSAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50RGF0YSBpZCBhbmQgcGFnZQoJICovCgl0aGlzLmNyZWF0ZU9uZUVsZW1lbnRIdG1sPWFzeW5jIGZ1bmN0aW9uKCRlbGVtZW50LCBlbGVtZW50RGF0YSl7ICAvL+afpeivouWIsOavj+S4quWVhuWTgWxpc3QKCQlpZigkZWxlbWVudC5hdHRyKCJpbnNwZWN0cmVzdWx0eCIpKXsgIC8v5b2T5a2Y5Zyo5pe277yM6K+05piO5bey57uP5aSE55CG6L+H5LqGCgkJCXJldHVybjsKCQl9CgkJJGVsZW1lbnQuYXR0cigiaW5zcGVjdHJlc3VsdHgiLCAidHJ1ZSIpOwoJCSRlbGVtZW50LmNzcygicG9zaXRpb24iLCJyZWxhdGl2ZSIpOwoJCXZhciBwYWdlID0gZWxlbWVudERhdGEucGFnZTsKCQl2YXIgZ29vZHNEZXRhaWxVcmwgPSBudWxsOwoKCQlpZihwYWdlPT09InRhb2JhbyIpewoJCQlnb29kc0RldGFpbFVybCA9ICRlbGVtZW50LmZpbmQoImFbaWRePSdKX0l0ZW1saXN0X1RMaW5rXyddIikuYXR0cigiaHJlZiIpOwoJCX1lbHNlIGlmKHBhZ2U9PT0idGFvYmFvX25ldyIpewoJCQlsZXQgaHJlZiA9ICRlbGVtZW50LmF0dHIoImhyZWYiKTsKCQkJZ29vZHNEZXRhaWxVcmwgPSBocmVmLmluZGV4T2YoImh0dHAiKSA9PSAtMSA/IChsb2NhdGlvbi5wcm90b2NvbCArIGhyZWYpIDogaHJlZjsKCQl9ZWxzZSBpZihwYWdlPT09InRhb2Jhb19jYXRlZ29yeSIpewoJCQlnb29kc0RldGFpbFVybCA9ICRlbGVtZW50LmZpbmQoIi5KX1RHb2xkRGF0YSIpLmF0dHIoImhyZWYiKTsKCQl9ZWxzZSBpZihwYWdlPT09InRhb2Jhb19zaG9wX3NlYXJjaCIpewoJCQlnb29kc0RldGFpbFVybCA9ICRlbGVtZW50LmZpbmQoIi5KX1RHb2xkRGF0YSIpLmF0dHIoImhyZWYiKTsKCQl9ZWxzZSBpZihwYWdlPT09ImFsaV95YW8iKXsKCQkJZ29vZHNEZXRhaWxVcmwgPSAkZWxlbWVudC5maW5kKCIuSl9UR29sZERhdGEiKS5hdHRyKCJocmVmIik7CgkJfWVsc2UgaWYocGFnZT09PSJ0bWFsbF9jaGFvc2hpX3NlYXJjaCIpewoJCQlsZXQgaHJlZiA9ICRlbGVtZW50LmZpbmQoImRpdi5wcm9kdWN0LWltZyIpLmZpbmQoImEiKS5hdHRyKCJocmVmIik7CgkJCWdvb2RzRGV0YWlsVXJsID0gaHJlZi5pbmRleE9mKCJodHRwIikgPT0tMSA/IChsb2NhdGlvbi5wcm90b2NvbCArIGhyZWYpIDogaHJlZjsKCQl9ZWxzZSBpZihwYWdlPT09InRtYWxsX2NoYW9zaGlfc2VhcmNoX25ldyIpewoJCQlsZXQgaHJlZiA9ICEhJGVsZW1lbnQuYXR0cigiaHJlZiIpPyRlbGVtZW50LmF0dHIoImhyZWYiKTokZWxlbWVudC5maW5kKCJhIikuYXR0cigiaHJlZiIpOwoJCQlnb29kc0RldGFpbFVybCA9IGhyZWYuaW5kZXhPZigiaHR0cCIpID09LTEgPyAobG9jYXRpb24ucHJvdG9jb2wgKyBocmVmKSA6IGhyZWY7CgkJfWVsc2UgaWYocGFnZT09PSJ0bWFsbF9oayIpewoJCQlnb29kc0RldGFpbFVybCA9ICRlbGVtZW50LmZpbmQoImEucHJvZHVjdEltZyIpLmF0dHIoImhyZWYiKTsKCQl9ZWxzZSBpZihwYWdlPT09InRtYWxsX2NhdGVnb3J5Iil7CgkJCWdvb2RzRGV0YWlsVXJsID0gJGVsZW1lbnQuZmluZCgiLkpfVEdvbGREYXRhIikuYXR0cigiaHJlZiIpOwoJCX1lbHNlIGlmKHBhZ2U9PT0idG1hbGxfc2hvcF8wMSIpewoJCQlnb29kc0RldGFpbFVybCA9ICRlbGVtZW50LmZpbmQoImR0LnBob3RvIikuZmluZCgiYSIpLmF0dHIoImhyZWYiKTsKCQl9ZWxzZSBpZihwYWdlPT09InRtYWxsX3Nob3Bfc2VhcmNoIil7CgkJCWdvb2RzRGV0YWlsVXJsID0gJGVsZW1lbnQuZmluZCgiLkpfVEdvbGREYXRhIikuYXR0cigiaHJlZiIpOwoJCX0KCQllbHNlIGlmKHBhZ2U9PT0iamRfc2VhcmNoIil7CgkJCWdvb2RzRGV0YWlsVXJsID0gJGVsZW1lbnQuZmluZCgiZGl2LnAtaW1nIikuZmluZCgiYSIpLmF0dHIoImhyZWYiKTsKCQl9ZWxzZSBpZihwYWdlPT09ImpkX2hrX3NlYXJjaCIpewoJCQlnb29kc0RldGFpbFVybCA9ICRlbGVtZW50LmZpbmQoImRpdi5wLWltZyIpLmZpbmQoImEiKS5hdHRyKCJocmVmIik7CgkJfWVsc2UgaWYocGFnZT09PSJqZF9oa19uZXdfc2VhcmNoIil7CgkJCWdvb2RzRGV0YWlsVXJsID0gJGVsZW1lbnQuZmluZCgiYSIpLmF0dHIoImhyZWYiKTsKCQl9ZWxzZSBpZihwYWdlPT09ImpkX3lhb19zZWFyY2giKXsKCQkJZ29vZHNEZXRhaWxVcmwgPSAkZWxlbWVudC5maW5kKCJkaXYualBpYyIpLmZpbmQoImEiKS5hdHRyKCJocmVmIik7CgkJfWVsc2UgaWYocGFnZT09ImpkX2hvbWVwYWdlIil7CgkJCWdvb2RzRGV0YWlsVXJsID0gJGVsZW1lbnQuZmluZCgiYVtjbGFzcz0nbW9yZTJfbGsnXSIpLmF0dHIoImhyZWYiKTsKCQl9CgkJZWxzZSBpZihwYWdlPT0idnBpbmh1aV9zZWFyY2hfcGFnZSIpewoJCQlnb29kc0RldGFpbFVybCA9ICRlbGVtZW50LmZpbmQoImEiKS5hdHRyKCJocmVmIik7CgkJfWVsc2UgaWYocGFnZT09InZwaW5odWlfbGlzdCIpewoJCQlnb29kc0RldGFpbFVybCA9ICRlbGVtZW50LmZpbmQoImEiKS5hdHRyKCJocmVmIik7CgkJfQoJCWlmKCFnb29kc0RldGFpbFVybCl7CgkJCXJldHVybjsKCQl9CgkJbGV0IGFuYWx5c2lzRGF0YSA9IG51bGw7CgkJaWYocGFnZS5pbmRleE9mKCJqZF8iKSE9LTEpewoJCQl2YXIgamRJZCA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldEVuZEh0bWxJZEJ5VXJsKGdvb2RzRGV0YWlsVXJsKTsKCQkJaWYoISFqZElkKXsKCQkJCWFuYWx5c2lzRGF0YSA9IHsiaWQiOmpkSWQsICJwbGF0Zm9ybSI6ImpkIn07CgkJCX0KCQl9ZWxzZSBpZihwYWdlLmluZGV4T2YoInZwaW5odWlfIikhPS0xKXsKCQkJdmFyIHZpcElkID0gY29tbW9uRnVuY3Rpb25PYmplY3QuZ2V0RW5kSHRtbElkQnlVcmwoZ29vZHNEZXRhaWxVcmwpLnJlcGxhY2UoImRldGFpbC0iLCIiKTsKCQkJaWYoISF2aXBJZCl7CgkJCQlhbmFseXNpc0RhdGEgPSB7ImlkIjp2aXBJZC5zcGxpdCgiLSIpWzFdLCAicGxhdGZvcm0iOiJ2cGluaHVpIn07CgkJCX0KCQl9ZWxzZXsKCQkJdmFyIHBsYXRmb3JtID0gY29tbW9uRnVuY3Rpb25PYmplY3QuZ2V0RWNvbW1lcmNlUGxhdGZvcm0oZ29vZHNEZXRhaWxVcmwpOwoJCQl2YXIgaWQgPSBjb21tb25GdW5jdGlvbk9iamVjdC5nZXRQYXJhbXRlclF1ZXJ5VXJsKGdvb2RzRGV0YWlsVXJsLCAiaWQiKTsKCQkJaWYocGxhdGZvcm0gJiYgaWQpewoJCQkJYW5hbHlzaXNEYXRhID0geyJpZCI6aWQsICJwbGF0Zm9ybSI6cGxhdGZvcm19OwoJCQl9CgkJfQoJCWlmKCFhbmFseXNpc0RhdGEpewoJCQlyZXR1cm47CgkJfQoJCXRyeXsKCQkJY29uc3Qgc2VhcmNoVXJsID0gImh0dHA6Ly9qLmppYXlvdXNoaWNoYW5nLmNvbS9hcGkvZWJ1c2luZXNzL2NvdXBvbi9leGlzdC8iK2FuYWx5c2lzRGF0YS5wbGF0Zm9ybSsiP2lkPSIrYW5hbHlzaXNEYXRhLmlkOwoJCQljb25zdCBkYXRhID0gYXdhaXQgY29tbW9uRnVuY3Rpb25PYmplY3QucmVxdWVzdCgiR0VUIiwgc2VhcmNoVXJsLCBudWxsKTsKCQkJaWYoZGF0YS5yZXN1bHQ9PSJzdWNjZXNzIiAmJiAhIWRhdGEuZGF0YSl7CgkJCQljb25zdCB0aXAgPSBKU09OLnBhcnNlKGRhdGEuZGF0YSkudGlwOwoJCQkJaWYodGlwKXsKCQkJCQkkZWxlbWVudC5hcHBlbmQodGlwKTsKCQkJCX0KCQkJfQoJCX1jYXRjaChlKXsKCQkJY29uc29sZS5sb2coZSk7CgkJfQoJfQoJdGhpcy5zZWFyY2hQYWdlPWZ1bmN0aW9uKHNlbGVjdG9yRWxlbWVudExpc3QpewoJCWlmKCF0aGlzLmludGVydmFsSXNSdW5Db21wbGV0ZSl7CgkJCXJldHVybjsKCQl9CgkJc2VsZWN0b3JFbGVtZW50TGlzdC5mb3JFYWNoKChlbGVtZW50RGF0YSk9PnsKCQkJaWYoISFlbGVtZW50RGF0YSl7CgkJCQl0aGlzLmNyZWF0ZUFsbEVsZW1lbnRIdG1sKGVsZW1lbnREYXRhKTsKCQkJfQoJCX0pOwoJfQoJdGhpcy5zdGFydD1mdW5jdGlvbigpewoJCWNvbnN0IHNlbGVjdG9yRWxlbWVudExpc3QgPSB0aGlzLnBpY2t1cFNlYXJjaEVsZW1lbnRzKCk7CgkJc2V0SW50ZXJ2YWwoKCk9PnsKCQkJdGhpcy5zZWFyY2hQYWdlKHNlbGVjdG9yRWxlbWVudExpc3QpOwoJCX0sIDUwMCk7Cgl9Owp9CnRyeXsKCShuZXcgU2VhcmNoUGFnZU9iamVjdCgpKS5zdGFydCgpOwoJKG5ldyBRdWVyeUNvdXBvbigpKS5zdGFydCgpOwp9Y2F0Y2goZSl7Cgljb25zb2xlLmxvZygi5LyY5oOg5Yi45p+l6K+i77yaZXJyb3LvvJoiK2UpOwp9CgkvL+WbveWklueahOS4gOS6m+ino+aekApmdW5jdGlvbiBBYnJvYWRWaWRlb0hlbHBlcigpewoJdGhpcy5pc1J1biA9IGZ1bmN0aW9uKCl7CgkJdmFyIHVybHM9WyJ5b3V0dWJlLmNvbSIsICJmYWNlYm9vay5jb20iXTsKCQlmb3IodmFyIGk9MDsgaTx1cmxzLmxlbmd0aDtpKyspewoJCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKHVybHNbaV0pIT0tMSl7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9OwoJdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7CgkJaWYoIXRoaXMuaXNSdW4oKSl7CgkJCXJldHVybjsKCQl9CgkJc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkJY29uc3QgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OwoJCQljb25zdCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CgkJCWNvbnN0IGVsZUlkID0gImZyZWUteHgxLXBsYXllci1zY3JpcHQtOTk5OSI7CgoJCQkvL3lvdXR1YmXop6PmnpAKCQkJaWYoaG9zdC5pbmRleE9mKCJ5b3V0dWJlLmNvbSIpIT0tMSl7CgkJCQlpZihocmVmLmluZGV4T2YoInlvdXR1YmUuY29tL3dhdGNoIikhPS0xKXsKCQkJCQlpZigkKCIjIitlbGVJZCkubGVuZ3RoICE9IDApewoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCXZhciBodG1sPSc8ZGl2IGlkPSInK2VsZUlkKyciIHN0eWxlPSJ3aWR0aDo1MHB4O2ZvbnQtc2l6ZToxM3B4O2N1cnNvcjpwb2ludGVyO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1hbGlnbjpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuMDUpO2JvcmRlci1yYWRpdXM6MjVweDtwYWRkaW5nOiA5cHggMTNweDtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0OjhweDsiPicrCgkJCQkJCSfkuIvovb0nKwoJCQkJCQknPC9kaXY+JzsKCQkJCQkkKCIjb3duZXIiKS5hcHBlbmQoaHRtbCk7CgkJCQkJJCgiYm9keSIpLm9mZigiY2xpY2siLCAiIyIrZWxlSWQpLm9uKCJjbGljayIsICIjIitlbGVJZCwgZnVuY3Rpb24oKXsKCQkJCQkJdmFyIGxvY2F0aW9uX3VybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwoJCQkJCQl2YXIgdmlkZW91cmwgPSAiaHR0cHM6Ly93d3cudmlkZW9may5jb20vdmlkZW9may12aWRlby1kb3dubG9hZC9zZWFyY2g/dXJsPSIrbG9jYXRpb25fdXJsOwoJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTW9wZW5JblRhYih2aWRlb3VybCk7CgkJCQkJfSk7CgkJCQl9ZWxzZXsKCQkJCQkkKCIjIitlbGVJZCkucmVtb3ZlKCk7CgkJCQl9CgkJCX0KCgkJCS8vZmFjZWJvb2vop6PmnpAKCQkJaWYoaG9zdC5pbmRleE9mKCJmYWNlYm9vay5jb20iKSE9LTEpewoJCQkJaWYoaHJlZi5pbmRleE9mKCJmYWNlYm9vay5jb20vd2F0Y2giKSE9LTEgfHwgaHJlZi5pbmRleE9mKCIvdmlkZW9zLyIpIT0tMSl7CgkJCQkJaWYoJCgiIyIrZWxlSWQpLmxlbmd0aCAhPSAwKXsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCQl2YXIgaWNvblZpZGVvID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBREFBQUFBd0NBWUFBQUJYQXZtSEFBQURPVWxFUVZSb1ErMlp6NHVOVVJqSFA5K0Y4ZzhneWtLSk5KTVVVbXpNREtabVlWWXNMQlJoT2FFbUZoUlJMQ1pEWTRQQnJKUlJFa1VNbVkzVVJDay9zNkdNaFI5WldOazlPdlhPN2IxMzN2ZSs1N3cvN3N6VW5McWJlNTlmbi9PYzg1em5uQ3ZtK05BY2o1OTVnSGdHeld3RHNCWllEYXdFRmdJL2dUL0FSMG5EWldlOGxBeVlXVGV3RjlpVEVlQTRNQ1RwYmxrZ2hRSE03Qnh3UERDZ0FVbjlnVHFKNG9VQXpPd0tjQ2huSUNPUzl1WFVyYW5sQmpDemE4Q0JnZ0ZjbEhTa2lJMWNBR2JXQlR3dDRqaW0yeTNwU1Y1YndRQm10Z3E0QmF6UDY3UkI3dzNnc3ZBWCtDYnBWNGhkTDRDb1BHNEgzS2NqeEVFT1dWZHlId1Bqa3E1bTZXY0NtTm1GYUlheWJGWHgrMnZnc3FTUk5PT3BBR2EyR0hoWTRsSXBBbmhhMHFra0E0a0FadVpPMGs5RlBGYWcyeUhKSFlSMUl3M2dPN0NzZ2lDS21Qd01kRW1hakJ1WkJtQm1idU1jTE9LcFF0MUJTVWRUQWN6TVZabVFtand0cFRtQzN4cW8weWJwdzVST1hRYk1yQSs0NUd0UVVtWVZ5N0psWnBZbDAvQjczWVp1QkFqcWJXWUk0S1dreldrWmVCVlNOdU1BWnVhMUZCb3JTWTRNVEVwYW5nWVFsTTRFZ09kWnk2RXhhemtBaU50b1hFTHZnTGFzSUdyMHNUMFFaYUFWQU84bHRhZGxZQlRZTmNzQjdramFuUVp3SGpnMnl3R2FWaUhYSXJ1TjdEVm1ZQSs0bG51ZHBDK0pHWEJmaGx3VFp3REFQUWk0czZvMmtsb0o5eXp5eUtjWGFqR0E2NEY2SkwxdENoQmx3ZFgwb0lyU2dpclVLK2wrNDlwdWRoL0loR2hoQnZvbERTUnR6S2E5akprdEJkeHJXaytpY3ZYbndPM29JZXhGV2xYSmJNYk1iQUd3SlFXZzFvMFdXRUtwTFVqU0JjWjdDWG5WMFpoUVhvQlFQL01BVXpOZ1p1NVo4RWJSR1FUMlM3cVoxMDdtSG1obXVJUW5sMmxYeEZDUVFnRFJtVEVHYkF0MURJeEoycEZEcjA2bERJQkZnRHNkbHdRRTh3Tm9sL1E3UUNkUnREQkFsSVZPNEZsQU1KMlNNazk2SDN1bEFFUVFoNEZCRDZkOWtvWTg1THhFU2dPSUlLNjdxdExFODdDa1V0K2NTZ1dJSUNhQWpRa1FFNUkyZVUxcmdGQVZBQ3NBOS9Eay9xR2NHditBTlpLK0JzVG1KVm82UUpTRlh1QmVMSUtka2g1NFJSUW9WQWxBQkhFQ09BT2NsSFEyTUM1djhjb0FJb2pSK0F1Q2QxUUJncFVDQk1TUlczUWVJUGZVbGFUNEgwLzdSVUFpMmEvTkFBQUFBRWxGVGtTdVFtQ0MiOwoJCQkJCXZhciBodG1sPSc8ZGl2IGlkPSInK2VsZUlkKyciIHN0eWxlPSJ3aWR0aDoyNXB4O3BhZGRpbmc6MTBweCAwcHg7dGV4dC1hbGlnbjpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjojRTUyMTJFO3Bvc2l0aW9uOmZpeGVkO3RvcDoyNTBweDtsZWZ0OjBweDtjb2xvcjojRkZGO2ZvbnQtc2l6ZTowcHg7ei1pbmRleDo5OTk5OTk5OTk5OTk5O2N1cnNvcjpwb2ludGVyO21hcmdpbjowcHggYXV0bzt0ZXh0LWFsaWduOmNlbnRlcjsiPicrCgkJCQkJCSc8aW1nIHNyYz0iJytpY29uVmlkZW8rJyIgc3R5bGU9IndpZHRoOjIwcHg7Ij4nKwoJCQkJCQknPC9kaXY+JzsKCQkJCQkkKCJib2R5IikuYXBwZW5kKGh0bWwpOwoJCQkJCSQoImJvZHkiKS5vbigiY2xpY2siLCAiIyIrZWxlSWQsIGZ1bmN0aW9uKCl7CgkJCQkJCXZhciBsb2NhdGlvbl91cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKCQkJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZSgiZmFjZWJvb2tfZG93bmxvYWRlcl9vYmoiLCB7ImZhY2Vib29rX3VybCI6bG9jYXRpb25fdXJsfSk7CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNb3BlbkluVGFiKCJodHRwczovL3l0MXMuY29tL2ZhY2Vib29rLWRvd25sb2FkZXIiKTsKCQkJCQl9KTsKCQkJCX1lbHNlewoJCQkJCSQoIiMiK2VsZUlkKS5yZW1vdmUoKTsKCQkJCX0KCQkJfQoJCX0sIDEwMDApOwoKCQlpZih3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJ5dDFzLmNvbS9mYWNlYm9vay1kb3dubG9hZGVyIikhPS0xKXsgLy9mYWNlYm9va+S4i+i9vQoJCQl2YXIgZmFjZWJvb2tPYmplY3QgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKCJmYWNlYm9va19kb3dubG9hZGVyX29iaiIpOwoJCQlpZighIWZhY2Vib29rT2JqZWN0KXsKCQkJCSQoIiNzX2lucHV0IikudmFsKGZhY2Vib29rT2JqZWN0LmZhY2Vib29rX3VybCk7CgkJCX0KCQl9Cgl9Cn0KdHJ5ewoJaWYoIWZ1bmN0aW9uQ29udHJvbGxlciB8fCBmdW5jdGlvbkNvbnRyb2xsZXIuYWJyb2FkVmlkZW9IZWxwZXIpewoJCShuZXcgQWJyb2FkVmlkZW9IZWxwZXIoKSkuc3RhcnQoKTsKCX0KfWNhdGNoKGUpewoJY29uc29sZS5sb2coIuWbveWkluinhumikeino+aekO+8mmVycm9y77yaIitlKTsKfQoJZnVuY3Rpb24gU2hvcnRWaWRlb0Rvd25sb2FkZXIoKXsKCXRoaXMuZG91eWluVmlkZW9Eb3dubG9hZGVyID0gZnVuY3Rpb24oKXsKCQlpZih3aW5kb3cubG9jYXRpb24uaG9zdCAhPT0gInd3dy5kb3V5aW4uY29tIil7CgkJCXJldHVybjsKCQl9CgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLGZ1bmN0aW9uKCl7CgkJCS8v6L+Z5piv5pCc57Si55WM6Z2iCgkJCWlmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKC9odHRwczpcL1wvd3d3XC5kb3V5aW5cLmNvbVwvc2VhcmNoXC8uKj8vKSl7CgkJCQlmdW5jdGlvbiBkb3dubG9hZGVyKCl7CgkJCQkJY29uc3QgdmlkZW9Db250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnBsYXllci1pbmZvIik7CgkJCQkJdmlkZW9Db250YWluZXJzLmZvckVhY2goKGVsZW1lbnQpPT57CgkJCQkJCWlmKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkZWFsd2l0aCIpKXsKCQkJCQkJCXJldHVybjsKCQkJCQkJfQoJCQkJCQlsZXQgYm90dG9tTWVudSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigneGctcmlnaHQtZ3JpZCcpOwoJCQkJCQlpZighYm90dG9tTWVudSl7CgkJCQkJCQlyZXR1cm47CgkJCQkJCX0KCQkJCQkJbGV0IHBsYXliYWNrU2V0dGluZyA9IGJvdHRvbU1lbnUucXVlcnlTZWxlY3RvcignLnhncGxheWVyLXBsYXliYWNrLXNldHRpbmcnKTsKCQkJCQkJaWYoIXBsYXliYWNrU2V0dGluZyl7CgkJCQkJCQlyZXR1cm47CgkJCQkJCX0KCQkJCQkJbGV0IGRvd25sb2FkID0gcGxheWJhY2tTZXR0aW5nLmNsb25lTm9kZSh0cnVlKTsgLy8g5ou36LSd5LiA5Liq6IqC54K5CgkJCQkJCWxldCBkb3dubG9hZFRleHQgPSBkb3dubG9hZC5xdWVyeVNlbGVjdG9yKCdkaXY6Zmlyc3QtY2hpbGQnKTsKCQkJCQkJbGV0IHZpZGVvID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCJ2aWRlbyIpOwoJCQkJCQlkb3dubG9hZFRleHQuaW5uZXJUZXh0PSfkuIvovb0nOwoJCQkJCQlkb3dubG9hZFRleHQuc3R5bGUgPSAnZm9udC1zaXplOjEzcHgnOwoJCQkJCQlwbGF5YmFja1NldHRpbmcuYWZ0ZXIoZG93bmxvYWQpOwoJCQkJCQllbGVtZW50LnNldEF0dHJpYnV0ZSgiZGVhbHdpdGgiLCJ0cnVlIik7CgkJCQkJCWRvd25sb2FkLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwoZSk9PnsKCQkJCQkJCWxldCBwbGF5ZXJVcmwgPSB2aWRlby5jaGlsZHJlblswXS5zcmM7CgkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTW9wZW5JblRhYihwbGF5ZXJVcmwpOwoJCQkJCQl9KTsKCQkJCQl9KTsKCQkJCX0KCQkJCWRvd25sb2FkZXIoKTsKCQkJCXNldEludGVydmFsKGZ1bmN0aW9uKCl7CgkJCQkJZG93bmxvYWRlcigpOwoJCQkJfSw1MDApOwoJCQl9ZWxzZXsKCQkJCWFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkZXIoKXsKCQkJCQl0cnl7CgkJCQkJCS8v5bu26L+f5Yqg6L29562J5Yiw5piv5ZCm5a6M5oiQCgkJCQkJCWxldCB2aWRlb0NvbnRhaW5lciA9IGF3YWl0IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LmdldEVsZW1lbnRPYmplY3QoIi54Zy12aWRlby1jb250YWluZXIiKTsKCQkJCQkJaWYoIXZpZGVvQ29udGFpbmVyKXsKCQkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQkJfQoJCQkJCQlsZXQgYm90dG9tTWVudXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcueGctcmlnaHQtZ3JpZCcpOwoJCQkJCQlsZXQgYm90dG9tTWVudUxlbmd0aCA9IGJvdHRvbU1lbnVzLmxlbmd0aDsKCQkJCQkJbGV0IGJvdHRvbU1lbnUgPSBib3R0b21NZW51cy5sZW5ndGg+MSA/IGJvdHRvbU1lbnVzW2JvdHRvbU1lbnVMZW5ndGggLSAyXSA6IGJvdHRvbU1lbnVzW2JvdHRvbU1lbnVMZW5ndGggLSAxXTsKCQkJCQkJbGV0IGRvdXlpblZpZGVvRG93bmxvYWRlckRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkb3V5aW4tdmlkZW8tZG93bmxvZGVyJyk7CgkJCQkJCWlmKGRvdXlpblZpZGVvRG93bmxvYWRlckRvbSl7CgkJCQkJCQlkb3V5aW5WaWRlb0Rvd25sb2FkZXJEb20ucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRvdXlpblZpZGVvRG93bmxvYWRlckRvbS5wYXJlbnROb2RlKTsKCQkJCQkJfQoKCQkJCQkJLy8g5ou36LSd5LiA5Liq6IqC54K5CgkJCQkJCWxldCBwbGF5YmFja1NldHRpbmcgPSBib3R0b21NZW51LnF1ZXJ5U2VsZWN0b3IoJy54Z3BsYXllci1wbGF5YmFjay1zZXR0aW5nJyk7CgkJCQkJCWlmKCFwbGF5YmFja1NldHRpbmcpewoJCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCQl9CgkJCQkJCWxldCBkb3dubG9hZCA9IHBsYXliYWNrU2V0dGluZy5jbG9uZU5vZGUodHJ1ZSk7CgkJCQkJCWxldCBkb3dubG9hZFRleHQgPSBkb3dubG9hZC5xdWVyeVNlbGVjdG9yKCdkaXY6Zmlyc3QtY2hpbGQnKTsKCQkJCQkJZG93bmxvYWRUZXh0LmlubmVyVGV4dD0n5LiL6L29JzsKCQkJCQkJZG93bmxvYWRUZXh0LnN0eWxlID0gJ2ZvbnQtc2l6ZToxNHB4JzsKCQkJCQkJZG93bmxvYWRUZXh0LnNldEF0dHJpYnV0ZSgnaWQnLCdkb3V5aW4tdmlkZW8tZG93bmxvZGVyJyk7CgoJCQkJCQlsZXQgYXV0b3BsYXlTZXR0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhncGxheWVyLWF1dG9wbGF5LXNldHRpbmcnKTsKCQkJCQkJaWYoIWF1dG9wbGF5U2V0dGluZyl7CgkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCX0KCQkJCQkJYXV0b3BsYXlTZXR0aW5nLmFmdGVyKGRvd25sb2FkKTsKCQkJCQkJbGV0IHZpZGVvUGxheWVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJyk7CgkJCQkJCWxldCB2aWRlb1BsYXlEb20gPSB2aWRlb1BsYXllcnNbdmlkZW9QbGF5ZXJzLmxlbmd0aD4xID8gdmlkZW9QbGF5ZXJzLmxlbmd0aC0yIDogdmlkZW9QbGF5ZXJzLmxlbmd0aC0xXTsKCQkJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2RvdXlpbi12aWRlby1kb3dubG9kZXIiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKT0+ewoJCQkJCQkJbGV0IHBsYXllclVybCA9IHZpZGVvUGxheURvbS5jaGlsZHJlblswXS5zcmM7CgkJCQkJCQljb21tb25GdW5jdGlvbk9iamVjdC5HTW9wZW5JblRhYihwbGF5ZXJVcmwpOwoJCQkJCQl9KTsKCQkJCQl9Y2F0Y2goZSl7fQoJCQkJfQoJCQkJLy/nm5HlkKzpvKDmoIcKCQkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ3aGVlbCIsZG93bmxvYWRlcik7CgkJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsZnVuY3Rpb24oZSl7CgkJCQkJaWYoZS5jb2RlID09ICdBcnJvd0Rvd24nIHx8IGUuY29kZSA9PSAnQXJyb3dVcCcpewoJCQkJCQlkb3dubG9hZGVyKCk7CgkJCQkJfQoJCQkJfSk7CgkJCQkvL+inhumikeaUueWPmOWQjuinpuWPkQoJCQkJYXN5bmMgZnVuY3Rpb24gZG9tTm9kZUluc2VydGVkKCl7CgkJCQkJbGV0IGZpbmRWaWRlb0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkJCQkJbGV0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInZpZGVvIik7CgkJCQkJCWlmKHZpZGVvRWxlbWVudCl7CgkJCQkJCQl2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywoZSkgPT4gewoJCQkJCQkJCWRvd25sb2FkZXIoKTsKCQkJCQkJCX0pOwoJCQkJCQkJY2xlYXJJbnRlcnZhbChmaW5kVmlkZW9JbnRlcnZhbCk7CgkJCQkJCX0KCQkJCQl9LCAyMDApOwoJCQkJfQoJCQkJZG9tTm9kZUluc2VydGVkKCk7CgkJCQlkb3dubG9hZGVyKCk7CgkJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGRvd25sb2FkZXIpOwoJCQl9CgkJfSk7Cgl9OwoJdGhpcy5rdWFpc2hvdVZpZGVvRG93bmxvYWRlciA9IGZ1bmN0aW9uKCl7CgkJaWYod2luZG93LmxvY2F0aW9uLmhvc3QgIT09ICJ3d3cua3VhaXNob3UuY29tIil7CgkJCXJldHVybjsKCQl9CgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLGZ1bmN0aW9uKCl7CgkJCWFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkZXIoKXsKCQkJCWxldCBrdWFpc2hvdVZpZGVvRG93bmxvZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2t1YWlzaG91LXZpZGVvLWRvd25sb2RlciIpOwoJCQkJaWYoIWt1YWlzaG91VmlkZW9Eb3dubG9kZXIpewoJCQkJCWxldCBkb3dubG9hZERJViA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCQkJCWRvd25sb2FkRElWLnN0eWxlID0gImN1cnNvcjpwb2ludGVyO3dpZHRoOjUwcHg7aGVpZ2h0OjQwcHg7bGluZS1oZWlnaHQ6NDBweDt0ZXh0LWFsaWduOmNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiNGRkY7Y29sb3I6IzAwMDtwb3NpdGlvbjpmaXhlZDt0b3A6MjAwcHg7bGVmdDowcHg7ei1pbmRleDo5OTk7IjsKCQkJCQlkb3dubG9hZERJVi5pbm5lclRleHQgPSAi5LiL6L29IjsKCQkJCQlkb3dubG9hZERJVi5zZXRBdHRyaWJ1dGUoJ2lkJywna3VhaXNob3UtdmlkZW8tZG93bmxvZGVyJyk7CgkJCQkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb3dubG9hZERJVik7CgoJCQkJCWRvd25sb2FkRElWLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZSl7CgkJCQkJCWxldCB2aWRlb0RvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItdmlkZW8nKTsKCQkJCQkJaWYoIXZpZGVvRG9tKXsKCQkJCQkJCWNvbnNvbGUubG9nKCfmsqHmnInmib7liLBET00nKTsKCQkJCQkJCXJldHVybjsKCQkJCQkJfQoJCQkJCQlsZXQgdmlkZW9TcmMgPSB2aWRlb0RvbS5nZXRBdHRyaWJ1dGUoJ3NyYycpOwoJCQkJCQlpZih2aWRlb1NyYy5tYXRjaCgvXmJsb2IvKSl7CgkJCQkJCQljb25zb2xlLmxvZygnYmxvYuinhumikeaXoOazleS4i+i9vScpOwoJCQkJCQkJcmV0dXJuOwoJCQkJCQl9CgkJCQkJCWNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNb3BlbkluVGFiKHZpZGVvU3JjKTsKCQkJCQl9KTsKCQkJCX0KCQkJfQoJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuc3dpdGNoLWl0ZW0iKS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKXsKCQkJCXZhbHVlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKXsKCQkJCQlkb3dubG9hZGVyKCk7CgkJCQl9KTsKCQkJfSkKCQkJZG93bmxvYWRlcigpOwoJCQlzZXRJbnRlcnZhbChmdW5jdGlvbigpewoJCQkJbGV0IGt1YWlzaG91VmlkZW9Eb3dubG9kZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIja3VhaXNob3UtdmlkZW8tZG93bmxvZGVyIik7CgkJCQlpZihrdWFpc2hvdVZpZGVvRG93bmxvZGVyKXsKCQkJCQlpZih3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaCgvaHR0cHM6XC9cL3d3d1wua3VhaXNob3VcLmNvbVwvc2hvcnQtdmlkZW9cLy4qPy8pKXsKCQkJCQkJa3VhaXNob3VWaWRlb0Rvd25sb2Rlci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCQkJCQl9ZWxzZXsKCQkJCQkJa3VhaXNob3VWaWRlb0Rvd25sb2Rlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwoJCQkJCX0KCQkJCX0KCQkJfSwgODAwKTsKCQl9KTsKCX07Cgl0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKXsKCQl0aGlzLmRvdXlpblZpZGVvRG93bmxvYWRlcigpOwoJCXRoaXMua3VhaXNob3VWaWRlb0Rvd25sb2FkZXIoKTsKCX07Cn07CnRyeXsKCWlmKCFmdW5jdGlvbkNvbnRyb2xsZXIgfHwgZnVuY3Rpb25Db250cm9sbGVyLnNob3J0VmlkZW9Eb3dubG9hZCl7CgkJKG5ldyBTaG9ydFZpZGVvRG93bmxvYWRlcigpKS5zdGFydCgpOwoJfQp9Y2F0Y2goZSl7Cgljb25zb2xlLmxvZygi55+t6KeG6aKR5Y675rC05Y2w5LiL6L2977yaZXJyb3LvvJoiK2UpOwp9CgkvL+eJiOacrOaOp+WItgpmdW5jdGlvbiBWZXJzaW9uQ29udHJvbGxlcigpewoJdGhpcy5jaGVja1ZlcnNpb25VcmwgPSAiIjsKCXRoaXMudmVyc2lvblVybCA9ICJodHRwczovL2dpdGxhYi5jb20vc2NyaXB0MzQ3MzMwMy9zY3JpcHRfcHJvLy0vcmF3L21haW4vUkVBRE1FLm1kP3JlZl90eXBlPWhlYWRzIjsKCXRoaXMudXBncmFkVXJsID0gImh0dHBzOi8vZ2l0bGFiLmNvbS9zY3JpcHQzNDczMzAzL3NjcmlwdF9wcm8iOwoJdGhpcy5jdXJyZW50SW5uZXJWZXJzaW9uID0gMjAwMDAxMDsgLy8wMDIuMDAwLjAwMSDlvZPliY3ohJrmnKzniYjmnKzlj7cKCXRoaXMuZ2V0TmFtZXMgPSBmdW5jdGlvbigpewoJCXJldHVybiB7CgkJCSJzaG93RGlhbG9nSW50ZXJ2YWxLZXkiOiJzaG93X2RpYWxvZ19pbnRlcnZhbF9rZXkiLAoJCQkic2hvd0RpYWxvZ0tleSI6InNob3dfZGlhbG9nX2tleSIsCgkJCSJpZ25vcmVUYWciOiJpZ25vcmUiLAoJCQkidXBkYXRlVGFnIjoidXBkYXRlIiwKCQkJInNob3dEaWFsb2dUYWciOiJzaG93RGlhbG9nIiwKCQkJImF1dG9IaWRlRGlhbG9nVGFnIjoiYXV0b0hpZGVEaWFsb2dUYWciCgkJfQoJfTsKCXRoaXMucmVjb3JkT3BlcmF0aW9uID0gZnVuY3Rpb24odGFnKXsKCQljb25zdCB7c2hvd0RpYWxvZ0ludGVydmFsS2V5LCBzaG93RGlhbG9nS2V5LCBpZ25vcmVUYWcsIHVwZGF0ZVRhZywgc2hvd0RpYWxvZ1RhZywgYXV0b0hpZGVEaWFsb2dUYWd9ID0gdGhpcy5nZXROYW1lcygpOwoJCWNvbnN0IGN1cnJlbnRUaW1lID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTsKCQlsZXQgcmVzdWx0ID0geyJ1cGRhdGUiOjAsICJpZ25vcmUiOjAsICJhdXRvSGlkZSI6MH07CgkJaWYoc2hvd0RpYWxvZ1RhZz09dGFnKXsKCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZShzaG93RGlhbG9nS2V5LCBjdXJyZW50VGltZSk7CgkJfWVsc2V7CgkJCWlmKGlnbm9yZVRhZz09dGFnKXsKCQkJCXJlc3VsdC5pZ25vcmUgPSBjdXJyZW50VGltZTsKCgkJCX1lbHNlIGlmKHVwZGF0ZVRhZz09dGFnKXsKCQkJCXJlc3VsdC51cGRhdGUgPSBjdXJyZW50VGltZTsKCgkJCX1lbHNlIGlmKGF1dG9IaWRlRGlhbG9nVGFnPT10YWcpewoJCQkJcmVzdWx0LmF1dG9IaWRlID0gY3VycmVudFRpbWU7CgkJCX0KCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01zZXRWYWx1ZShzaG93RGlhbG9nSW50ZXJ2YWxLZXksIHJlc3VsdCk7CgkJfQoJfTsKCXRoaXMuc2hvd0ludGVydmFsID0gZnVuY3Rpb24oKXsKCQljb25zdCB7c2hvd0RpYWxvZ0ludGVydmFsS2V5LCBzaG93RGlhbG9nS2V5fSA9IHRoaXMuZ2V0TmFtZXMoKTsKCQljb25zdCB7dXBkYXRlLCBpZ25vcmUsIGF1dG9IaWRlfSA9IGNvbW1vbkZ1bmN0aW9uT2JqZWN0LkdNZ2V0VmFsdWUoc2hvd0RpYWxvZ0ludGVydmFsS2V5LCB7InVwZGF0ZSI6MCwgImlnbm9yZSI6MCwgImF1dG9IaWRlIjowfSk7CgkJY29uc3Qgc2hvd0RpYWxvZ1RpbWUgPSBjb21tb25GdW5jdGlvbk9iamVjdC5HTWdldFZhbHVlKHNob3dEaWFsb2dLZXksIDApOwoJCWNvbnN0IGN1cnJlbnRUaW1lID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTsKCQkvL+aYvuekuumXtOmalOW/hemhu+Wkp+S6jjHlsI/ml7YKCQlpZihjdXJyZW50VGltZS1zaG93RGlhbG9nVGltZSA8IDYwKjYwKjEwMDApewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmKGlnbm9yZT09MCAmJiBhdXRvSGlkZT09MCAmJiB1cGRhdGU9PTApeyAvL+esrOS4gOasoeWIneWni+WMlgoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgkJLy/oh6rliqjmtojlpLHorqHml7YKCQlpZihhdXRvSGlkZSE9MCAmJiBjdXJyZW50VGltZS1hdXRvSGlkZSA+PSAzKjI0KjM2MDAqMTAwMCl7IC8vMioyNCozNjAwKjEwMDAKCQkJcmV0dXJuIHRydWU7CgkJfQoJCS8v54K55Ye75b+955Wl6K6h5pe2CgkJaWYoaWdub3JlIT0wICYmIGN1cnJlbnRUaW1lLWlnbm9yZSA+PSA1KjI0KjM2MDAqMTAwMCl7IC8vNioyNCozNjAwKjEwMDAKCQkJcmV0dXJuIHRydWU7CgkJfQoJCS8v54K55Ye75pu05paw6K6h5pe277yI5Y+q54K55Ye777yM5pyq5a6M5oiQ5pu05paw5Ye65Y+R77yJCgkJaWYodXBkYXRlIT0wICYmIGN1cnJlbnRUaW1lLXVwZGF0ZSA+PSAyKjI0KjM2MDAqMTAwMCl7IC8vMioyNCozNjAwKjEwMDAKCQkJcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX07Cgl0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKGRlc2NyaXB0aW9uKXsKCQljb25zdCBzZWxmID0gdGhpczsKCQljb25zdCB7aWdub3JlVGFnLCB1cGRhdGVUYWcsIGF1dG9IaWRlRGlhbG9nVGFnfSA9IHRoaXMuZ2V0TmFtZXMoKTsKCQlsZXQgZWxlbWVudElkID0gY29tbW9uRnVuY3Rpb25PYmplY3QucmFuZG9tTnVtYmVyKCk7CgkJbGV0IHVwZ3JhZERpYWxvZ0lkID0gInVwZ3JhZC1kaWFsb2ctIitlbGVtZW50SWQrIiI7CgkJbGV0IHVwZ3JhZElnbm9yZUlkID0gInVwZ3JhZC1pZ25vcmUtYnRuLSIrZWxlbWVudElkKyIiOwoJCWxldCB1cGdyYWROb3dJZCA9ICJ1cGdyYWQtbm93LWJ0bi0iK2VsZW1lbnRJZCsiIjsKCQlsZXQgaHRtbCA9IGAKCQkJPGRpdiBpZD0iYCt1cGdyYWREaWFsb2dJZCtgIiBzdHlsZT0iYm9yZGVyLXJhZGl1czo0cHg7b3ZlcmZsb3c6IGhpZGRlbjt6LWluZGV4Ojk5OTk5OTk5OTk5OTk5OTt3aWR0aDoyNjBweDttaW4taGVpZ2h0OjMwcHg7cG9zaXRpb246Zml4ZWQ7cmlnaHQ6MTBweDtib3R0b206MTBweDtiYWNrZ3JvdW5kLWNvbG9yOiNGRkY7LXdlYmtpdC1ib3gtc2hhZG93OjBweCAxMHB4IDM5cHggMTBweCByZ2JhKDUyLDUzLDUzLDAuMjIpOy1tb3otYm94LXNoYWRvdzogMHB4IDEwcHggMzlweCAxMHB4IHJnYmEoNTIsNTMsNTMsMC4yMik7Ym94LXNoYWRvdzogMHB4IDEwcHggMzlweCAxMHB4IHJnYmEoNTIsNTMsNTMsMC4yMik7Ij4KCQkJCTxkaXYgc3R5bGU9IndpZGh0OjEwMCU7aGVpZ2h0OjM1cHg7bGluZS1oZWlnaHQ6MzVweDtiYWNrZ3JvdW5kLWNvbG9yOnJlZDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojRkZGO2ZvbnQtc2l6ZToxNnB4OyI+6ISa5pys5pu05paw5o+Q56S6PC9kaXY+CgkJCQk8ZGl2IHN0eWxlPSJjb2xvcjojMDAwO3BhZGRpbmc6MTBweCA1cHg7Zm9udC1zaXplOjE0cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI0NDQzsiPmArZGVzY3JpcHRpb24rYDwvZGl2PgoJCQkJPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7aGVpZ2h0OjQwcHg7bGluZS1oZWlnaHQ6NDBweDtmb250LXNpemU6MTRweDsiPgoJCQkJCTxzcGFuIGlkPSJgK3VwZ3JhZElnbm9yZUlkK2AiIHN0eWxlPSJkaXNwbGF5OmlubmVyLWJsb2NrO2NvbG9yOiM4ODg7Y3Vyc29yOnBvaW50ZXI7Ij7lv73nlaU8L3NwYW4+CgkJCQkJPHNwYW4gaWQ9ImArdXBncmFkTm93SWQrYCJzdHlsZT0iZGlzcGxheTppbm5lci1ibG9jazttYXJnaW4tbGVmdDo2MHB4O2NvbG9yOiMwMDA7Y3Vyc29yOnBvaW50ZXI7Ij7ngrnlh7vmm7TmlrA8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJYDsKCQkkKCJib2R5IikuYXBwZW5kKGh0bWwpOwoJCSQoImJvZHkiKS5vZmYoImNsaWNrIiwiIyIrdXBncmFkSWdub3JlSWQpLm9uKCJjbGljayIsIiMiK3VwZ3JhZElnbm9yZUlkLGZ1bmN0aW9uKCl7CgkJCXNlbGYucmVjb3JkT3BlcmF0aW9uKGlnbm9yZVRhZyk7CgkJCSQoIiMiK3VwZ3JhZERpYWxvZ0lkKS5oaWRlKCk7CgkJfSk7CgkJJCgiYm9keSIpLm9mZigiY2xpY2siLCIjIit1cGdyYWROb3dJZCkub24oImNsaWNrIiwiIyIrdXBncmFkTm93SWQsZnVuY3Rpb24oKXsKCQkJc2VsZi5yZWNvcmRPcGVyYXRpb24odXBkYXRlVGFnKTsKCQkJJCgiIyIrdXBncmFkRGlhbG9nSWQpLmhpZGUoKTsKCQkJY29tbW9uRnVuY3Rpb25PYmplY3QuR01vcGVuSW5UYWIoc2VsZi51cGdyYWRVcmwpOwoJCX0pOwoJCXNldFRpbWVvdXQoZnVuY3Rpb24oKXsKCQkJbGV0ICR1cGdyYWREaWFsb2dJZCA9ICQoIiMiK3VwZ3JhZERpYWxvZ0lkKTsKCQkJaWYoISR1cGdyYWREaWFsb2dJZC5pcygiOmhpZGRlbiIpKXsKCQkJCSR1cGdyYWREaWFsb2dJZC5oaWRlKCk7CgkJCQlzZWxmLnJlY29yZE9wZXJhdGlvbihhdXRvSGlkZURpYWxvZ1RhZyk7CgkJCX0KCQl9LCAxNSoxMDAwKTsKCX07Cgl0aGlzLmlzU2hvdyA9IGFzeW5jIGZ1bmN0aW9uKCl7CgkJY29uc3Qgc2VsZiA9IHRoaXM7CgkJcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PnsKCQkJaWYoIXNlbGYuc2hvd0ludGVydmFsKCkpewoJCQkJcmVzb2x2ZSh7ImlzU2hvdyI6ZmFsc2UsICJ2ZXJzaW9uIjowLCAiZGVzY3JpcHRpb24iOiIifSk7CgkJCX1lbHNlewoJCQkJY29tbW9uRnVuY3Rpb25PYmplY3QucmVxdWVzdCgiZ2V0IiwgdGhpcy52ZXJzaW9uVXJsKS50aGVuKChyZXN1bHQpPT57CgkJCQkJbGV0IHNob3cgPSBmYWxzZSwgdmVyc2lvbiA9IDAsIGRlc2NyaXB0aW9uID0gIiI7CgkJCQkJaWYocmVzdWx0Lmhhc093blByb3BlcnR5KCJyZXN1bHQiKSAmJiByZXN1bHQucmVzdWx0PT0ic3VjY2VzcyIpewoJCQkJCQlsZXQgdmVyc2lvbiA9IHBhcnNlSW50KHJlc3VsdC5kYXRhLm1hdGNoKC/jgJBWKFxkezcsOX0p44CR44CQdW5pb27jgJEvaSlbMV0pOwoJCQkJCQlzaG93ID0gdmVyc2lvbj5zZWxmLmN1cnJlbnRJbm5lclZlcnNpb247CgkJCQkJCWRlc2NyaXB0aW9uID0gIjxiPuWPkeeOsOaWsOeJiOacrC4uLjwvYj48YnI+44CQUHJv54mI44CRQuermeWTlOWTqeWTlOWTqeS9v+eUqOWinuW8uu+8jOWFqOe9kVZJUOinhumikeWFjei0ueegtOino+WOu+W5v+WRiu+8jOefpeS5juS9v+eUqOWinuW8uu+8jOefreinhumikeaXoOawtOWNsOS4i+i9ve+8jOayueeuoeOAgUZhY2Vib29r562J5Zu95aSW6KeG6aKR6Kej5p6Q5LiL6L29562J8J+YiCI7CgkJCQkJfQoJCQkJCXJlc29sdmUoeyJpc1Nob3ciOnNob3csICJ2ZXJzaW9uIjp2ZXJzaW9uLCAiZGVzY3JpcHRpb24iOmRlc2NyaXB0aW9ufSk7CgkJCQl9KS5jYXRjaCgoZXJyb3IpPT57CgkJCQkJcmVzb2x2ZSh7ImlzU2hvdyI6ZmFsc2UsICJ2ZXJzaW9uIjowLCAiZGVzY3JpcHRpb24iOiIifSk7CgkJCQl9KTsKCQkJfQoJCX0pOwoJfTsKCXRoaXMuc2hvd0RpYWxvZyA9IGZ1bmN0aW9uKGRlc2NyaXB0aW9uKXsKCQl0aGlzLnJlY29yZE9wZXJhdGlvbih0aGlzLmdldE5hbWVzKCkuc2hvd0RpYWxvZ1RhZyk7CgkJdGhpcy5jcmVhdGUoZGVzY3JpcHRpb24pOwoJfTsKCXRoaXMuc3RhcnQgPSBhc3luYyBmdW5jdGlvbigpewoJCWxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmlzU2hvdygpOwoJCWlmKHJlc3VsdC5pc1Nob3cpewoJCQl0aGlzLnNob3dEaWFsb2cocmVzdWx0LmRlc2NyaXB0aW9uKTsKCQl9Cgl9Owp9CnRyeXsKCShuZXcgVmVyc2lvbkNvbnRyb2xsZXIoKSkuc3RhcnQoKTsKfWNhdGNoKGUpewoJY29uc29sZS5sb2coIuWNh+e6p+S7o+eggeWHuueOsOmUmeivr++8mmVycm9y77yaIitlKTsKfQp9KSgpOwoK","requires":[{"meta":{"name":"jquery.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.2.1/jquery.min.js","ts":1714550052754,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My4yLjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJ1c2Ugc3RyaWN0Ijsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIGIoYSl9OmIoYSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGEsYil7InVzZSBzdHJpY3QiO3ZhciBjPVtdLGQ9YS5kb2N1bWVudCxlPU9iamVjdC5nZXRQcm90b3R5cGVPZixmPWMuc2xpY2UsZz1jLmNvbmNhdCxoPWMucHVzaCxpPWMuaW5kZXhPZixqPXt9LGs9ai50b1N0cmluZyxsPWouaGFzT3duUHJvcGVydHksbT1sLnRvU3RyaW5nLG49bS5jYWxsKE9iamVjdCksbz17fTtmdW5jdGlvbiBwKGEsYil7Yj1ifHxkO3ZhciBjPWIuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7Yy50ZXh0PWEsYi5oZWFkLmFwcGVuZENoaWxkKGMpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyl9dmFyIHE9IjMuMi4xIixyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyByLmZuLmluaXQoYSxiKX0scz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csdD0vXi1tcy0vLHU9Ly0oW2Etel0pL2csdj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O3IuZm49ci5wcm90b3R5cGU9e2pxdWVyeTpxLGNvbnN0cnVjdG9yOnIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBmLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9mLmNhbGwodGhpcyk6YTwwP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXIubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxifSxlYWNoOmZ1bmN0aW9uKGEpe3JldHVybiByLmVhY2godGhpcyxhKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhyLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoYTwwP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmM8Yj9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6aCxzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LHIuZXh0ZW5kPXIuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksIm9iamVjdCI9PXR5cGVvZiBnfHxyLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2g8aTtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYoci5pc1BsYWluT2JqZWN0KGQpfHwoZT1BcnJheS5pc0FycmF5KGQpKSk/KGU/KGU9ITEsZj1jJiZBcnJheS5pc0FycmF5KGMpP2M6W10pOmY9YyYmci5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1yLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sci5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKHErTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PXIudHlwZShhKX0saXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3ZhciBiPXIudHlwZShhKTtyZXR1cm4oIm51bWJlciI9PT1ifHwic3RyaW5nIj09PWIpJiYhaXNOYU4oYS1wYXJzZUZsb2F0KGEpKX0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiEoIWF8fCJbb2JqZWN0IE9iamVjdF0iIT09ay5jYWxsKGEpKSYmKCEoYj1lKGEpKXx8KGM9bC5jYWxsKGIsImNvbnN0cnVjdG9yIikmJmIuY29uc3RydWN0b3IsImZ1bmN0aW9uIj09dHlwZW9mIGMmJm0uY2FsbChjKT09PW4pKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErIiI6Im9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYT9qW2suY2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3AoYSl9LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHQsIm1zLSIpLnJlcGxhY2UodSx2KX0sZWFjaDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MDtpZih3KGEpKXtmb3IoYz1hLmxlbmd0aDtkPGM7ZCsrKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVha31lbHNlIGZvcihkIGluIGEpaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOihhKyIiKS5yZXBsYWNlKHMsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHcoT2JqZWN0KGEpKT9yLm1lcmdlKGMsInN0cmluZyI9PXR5cGVvZiBhP1thXTphKTpoLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6aS5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2Q8YztkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztmPGc7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj0wLGg9W107aWYodyhhKSlmb3IoZD1hLmxlbmd0aDtmPGQ7ZisrKWU9YihhW2ZdLGYsYyksbnVsbCE9ZSYmaC5wdXNoKGUpO2Vsc2UgZm9yKGYgaW4gYSllPWIoYVtmXSxmLGMpLG51bGwhPWUmJmgucHVzaChlKTtyZXR1cm4gZy5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlO2lmKCJzdHJpbmciPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxyLmlzRnVuY3Rpb24oYSkpcmV0dXJuIGQ9Zi5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChmLmNhbGwoYXJndW1lbnRzKSkpfSxlLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8ci5ndWlkKyssZX0sbm93OkRhdGUubm93LHN1cHBvcnQ6b30pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihyLmZuW1N5bWJvbC5pdGVyYXRvcl09Y1tTeW1ib2wuaXRlcmF0b3JdKSxyLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7alsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiB3KGEpe3ZhciBiPSEhYSYmImxlbmd0aCJpbiBhJiZhLmxlbmd0aCxjPXIudHlwZShhKTtyZXR1cm4iZnVuY3Rpb24iIT09YyYmIXIuaXNXaW5kb3coYSkmJigiYXJyYXkiPT09Y3x8MD09PWJ8fCJudW1iZXIiPT10eXBlb2YgYiYmYj4wJiZiLTEgaW4gYSl9dmFyIHg9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9aGEoKSx6PWhhKCksQT1oYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPXt9Lmhhc093blByb3BlcnR5LEQ9W10sRT1ELnBvcCxGPUQucHVzaCxHPUQucHVzaCxIPUQuc2xpY2UsST1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLEs9IltcXHgyMFxcdFxcclxcblxcZl0iLEw9Iig/OlxcXFwufFtcXHctXXxbXlwwLVxceGEwXSkrIixNPSJcXFsiK0srIiooIitMKyIpKD86IitLKyIqKFsqXiR8IX5dPz0pIitLKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrTCsiKSl8KSIrSysiKlxcXSIsTj0iOigiK0wrIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK00rIikqKXwuKilcXCl8KSIsTz1uZXcgUmVnRXhwKEsrIisiLCJnIiksUD1uZXcgUmVnRXhwKCJeIitLKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK0srIiskIiwiZyIpLFE9bmV3IFJlZ0V4cCgiXiIrSysiKiwiK0srIioiKSxSPW5ldyBSZWdFeHAoIl4iK0srIiooWz4rfl18IitLKyIpIitLKyIqIiksUz1uZXcgUmVnRXhwKCI9IitLKyIqKFteXFxdJ1wiXSo/KSIrSysiKlxcXSIsImciKSxUPW5ldyBSZWdFeHAoTiksVT1uZXcgUmVnRXhwKCJeIitMKyIkIiksVj17SUQ6bmV3IFJlZ0V4cCgiXiMoIitMKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK0wrIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK0wrInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitNKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrTiksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitLKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitLKyIqKD86KFsrLV18KSIrSysiKihcXGQrKXwpKSIrSysiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSisiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK0srIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrSysiKigoPzotXFxkKT9cXGQqKSIrSysiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sVz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFg9L15oXGQkL2ksWT0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLCQ9L1srfl0vLF89bmV3IFJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IitLKyI/fCgiK0srIil8LikiLCJpZyIpLGFhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iMHgiK2ItNjU1MzY7cmV0dXJuIGQhPT1kfHxjP2I6ZDwwP1N0cmluZy5mcm9tQ2hhckNvZGUoZCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShkPj4xMHw1NTI5NiwxMDIzJmR8NTYzMjApfSxiYT0vKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlwwLVx4MWZceDdmLVx1RkZGRlx3LV0vZyxjYT1mdW5jdGlvbihhLGIpe3JldHVybiBiPyJcMCI9PT1hPyJcdWZmZmQiOmEuc2xpY2UoMCwtMSkrIlxcIithLmNoYXJDb2RlQXQoYS5sZW5ndGgtMSkudG9TdHJpbmcoMTYpKyIgIjoiXFwiK2F9LGRhPWZ1bmN0aW9uKCl7bSgpfSxlYT10YShmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwJiYoImZvcm0iaW4gYXx8ImxhYmVsImluIGEpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0cuYXBwbHkoRD1ILmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLERbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZmEpe0c9e2FwcGx5OkQubGVuZ3RoP2Z1bmN0aW9uKGEsYil7Ri5hcHBseShhLEguY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZD0wO3doaWxlKGFbYysrXT1iW2QrK10pO2EubGVuZ3RoPWMtMX19fWZ1bmN0aW9uIGdhKGEsYixkLGUpe3ZhciBmLGgsaixrLGwsbyxyLHM9YiYmYi5vd25lckRvY3VtZW50LHc9Yj9iLm5vZGVUeXBlOjk7aWYoZD1kfHxbXSwic3RyaW5nIiE9dHlwZW9mIGF8fCFhfHwxIT09dyYmOSE9PXcmJjExIT09dylyZXR1cm4gZDtpZighZSYmKChiP2Iub3duZXJEb2N1bWVudHx8Yjp2KSE9PW4mJm0oYiksYj1ifHxuLHApKXtpZigxMSE9PXcmJihsPVouZXhlYyhhKSkpaWYoZj1sWzFdKXtpZig5PT09dyl7aWYoIShqPWIuZ2V0RWxlbWVudEJ5SWQoZikpKXJldHVybiBkO2lmKGouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNlIGlmKHMmJihqPXMuZ2V0RWxlbWVudEJ5SWQoZikpJiZ0KGIsaikmJmouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNle2lmKGxbMl0pcmV0dXJuIEcuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChmPWxbM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gRy5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSksZH1pZihjLnFzYSYmIUFbYSsiICJdJiYoIXF8fCFxLnRlc3QoYSkpKXtpZigxIT09dylzPWIscj1hO2Vsc2UgaWYoIm9iamVjdCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpeyhrPWIuZ2V0QXR0cmlidXRlKCJpZCIpKT9rPWsucmVwbGFjZShiYSxjYSk6Yi5zZXRBdHRyaWJ1dGUoImlkIixrPXUpLG89ZyhhKSxoPW8ubGVuZ3RoO3doaWxlKGgtLSlvW2hdPSIjIitrKyIgIitzYShvW2hdKTtyPW8uam9pbigiLCIpLHM9JC50ZXN0KGEpJiZxYShiLnBhcmVudE5vZGUpfHxifWlmKHIpdHJ5e3JldHVybiBHLmFwcGx5KGQscy5xdWVyeVNlbGVjdG9yQWxsKHIpKSxkfWNhdGNoKHgpe31maW5hbGx5e2s9PT11JiZiLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBpKGEucmVwbGFjZShQLCIkMSIpLGIsZCxlKX1mdW5jdGlvbiBoYSgpe3ZhciBhPVtdO2Z1bmN0aW9uIGIoYyxlKXtyZXR1cm4gYS5wdXNoKGMrIiAiKT5kLmNhY2hlTGVuZ3RoJiZkZWxldGUgYlthLnNoaWZ0KCldLGJbYysiICJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaWEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBqYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24ga2EoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1jLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gbGEoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiZhLnNvdXJjZUluZGV4LWIuc291cmNlSW5kZXg7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBvYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuImZvcm0iaW4gYj9iLnBhcmVudE5vZGUmJmIuZGlzYWJsZWQ9PT0hMT8ibGFiZWwiaW4gYj8ibGFiZWwiaW4gYi5wYXJlbnROb2RlP2IucGFyZW50Tm9kZS5kaXNhYmxlZD09PWE6Yi5kaXNhYmxlZD09PWE6Yi5pc0Rpc2FibGVkPT09YXx8Yi5pc0Rpc2FibGVkIT09IWEmJmVhKGIpPT09YTpiLmRpc2FibGVkPT09YToibGFiZWwiaW4gYiYmYi5kaXNhYmxlZD09PWF9fWZ1bmN0aW9uIHBhKGEpe3JldHVybiBpYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixpYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIHFhKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1nYS5zdXBwb3J0PXt9LGY9Z2EuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhYiYmIkhUTUwiIT09Yi5ub2RlTmFtZX0sbT1nYS5zZXREb2N1bWVudD1mdW5jdGlvbihhKXt2YXIgYixlLGc9YT9hLm93bmVyRG9jdW1lbnR8fGE6djtyZXR1cm4gZyE9PW4mJjk9PT1nLm5vZGVUeXBlJiZnLmRvY3VtZW50RWxlbWVudD8obj1nLG89bi5kb2N1bWVudEVsZW1lbnQscD0hZihuKSx2IT09biYmKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixkYSkpLGMuYXR0cmlidXRlcz1qYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVkudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1qYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShfLGFhKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn19LGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSk6KGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShfLGFhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZU5vZGUmJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSxkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjLGQsZSxmPWIuZ2V0RWxlbWVudEJ5SWQoYSk7aWYoZil7aWYoYz1mLmdldEF0dHJpYnV0ZU5vZGUoImlkIiksYyYmYy52YWx1ZT09PWEpcmV0dXJuW2ZdO2U9Yi5nZXRFbGVtZW50c0J5TmFtZShhKSxkPTA7d2hpbGUoZj1lW2QrK10paWYoYz1mLmdldEF0dHJpYnV0ZU5vZGUoImlkIiksYyYmYy52YWx1ZT09PWEpcmV0dXJuW2ZdfXJldHVybltdfX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnApcmV0dXJuIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKX0scj1bXSxxPVtdLChjLnFzYT1ZLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihqYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitLKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitLKyIqKD86dmFsdWV8IitKKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGphKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrSysiKlsqXiR8IX5dPz0iKSwyIT09YS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmcS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLG8uYXBwZW5kQ2hpbGQoYSkuZGlzYWJsZWQ9ITAsMiE9PWEucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVkudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmamEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiKiIpLHMuY2FsbChhLCJbcyE9JyddOngiKSxyLnB1c2goIiE9IixOKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKCJ8IikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKCJ8IikpLGI9WS50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8WS50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09bnx8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1ufHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0koayxhKS1JKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZT1hLnBhcmVudE5vZGUsZj1iLnBhcmVudE5vZGUsZz1bYV0saD1bYl07aWYoIWV8fCFmKXJldHVybiBhPT09bj8tMTpiPT09bj8xOmU/LTE6Zj8xOms/SShrLGEpLUkoayxiKTowO2lmKGU9PT1mKXJldHVybiBsYShhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSlnLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWgudW5zaGlmdChjKTt3aGlsZShnW2RdPT09aFtkXSlkKys7cmV0dXJuIGQ/bGEoZ1tkXSxoW2RdKTpnW2RdPT09dj8tMTpoW2RdPT09dj8xOjB9LG4pOm59LGdhLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZ2EoYSxudWxsLG51bGwsYil9LGdhLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSxiPWIucmVwbGFjZShTLCI9JyQxJ10iKSxjLm1hdGNoZXNTZWxlY3RvciYmcCYmIUFbYisiICJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBnYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxnYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGdhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZDLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxnYS5lc2NhcGU9ZnVuY3Rpb24oYSl7cmV0dXJuKGErIiIpLnJlcGxhY2UoYmEsY2EpfSxnYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9LGdhLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1nYS5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9Z2Euc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aWEsbWF0Y2g6VixhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKF8sYWEpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKF8sYWEpLCJ+PSI9PT1hWzJdJiYoYVszXT0iICIrYVszXSsiICIpLGEuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09YVsxXS5zbGljZSgwLDMpPyhhWzNdfHxnYS5lcnJvcihhWzBdKSxhWzRdPSsoYVs0XT9hWzVdKyhhWzZdfHwxKToyKigiZXZlbiI9PT1hWzNdfHwib2RkIj09PWFbM10pKSxhWzVdPSsoYVs3XSthWzhdfHwib2RkIj09PWFbM10pKTphWzNdJiZnYS5lcnJvcihhWzBdKSxhfSxQU0VVRE86ZnVuY3Rpb24oYSl7dmFyIGIsYz0hYVs2XSYmYVsyXTtyZXR1cm4gVi5DSElMRC50ZXN0KGFbMF0pP251bGw6KGFbM10/YVsyXT1hWzRdfHxhWzVdfHwiIjpjJiZULnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoIikiLGMubGVuZ3RoLWIpLWMubGVuZ3RoKSYmKGFbMF09YVswXS5zbGljZSgwLGIpLGFbMl09Yy5zbGljZSgwLGIpKSxhLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKF8sYWEpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK0srIikiK2ErIigiK0srInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWdhLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjohYnx8KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShPLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iJiYoZT09PWN8fGUuc2xpY2UoMCxjLmxlbmd0aCsxKT09PWMrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxnYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2lhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1JKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmlhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShQLCIkMSIpKTtyZXR1cm4gZFt1XT9pYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZ2EoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczppYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoXyxhYSksZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIFUudGVzdChhfHwiIil8fGdhLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2EpLGE9YS5yZXBsYWNlKF8sYWEpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6b2EoITEpLGRpc2FibGVkOm9hKCEwKSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6cGEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OnBhKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpwYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuW2M8MD9jK2I6Y119KSxldmVuOnBhKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxiO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOnBhKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7YzxiO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6cGEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1jPDA/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpwYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWM8MD9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bWEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bmEoYik7ZnVuY3Rpb24gcmEoKXt9cmEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyByYSxnPWdhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1RLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1SLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFAsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1WW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/Z2EuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBzYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7YjxjO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHRhKGEsYixjKXt2YXIgZD1iLmRpcixlPWIubmV4dCxmPWV8fGQsZz1jJiYicGFyZW50Tm9kZSI9PT1mLGg9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxlKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGcpcmV0dXJuIGEoYixjLGUpO3JldHVybiExfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG09W3csaF07aWYoaSl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZykmJmEoYixjLGkpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxnKWlmKGw9Ylt1XXx8KGJbdV09e30pLGs9bFtiLnVuaXF1ZUlEXXx8KGxbYi51bmlxdWVJRF09e30pLGUmJmU9PT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpYj1iW2RdfHxiO2Vsc2V7aWYoKGo9a1tmXSkmJmpbMF09PT13JiZqWzFdPT09aClyZXR1cm4gbVsyXT1qWzJdO2lmKGtbZl09bSxtWzJdPWEoYixjLGkpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1YShhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiB2YShhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtkPGU7ZCsrKWdhKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB3YShhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtoPGk7aCsrKShmPWFbaF0pJiYoYyYmIWMoZixkLGUpfHwoZy5wdXNoKGYpLGomJmIucHVzaChoKSkpO3JldHVybiBnfWZ1bmN0aW9uIHhhKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbdV0mJihkPXhhKGQpKSxlJiYhZVt1XSYmKGU9eGEoZSxmKSksaWEoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8dmEoYnx8IioiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6d2EocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXdhKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9JKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj13YShyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6Ry5hcHBseShnLHIpfSl9ZnVuY3Rpb24geWEoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVsiICJdLGk9Zz8xOjAsaz10YShmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9dGEoZnVuY3Rpb24oYSl7cmV0dXJuIEkoYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3ZhciBlPSFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpO3JldHVybiBiPW51bGwsZX1dO2k8ZjtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bdGEodWEobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7ZTxmO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHhhKGk+MSYmdWEobSksaT4xJiZzYShhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbaS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFAsIiQxIiksYyxpPGUmJnlhKGEuc2xpY2UoaSxlKSksZTxmJiZ5YShhPWEuc2xpY2UoZSkpLGU8ZiYmc2EoYSkpfW0ucHVzaChjKX1yZXR1cm4gdWEobSl9ZnVuY3Rpb24gemEoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbyxxLHI9MCxzPSIwIix0PWYmJltdLHU9W10sdj1qLHg9Znx8ZSYmZC5maW5kLlRBRygiKiIsaykseT13Kz1udWxsPT12PzE6TWF0aC5yYW5kb20oKXx8LjEsej14Lmxlbmd0aDtmb3IoayYmKGo9Zz09PW58fGd8fGspO3MhPT16JiZudWxsIT0obD14W3NdKTtzKyspe2lmKGUmJmwpe289MCxnfHxsLm93bmVyRG9jdW1lbnQ9PT1ufHwobShsKSxoPSFwKTt3aGlsZShxPWFbbysrXSlpZihxKGwsZ3x8bixoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXkpfWMmJigobD0hcSYmbCkmJnItLSxmJiZ0LnB1c2gobCkpfWlmKHIrPXMsYyYmcyE9PXIpe289MDt3aGlsZShxPWJbbysrXSlxKHQsdSxnLGgpO2lmKGYpe2lmKHI+MCl3aGlsZShzLS0pdFtzXXx8dVtzXXx8KHVbc109RS5jYWxsKGkpKTt1PXdhKHUpfUcuYXBwbHkoaSx1KSxrJiYhZiYmdS5sZW5ndGg+MCYmcitiLmxlbmd0aD4xJiZnYS51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz15LGo9diksdH07cmV0dXJuIGM/aWEoZik6Zn1yZXR1cm4gaD1nYS5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthKyIgIl07aWYoIWYpe2J8fChiPWcoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9eWEoYltjXSksZlt1XT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9QShhLHphKGUsZCkpLGYuc2VsZWN0b3I9YX1yZXR1cm4gZn0saT1nYS5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsaSxqLGssbCxtPSJmdW5jdGlvbiI9PXR5cGVvZiBhJiZhLG49IWUmJmcoYT1tLnNlbGVjdG9yfHxhKTtpZihjPWN8fFtdLDE9PT1uLmxlbmd0aCl7aWYoaT1uWzBdPW5bMF0uc2xpY2UoMCksaS5sZW5ndGg+MiYmIklEIj09PShqPWlbMF0pLnR5cGUmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2lbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChqLm1hdGNoZXNbMF0ucmVwbGFjZShfLGFhKSxiKXx8W10pWzBdLCFiKXJldHVybiBjO20mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGkuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWY9Vi5uZWVkc0NvbnRleHQudGVzdChhKT8wOmkubGVuZ3RoO3doaWxlKGYtLSl7aWYoaj1pW2ZdLGQucmVsYXRpdmVbaz1qLnR5cGVdKWJyZWFrO2lmKChsPWQuZmluZFtrXSkmJihlPWwoai5tYXRjaGVzWzBdLnJlcGxhY2UoXyxhYSksJC50ZXN0KGlbMF0udHlwZSkmJnFhKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoaS5zcGxpY2UoZiwxKSxhPWUubGVuZ3RoJiZzYShpKSwhYSlyZXR1cm4gRy5hcHBseShjLGUpLGM7YnJlYWt9fX1yZXR1cm4obXx8aChhLG4pKShlLGIsIXAsYywhYnx8JC50ZXN0KGEpJiZxYShiLnBhcmVudE5vZGUpfHxiKSxjfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9amEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0IikpfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8a2EoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGEsYixjKXtpZighYylyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoYiwidHlwZSI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8aW5wdXQvPiIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8a2EoInZhbHVlIixmdW5jdGlvbihhLGIsYyl7aWYoIWMmJiJpbnB1dCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGEuZGVmYXVsdFZhbHVlfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGthKEosZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKCFjKXJldHVybiBhW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGdhfShhKTtyLmZpbmQ9eCxyLmV4cHI9eC5zZWxlY3RvcnMsci5leHByWyI6Il09ci5leHByLnBzZXVkb3Msci51bmlxdWVTb3J0PXIudW5pcXVlPXgudW5pcXVlU29ydCxyLnRleHQ9eC5nZXRUZXh0LHIuaXNYTUxEb2M9eC5pc1hNTCxyLmNvbnRhaW5zPXguY29udGFpbnMsci5lc2NhcGVTZWxlY3Rvcj14LmVzY2FwZTt2YXIgeT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT12b2lkIDAhPT1jO3doaWxlKChhPWFbYl0pJiY5IT09YS5ub2RlVHlwZSlpZigxPT09YS5ub2RlVHlwZSl7aWYoZSYmcihhKS5pcyhjKSlicmVhaztkLnB1c2goYSl9cmV0dXJuIGR9LHo9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W107YTthPWEubmV4dFNpYmxpbmcpMT09PWEubm9kZVR5cGUmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9LEE9ci5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtmdW5jdGlvbiBCKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX12YXIgQz0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaSxEPS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24gRShhLGIsYyl7cmV0dXJuIHIuaXNGdW5jdGlvbihiKT9yLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTpiLm5vZGVUeXBlP3IuZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09YiE9PWN9KToic3RyaW5nIiE9dHlwZW9mIGI/ci5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGkuY2FsbChiLGEpPi0xIT09Y30pOkQudGVzdChiKT9yLmZpbHRlcihiLGEsYyk6KGI9ci5maWx0ZXIoYixhKSxyLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gaS5jYWxsKGIsYSk+LTEhPT1jJiYxPT09YS5ub2RlVHlwZX0pKX1yLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9yLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOnIuZmluZC5tYXRjaGVzKGEsci5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxyLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5sZW5ndGgsZT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2socihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2I8ZDtiKyspaWYoci5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihjPXRoaXMucHVzaFN0YWNrKFtdKSxiPTA7YjxkO2IrKylyLmZpbmQoYSxlW2JdLGMpO3JldHVybiBkPjE/ci51bmlxdWVTb3J0KGMpOmN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRSh0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRSh0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhRSh0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmQS50ZXN0KGEpP3IoYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgRixHPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC8sSD1yLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxGLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hWzBdJiYiPiI9PT1hW2EubGVuZ3RoLTFdJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOkcuZXhlYyhhKSwhZXx8IWVbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHxjKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihlWzFdKXtpZihiPWIgaW5zdGFuY2VvZiByP2JbMF06YixyLm1lcmdlKHRoaXMsci5wYXJzZUhUTUwoZVsxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8YjpkLCEwKSksQy50ZXN0KGVbMV0pJiZyLmlzUGxhaW5PYmplY3QoYikpZm9yKGUgaW4gYilyLmlzRnVuY3Rpb24odGhpc1tlXSk/dGhpc1tlXShiW2VdKTp0aGlzLmF0dHIoZSxiW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gZj1kLmdldEVsZW1lbnRCeUlkKGVbMl0pLGYmJih0aGlzWzBdPWYsdGhpcy5sZW5ndGg9MSksdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6ci5pc0Z1bmN0aW9uKGEpP3ZvaWQgMCE9PWMucmVhZHk/Yy5yZWFkeShhKTphKHIpOnIubWFrZUFycmF5KGEsdGhpcyl9O0gucHJvdG90eXBlPXIuZm4sRj1yKGQpO3ZhciBJPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEo9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07ci5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYj1yKGEsdGhpcyksYz1iLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGM7YSsrKWlmKHIuY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPSJzdHJpbmciIT10eXBlb2YgYSYmcihhKTtpZighQS50ZXN0KGEpKWZvcig7ZDxlO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJnIuZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9yLnVuaXF1ZVNvcnQoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhPyJzdHJpbmciPT10eXBlb2YgYT9pLmNhbGwocihhKSx0aGlzWzBdKTppLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIudW5pcXVlU29ydChyLm1lcmdlKHRoaXMuZ2V0KCkscihhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBLKGEsYil7d2hpbGUoKGE9YVtiXSkmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1yLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB5KGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBLKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEsoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4geShhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4geShhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHkoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHooKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiB6KGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBCKGEsImlmcmFtZSIpP2EuY29udGVudERvY3VtZW50OihCKGEsInRlbXBsYXRlIikmJihhPWEuY29udGVudHx8YSksci5tZXJnZShbXSxhLmNoaWxkTm9kZXMpKX19LGZ1bmN0aW9uKGEsYil7ci5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPXIubWFwKHRoaXMsYixjKTtyZXR1cm4iVW50aWwiIT09YS5zbGljZSgtNSkmJihkPWMpLGQmJiJzdHJpbmciPT10eXBlb2YgZCYmKGU9ci5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKEpbYV18fHIudW5pcXVlU29ydChlKSxJLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgTD0vW15ceDIwXHRcclxuXGZdKy9nO2Z1bmN0aW9uIE0oYSl7dmFyIGI9e307cmV0dXJuIHIuZWFjaChhLm1hdGNoKEwpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifXIuQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9InN0cmluZyI9PXR5cGVvZiBhP00oYSk6ci5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZj1bXSxnPVtdLGg9LTEsaT1mdW5jdGlvbigpe2ZvcihlPWV8fGEub25jZSxkPWI9ITA7Zy5sZW5ndGg7aD0tMSl7Yz1nLnNoaWZ0KCk7d2hpbGUoKytoPGYubGVuZ3RoKWZbaF0uYXBwbHkoY1swXSxjWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlJiYoaD1mLmxlbmd0aCxjPSExKX1hLm1lbW9yeXx8KGM9ITEpLGI9ITEsZSYmKGY9Yz9bXToiIil9LGo9e2FkZDpmdW5jdGlvbigpe3JldHVybiBmJiYoYyYmIWImJihoPWYubGVuZ3RoLTEsZy5wdXNoKGMpKSxmdW5jdGlvbiBkKGIpe3IuZWFjaChiLGZ1bmN0aW9uKGIsYyl7ci5pc0Z1bmN0aW9uKGMpP2EudW5pcXVlJiZqLmhhcyhjKXx8Zi5wdXNoKGMpOmMmJmMubGVuZ3RoJiYic3RyaW5nIiE9PXIudHlwZShjKSYmZChjKX0pfShhcmd1bWVudHMpLGMmJiFiJiZpKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiByLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGM7d2hpbGUoKGM9ci5pbkFycmF5KGIsZixjKSk+LTEpZi5zcGxpY2UoYywxKSxjPD1oJiZoLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/ci5pbkFycmF5KGEsZik+LTE6Zi5sZW5ndGg+MH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGY9W10pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZT1nPVtdLGY9Yz0iIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFmfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxjfHxifHwoZj1jPSIiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfTtmdW5jdGlvbiBOKGEpe3JldHVybiBhfWZ1bmN0aW9uIE8oYSl7dGhyb3cgYX1mdW5jdGlvbiBQKGEsYixjLGQpe3ZhciBlO3RyeXthJiZyLmlzRnVuY3Rpb24oZT1hLnByb21pc2UpP2UuY2FsbChhKS5kb25lKGIpLmZhaWwoYyk6YSYmci5pc0Z1bmN0aW9uKGU9YS50aGVuKT9lLmNhbGwoYSxiLGMpOmIuYXBwbHkodm9pZCAwLFthXS5zbGljZShkKSl9Y2F0Y2goYSl7Yy5hcHBseSh2b2lkIDAsW2FdKX19ci5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGIpe3ZhciBjPVtbIm5vdGlmeSIsInByb2dyZXNzIixyLkNhbGxiYWNrcygibWVtb3J5Iiksci5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLHIuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHIuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixyLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxyLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxkPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBkfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZi5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24oYSl7cmV0dXJuIGUudGhlbihudWxsLGEpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiByLkRlZmVycmVkKGZ1bmN0aW9uKGIpe3IuZWFjaChjLGZ1bmN0aW9uKGMsZCl7dmFyIGU9ci5pc0Z1bmN0aW9uKGFbZFs0XV0pJiZhW2RbNF1dO2ZbZFsxXV0oZnVuY3Rpb24oKXt2YXIgYT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZyLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhiLm5vdGlmeSkuZG9uZShiLnJlc29sdmUpLmZhaWwoYi5yZWplY3QpOmJbZFswXSsiV2l0aCJdKHRoaXMsZT9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKGIsZCxlKXt2YXIgZj0wO2Z1bmN0aW9uIGcoYixjLGQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxpPWFyZ3VtZW50cyxqPWZ1bmN0aW9uKCl7dmFyIGEsajtpZighKGI8Zikpe2lmKGE9ZC5hcHBseShoLGkpLGE9PT1jLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtqPWEmJigib2JqZWN0Ij09dHlwZW9mIGF8fCJmdW5jdGlvbiI9PXR5cGVvZiBhKSYmYS50aGVuLHIuaXNGdW5jdGlvbihqKT9lP2ouY2FsbChhLGcoZixjLE4sZSksZyhmLGMsTyxlKSk6KGYrKyxqLmNhbGwoYSxnKGYsYyxOLGUpLGcoZixjLE8sZSksZyhmLGMsTixjLm5vdGlmeVdpdGgpKSk6KGQhPT1OJiYoaD12b2lkIDAsaT1bYV0pLChlfHxjLnJlc29sdmVXaXRoKShoLGkpKX19LGs9ZT9qOmZ1bmN0aW9uKCl7dHJ5e2ooKX1jYXRjaChhKXtyLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2smJnIuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhhLGsuc3RhY2tUcmFjZSksYisxPj1mJiYoZCE9PU8mJihoPXZvaWQgMCxpPVthXSksYy5yZWplY3RXaXRoKGgsaSkpfX07Yj9rKCk6KHIuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYoay5zdGFja1RyYWNlPXIuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLGEuc2V0VGltZW91dChrKSl9fXJldHVybiByLkRlZmVycmVkKGZ1bmN0aW9uKGEpe2NbMF1bM10uYWRkKGcoMCxhLHIuaXNGdW5jdGlvbihlKT9lOk4sYS5ub3RpZnlXaXRoKSksY1sxXVszXS5hZGQoZygwLGEsci5pc0Z1bmN0aW9uKGIpP2I6TikpLGNbMl1bM10uYWRkKGcoMCxhLHIuaXNGdW5jdGlvbihkKT9kOk8pKX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9yLmV4dGVuZChhLGUpOmV9fSxmPXt9O3JldHVybiByLmVhY2goYyxmdW5jdGlvbihhLGIpe3ZhciBnPWJbMl0saD1iWzVdO2VbYlsxXV09Zy5hZGQsaCYmZy5hZGQoZnVuY3Rpb24oKXtkPWh9LGNbMy1hXVsyXS5kaXNhYmxlLGNbMF1bMl0ubG9jayksZy5hZGQoYlszXS5maXJlKSxmW2JbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGZbYlswXSsiV2l0aCJdKHRoaXM9PT1mP3ZvaWQgMDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZltiWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGUucHJvbWlzZShmKSxiJiZiLmNhbGwoZixmKSxmfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cy5sZW5ndGgsYz1iLGQ9QXJyYXkoYyksZT1mLmNhbGwoYXJndW1lbnRzKSxnPXIuRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXtkW2FdPXRoaXMsZVthXT1hcmd1bWVudHMubGVuZ3RoPjE/Zi5jYWxsKGFyZ3VtZW50cyk6YywtLWJ8fGcucmVzb2x2ZVdpdGgoZCxlKX19O2lmKGI8PTEmJihQKGEsZy5kb25lKGgoYykpLnJlc29sdmUsZy5yZWplY3QsIWIpLCJwZW5kaW5nIj09PWcuc3RhdGUoKXx8ci5pc0Z1bmN0aW9uKGVbY10mJmVbY10udGhlbikpKXJldHVybiBnLnRoZW4oKTt3aGlsZShjLS0pUChlW2NdLGgoYyksZy5yZWplY3QpO3JldHVybiBnLnByb21pc2UoKX19KTt2YXIgUT0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztyLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oYixjKXthLmNvbnNvbGUmJmEuY29uc29sZS53YXJuJiZiJiZRLnRlc3QoYi5uYW1lKSYmYS5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrYi5tZXNzYWdlLGIuc3RhY2ssYyl9LHIucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oYil7YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYn0pfTt2YXIgUj1yLkRlZmVycmVkKCk7ci5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gUi50aGVuKGEpWyJjYXRjaCJdKGZ1bmN0aW9uKGEpe3IucmVhZHlFeGNlcHRpb24oYSl9KSx0aGlzfSxyLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tci5yZWFkeVdhaXQ6ci5pc1JlYWR5KXx8KHIuaXNSZWFkeT0hMCxhIT09ITAmJi0tci5yZWFkeVdhaXQ+MHx8Ui5yZXNvbHZlV2l0aChkLFtyXSkpfX0pLHIucmVhZHkudGhlbj1SLnRoZW47ZnVuY3Rpb24gUygpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsUyksCmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsUyksci5yZWFkeSgpfSJjb21wbGV0ZSI9PT1kLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWQucmVhZHlTdGF0ZSYmIWQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP2Euc2V0VGltZW91dChyLnJlYWR5KTooZC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixTKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLFMpKTt2YXIgVD1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0wLGk9YS5sZW5ndGgsaj1udWxsPT1jO2lmKCJvYmplY3QiPT09ci50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpVChhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxyLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwocihhKSxjKX0pKSxiKSlmb3IoO2g8aTtoKyspYihhW2hdLGMsZz9kOmQuY2FsbChhW2hdLGgsYihhW2hdLGMpKSk7cmV0dXJuIGU/YTpqP2IuY2FsbChhKTppP2IoYVswXSxjKTpmfSxVPWZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZXx8OT09PWEubm9kZVR5cGV8fCErYS5ub2RlVHlwZX07ZnVuY3Rpb24gVigpe3RoaXMuZXhwYW5kbz1yLmV4cGFuZG8rVi51aWQrK31WLnVpZD0xLFYucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIGJ8fChiPXt9LFUoYSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSkpLGJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmNhY2hlKGEpO2lmKCJzdHJpbmciPT10eXBlb2YgYillW3IuY2FtZWxDYXNlKGIpXT1jO2Vsc2UgZm9yKGQgaW4gYillW3IuY2FtZWxDYXNlKGQpXT1iW2RdO3JldHVybiBlfSxnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwPT09Yj90aGlzLmNhY2hlKGEpOmFbdGhpcy5leHBhbmRvXSYmYVt0aGlzLmV4cGFuZG9dW3IuY2FtZWxDYXNlKGIpXX0sYWNjZXNzOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmInN0cmluZyI9PXR5cGVvZiBiJiZ2b2lkIDA9PT1jP3RoaXMuZ2V0KGEsYik6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9YVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PWQpe2lmKHZvaWQgMCE9PWIpe0FycmF5LmlzQXJyYXkoYik/Yj1iLm1hcChyLmNhbWVsQ2FzZSk6KGI9ci5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIubWF0Y2goTCl8fFtdKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlkZWxldGUgZFtiW2NdXX0odm9pZCAwPT09Ynx8ci5pc0VtcHR5T2JqZWN0KGQpKSYmKGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgYVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT1iJiYhci5pc0VtcHR5T2JqZWN0KGIpfX07dmFyIFc9bmV3IFYsWD1uZXcgVixZPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sWj0vW0EtWl0vZztmdW5jdGlvbiAkKGEpe3JldHVybiJ0cnVlIj09PWF8fCJmYWxzZSIhPT1hJiYoIm51bGwiPT09YT9udWxsOmE9PT0rYSsiIj8rYTpZLnRlc3QoYSk/SlNPTi5wYXJzZShhKTphKX1mdW5jdGlvbiBfKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPSJkYXRhLSIrYi5yZXBsYWNlKFosIi0kJiIpLnRvTG93ZXJDYXNlKCksYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSQoYyl9Y2F0Y2goZSl7fVguc2V0KGEsYixjKX1lbHNlIGM9dm9pZCAwO3JldHVybiBjfXIuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBYLmhhc0RhdGEoYSl8fFcuaGFzRGF0YShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFguYWNjZXNzKGEsYixjKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe1gucmVtb3ZlKGEsYil9LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gVy5hY2Nlc3MoYSxiLGMpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe1cucmVtb3ZlKGEsYil9fSksci5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzWzBdLGc9ZiYmZi5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoZT1YLmdldChmKSwxPT09Zi5ub2RlVHlwZSYmIVcuZ2V0KGYsImhhc0RhdGFBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPXIuY2FtZWxDYXNlKGQuc2xpY2UoNSkpLF8oZixkLGVbZF0pKSk7Vy5zZXQoZiwiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGV9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe1guc2V0KHRoaXMsYSl9KTpUKHRoaXMsZnVuY3Rpb24oYil7dmFyIGM7aWYoZiYmdm9pZCAwPT09Yil7aWYoYz1YLmdldChmLGEpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoYz1fKGYsYSksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe1guc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtYLnJlbW92ZSh0aGlzLGEpfSl9fSksci5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihhKXJldHVybiBiPShifHwiZngiKSsicXVldWUiLGQ9Vy5nZXQoYSxiKSxjJiYoIWR8fEFycmF5LmlzQXJyYXkoYyk/ZD1XLmFjY2VzcyhhLGIsci5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W119LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fCJmeCI7dmFyIGM9ci5xdWV1ZShhLGIpLGQ9Yy5sZW5ndGgsZT1jLnNoaWZ0KCksZj1yLl9xdWV1ZUhvb2tzKGEsYiksZz1mdW5jdGlvbigpe3IuZGVxdWV1ZShhLGIpfTsiaW5wcm9ncmVzcyI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoImZ4Ij09PWImJmMudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBmLnN0b3AsZS5jYWxsKGEsZyxmKSksIWQmJmYmJmYuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihhLGIpe3ZhciBjPWIrInF1ZXVlSG9va3MiO3JldHVybiBXLmdldChhLGMpfHxXLmFjY2VzcyhhLGMse2VtcHR5OnIuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe1cucmVtb3ZlKGEsW2IrInF1ZXVlIixjXSl9KX0pfX0pLHIuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9ImZ4IixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9yLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPXIucXVldWUodGhpcyxhLGIpO3IuX3F1ZXVlSG9va3ModGhpcyxhKSwiZngiPT09YSYmImlucHJvZ3Jlc3MiIT09Y1swXSYmci5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPXIuRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07InN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fCJmeCI7d2hpbGUoZy0tKWM9Vy5nZXQoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIGFhPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLGJhPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIithYSsiKShbYS16JV0qKSQiLCJpIiksY2E9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxkYT1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsIm5vbmUiPT09YS5zdHlsZS5kaXNwbGF5fHwiIj09PWEuc3R5bGUuZGlzcGxheSYmci5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSkmJiJub25lIj09PXIuY3NzKGEsImRpc3BsYXkiKX0sZWE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXt9O2ZvcihmIGluIGIpZ1tmXT1hLnN0eWxlW2ZdLGEuc3R5bGVbZl09YltmXTtlPWMuYXBwbHkoYSxkfHxbXSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWdbZl07cmV0dXJuIGV9O2Z1bmN0aW9uIGZhKGEsYixjLGQpe3ZhciBlLGY9MSxnPTIwLGg9ZD9mdW5jdGlvbigpe3JldHVybiBkLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiByLmNzcyhhLGIsIiIpfSxpPWgoKSxqPWMmJmNbM118fChyLmNzc051bWJlcltiXT8iIjoicHgiKSxrPShyLmNzc051bWJlcltiXXx8InB4IiE9PWomJitpKSYmYmEuZXhlYyhyLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fCIuNSIsay89ZixyLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBnYT17fTtmdW5jdGlvbiBoYShhKXt2YXIgYixjPWEub3duZXJEb2N1bWVudCxkPWEubm9kZU5hbWUsZT1nYVtkXTtyZXR1cm4gZT9lOihiPWMuYm9keS5hcHBlbmRDaGlsZChjLmNyZWF0ZUVsZW1lbnQoZCkpLGU9ci5jc3MoYiwiZGlzcGxheSIpLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSwibm9uZSI9PT1lJiYoZT0iYmxvY2siKSxnYVtkXT1lLGUpfWZ1bmN0aW9uIGlhKGEsYil7Zm9yKHZhciBjLGQsZT1bXSxmPTAsZz1hLmxlbmd0aDtmPGc7ZisrKWQ9YVtmXSxkLnN0eWxlJiYoYz1kLnN0eWxlLmRpc3BsYXksYj8oIm5vbmUiPT09YyYmKGVbZl09Vy5nZXQoZCwiZGlzcGxheSIpfHxudWxsLGVbZl18fChkLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PWQuc3R5bGUuZGlzcGxheSYmZGEoZCkmJihlW2ZdPWhhKGQpKSk6Im5vbmUiIT09YyYmKGVbZl09Im5vbmUiLFcuc2V0KGQsImRpc3BsYXkiLGMpKSk7Zm9yKGY9MDtmPGc7ZisrKW51bGwhPWVbZl0mJihhW2ZdLnN0eWxlLmRpc3BsYXk9ZVtmXSk7cmV0dXJuIGF9ci5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gaWEodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gaWEodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGEodGhpcyk/cih0aGlzKS5zaG93KCk6cih0aGlzKS5oaWRlKCl9KX19KTt2YXIgamE9L14oPzpjaGVja2JveHxyYWRpbykkL2ksa2E9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSspL2ksbGE9L14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pLG1hPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07bWEub3B0Z3JvdXA9bWEub3B0aW9uLG1hLnRib2R5PW1hLnRmb290PW1hLmNvbGdyb3VwPW1hLmNhcHRpb249bWEudGhlYWQsbWEudGg9bWEudGQ7ZnVuY3Rpb24gbmEoYSxiKXt2YXIgYztyZXR1cm4gYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdLHZvaWQgMD09PWJ8fGImJkIoYSxiKT9yLm1lcmdlKFthXSxjKTpjfWZ1bmN0aW9uIG9hKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKVcuc2V0KGFbY10sImdsb2JhbEV2YWwiLCFifHxXLmdldChiW2NdLCJnbG9iYWxFdmFsIikpfXZhciBwYT0vPHwmIz9cdys7LztmdW5jdGlvbiBxYShhLGIsYyxkLGUpe2Zvcih2YXIgZixnLGgsaSxqLGssbD1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtPVtdLG49MCxvPWEubGVuZ3RoO248bztuKyspaWYoZj1hW25dLGZ8fDA9PT1mKWlmKCJvYmplY3QiPT09ci50eXBlKGYpKXIubWVyZ2UobSxmLm5vZGVUeXBlP1tmXTpmKTtlbHNlIGlmKHBhLnRlc3QoZikpe2c9Z3x8bC5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxoPShrYS5leGVjKGYpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGk9bWFbaF18fG1hLl9kZWZhdWx0LGcuaW5uZXJIVE1MPWlbMV0rci5odG1sUHJlZmlsdGVyKGYpK2lbMl0saz1pWzBdO3doaWxlKGstLSlnPWcubGFzdENoaWxkO3IubWVyZ2UobSxnLmNoaWxkTm9kZXMpLGc9bC5maXJzdENoaWxkLGcudGV4dENvbnRlbnQ9IiJ9ZWxzZSBtLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShmKSk7bC50ZXh0Q29udGVudD0iIixuPTA7d2hpbGUoZj1tW24rK10paWYoZCYmci5pbkFycmF5KGYsZCk+LTEpZSYmZS5wdXNoKGYpO2Vsc2UgaWYoaj1yLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxnPW5hKGwuYXBwZW5kQ2hpbGQoZiksInNjcmlwdCIpLGomJm9hKGcpLGMpe2s9MDt3aGlsZShmPWdbaysrXSlsYS50ZXN0KGYudHlwZXx8IiIpJiZjLnB1c2goZil9cmV0dXJuIGx9IWZ1bmN0aW9uKCl7dmFyIGE9ZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGM9ZC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Muc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxjLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxjLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxiLmFwcGVuZENoaWxkKGMpLG8uY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIsby5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciByYT1kLmRvY3VtZW50RWxlbWVudCxzYT0vXmtleS8sdGE9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLHVhPS9eKFteLl0qKSg/OlwuKC4rKXwpLztmdW5jdGlvbiB2YSgpe3JldHVybiEwfWZ1bmN0aW9uIHdhKCl7cmV0dXJuITF9ZnVuY3Rpb24geGEoKXt0cnl7cmV0dXJuIGQuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fWZ1bmN0aW9uIHlhKGEsYixjLGQsZSxmKXt2YXIgZyxoO2lmKCJvYmplY3QiPT10eXBlb2YgYil7InN0cmluZyIhPXR5cGVvZiBjJiYoZD1kfHxjLGM9dm9pZCAwKTtmb3IoaCBpbiBiKXlhKGEsaCxjLGQsYltoXSxmKTtyZXR1cm4gYX1pZihudWxsPT1kJiZudWxsPT1lPyhlPWMsZD1jPXZvaWQgMCk6bnVsbD09ZSYmKCJzdHJpbmciPT10eXBlb2YgYz8oZT1kLGQ9dm9pZCAwKTooZT1kLGQ9YyxjPXZvaWQgMCkpLGU9PT0hMSllPXdhO2Vsc2UgaWYoIWUpcmV0dXJuIGE7cmV0dXJuIDE9PT1mJiYoZz1lLGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHIoKS5vZmYoYSksZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZ3VpZD1nLmd1aWR8fChnLmd1aWQ9ci5ndWlkKyspKSxhLmVhY2goZnVuY3Rpb24oKXtyLmV2ZW50LmFkZCh0aGlzLGIsZSxkLGMpfSl9ci5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvLHAscT1XLmdldChhKTtpZihxKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVjdG9yKSxlJiZyLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHJhLGUpLGMuZ3VpZHx8KGMuZ3VpZD1yLmd1aWQrKyksKGk9cS5ldmVudHMpfHwoaT1xLmV2ZW50cz17fSksKGc9cS5oYW5kbGUpfHwoZz1xLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHImJnIuZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP3IuZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fCIiKS5tYXRjaChMKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPXVhLmV4ZWMoYltqXSl8fFtdLG49cD1oWzFdLG89KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxuJiYobD1yLmV2ZW50LnNwZWNpYWxbbl18fHt9LG49KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG4sbD1yLmV2ZW50LnNwZWNpYWxbbl18fHt9LGs9ci5leHRlbmQoe3R5cGU6bixvcmlnVHlwZTpwLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmci5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpvLmpvaW4oIi4iKX0sZiksKG09aVtuXSl8fChtPWlbbl09W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxvLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG4sZykpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxyLmV2ZW50Lmdsb2JhbFtuXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9Vy5oYXNEYXRhKGEpJiZXLmdldChhKTtpZihxJiYoaT1xLmV2ZW50cykpe2I9KGJ8fCIiKS5tYXRjaChMKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPXVhLmV4ZWMoYltqXSl8fFtdLG49cD1oWzFdLG89KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxuKXtsPXIuZXZlbnQuc3BlY2lhbFtuXXx8e30sbj0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8bixtPWlbbl18fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrby5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcCE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoIioqIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEsbyxxLmhhbmRsZSkhPT0hMXx8ci5yZW1vdmVFdmVudChhLG4scS5oYW5kbGUpLGRlbGV0ZSBpW25dKX1lbHNlIGZvcihuIGluIGkpci5ldmVudC5yZW1vdmUoYSxuK2Jbal0sYyxkLCEwKTtyLmlzRW1wdHlPYmplY3QoaSkmJlcucmVtb3ZlKGEsImhhbmRsZSBldmVudHMiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZhciBiPXIuZXZlbnQuZml4KGEpLGMsZCxlLGYsZyxoLGk9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLGo9KFcuZ2V0KHRoaXMsImV2ZW50cyIpfHx7fSlbYi50eXBlXXx8W10saz1yLmV2ZW50LnNwZWNpYWxbYi50eXBlXXx8e307Zm9yKGlbMF09YixjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKylpW2NdPWFyZ3VtZW50c1tjXTtpZihiLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGIpIT09ITEpe2g9ci5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYixqKSxjPTA7d2hpbGUoKGY9aFtjKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7Yi5jdXJyZW50VGFyZ2V0PWYuZWxlbSxkPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tkKytdKSYmIWIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSliLnJuYW1lc3BhY2UmJiFiLnJuYW1lc3BhY2UudGVzdChnLm5hbWVzcGFjZSl8fChiLmhhbmRsZU9iaj1nLGIuZGF0YT1nLmRhdGEsZT0oKHIuZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZSYmKGIucmVzdWx0PWUpPT09ITEmJihiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGIpLGIucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGg9W10saT1iLmRlbGVnYXRlQ291bnQsaj1hLnRhcmdldDtpZihpJiZqLm5vZGVUeXBlJiYhKCJjbGljayI9PT1hLnR5cGUmJmEuYnV0dG9uPj0xKSlmb3IoO2ohPT10aGlzO2o9ai5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1qLm5vZGVUeXBlJiYoImNsaWNrIiE9PWEudHlwZXx8ai5kaXNhYmxlZCE9PSEwKSl7Zm9yKGY9W10sZz17fSxjPTA7YzxpO2MrKylkPWJbY10sZT1kLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1nW2VdJiYoZ1tlXT1kLm5lZWRzQ29udGV4dD9yKGUsdGhpcykuaW5kZXgoaik+LTE6ci5maW5kKGUsdGhpcyxudWxsLFtqXSkubGVuZ3RoKSxnW2VdJiZmLnB1c2goZCk7Zi5sZW5ndGgmJmgucHVzaCh7ZWxlbTpqLGhhbmRsZXJzOmZ9KX1yZXR1cm4gaj10aGlzLGk8Yi5sZW5ndGgmJmgucHVzaCh7ZWxlbTpqLGhhbmRsZXJzOmIuc2xpY2UoaSl9KSxofSxhZGRQcm9wOmZ1bmN0aW9uKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIuRXZlbnQucHJvdG90eXBlLGEse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpyLmlzRnVuY3Rpb24oYik/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGIodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFthXX0sc2V0OmZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGEse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KX19KX0sZml4OmZ1bmN0aW9uKGEpe3JldHVybiBhW3IuZXhwYW5kb10/YTpuZXcgci5FdmVudChhKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcyE9PXhhKCkmJnRoaXMuZm9jdXMpcmV0dXJuIHRoaXMuZm9jdXMoKSwhMX0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXM9PT14YSgpJiZ0aGlzLmJsdXIpcmV0dXJuIHRoaXMuYmx1cigpLCExfSxkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZigiY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZCKHRoaXMsImlucHV0IikpcmV0dXJuIHRoaXMuY2xpY2soKSwhMX0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEIoYS50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19fSxyLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMpfSxyLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiByLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT92YTp3YSx0aGlzLnRhcmdldD1hLnRhcmdldCYmMz09PWEudGFyZ2V0Lm5vZGVUeXBlP2EudGFyZ2V0LnBhcmVudE5vZGU6YS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWEuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9YS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9YSxiJiZyLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxyLm5vdygpLHZvaWQodGhpc1tyLmV4cGFuZG9dPSEwKSk6bmV3IHIuRXZlbnQoYSxiKX0sci5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOndhLGlzUHJvcGFnYXRpb25TdG9wcGVkOndhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOndhLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXZhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXZhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD12YSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sci5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihhKXt2YXIgYj1hLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS53aGljaCYmc2EudGVzdChhLnR5cGUpP251bGwhPWEuY2hhckNvZGU/YS5jaGFyQ29kZTphLmtleUNvZGU6IWEud2hpY2gmJnZvaWQgMCE9PWImJnRhLnRlc3QoYS50eXBlKT8xJmI/MToyJmI/Mzo0JmI/MjowOmEud2hpY2h9fSxyLmV2ZW50LmFkZFByb3ApLHIuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtyLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fHIuY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLHIuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4geWEodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB5YSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixyKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmImZ1bmN0aW9uIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9d2EpLHRoaXMuZWFjaChmdW5jdGlvbigpe3IuZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9fSk7dmFyIHphPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKVtePl0qKVwvPi9naSxBYT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxCYT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxDYT0vXnRydWVcLyguKikvLERhPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBFYShhLGIpe3JldHVybiBCKGEsInRhYmxlIikmJkIoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP3IoIj50Ym9keSIsYSlbMF18fGE6YX1mdW5jdGlvbiBGYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2EudHlwZSxhfWZ1bmN0aW9uIEdhKGEpe3ZhciBiPUNhLmV4ZWMoYS50eXBlKTtyZXR1cm4gYj9hLnR5cGU9YlsxXTphLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLGF9ZnVuY3Rpb24gSGEoYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqO2lmKDE9PT1iLm5vZGVUeXBlKXtpZihXLmhhc0RhdGEoYSkmJihmPVcuYWNjZXNzKGEpLGc9Vy5zZXQoYixmKSxqPWYuZXZlbnRzKSl7ZGVsZXRlIGcuaGFuZGxlLGcuZXZlbnRzPXt9O2ZvcihlIGluIGopZm9yKGM9MCxkPWpbZV0ubGVuZ3RoO2M8ZDtjKyspci5ldmVudC5hZGQoYixlLGpbZV1bY10pfVguaGFzRGF0YShhKSYmKGg9WC5hY2Nlc3MoYSksaT1yLmV4dGVuZCh7fSxoKSxYLnNldChiLGkpKX19ZnVuY3Rpb24gSWEoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7ImlucHV0Ij09PWMmJmphLnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOiJpbnB1dCIhPT1jJiYidGV4dGFyZWEiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1mdW5jdGlvbiBKYShhLGIsYyxkKXtiPWcuYXBwbHkoW10sYik7dmFyIGUsZixoLGksaixrLGw9MCxtPWEubGVuZ3RoLG49bS0xLHE9YlswXSxzPXIuaXNGdW5jdGlvbihxKTtpZihzfHxtPjEmJiJzdHJpbmciPT10eXBlb2YgcSYmIW8uY2hlY2tDbG9uZSYmQmEudGVzdChxKSlyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBmPWEuZXEoZSk7cyYmKGJbMF09cS5jYWxsKHRoaXMsZSxmLmh0bWwoKSkpLEphKGYsYixjLGQpfSk7aWYobSYmKGU9cWEoYixhWzBdLm93bmVyRG9jdW1lbnQsITEsYSxkKSxmPWUuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9ZiksZnx8ZCkpe2ZvcihoPXIubWFwKG5hKGUsInNjcmlwdCIpLEZhKSxpPWgubGVuZ3RoO2w8bTtsKyspaj1lLGwhPT1uJiYoaj1yLmNsb25lKGosITAsITApLGkmJnIubWVyZ2UoaCxuYShqLCJzY3JpcHQiKSkpLGMuY2FsbChhW2xdLGosbCk7aWYoaSlmb3Ioaz1oW2gubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsci5tYXAoaCxHYSksbD0wO2w8aTtsKyspaj1oW2xdLGxhLnRlc3Qoai50eXBlfHwiIikmJiFXLmFjY2VzcyhqLCJnbG9iYWxFdmFsIikmJnIuY29udGFpbnMoayxqKSYmKGouc3JjP3IuX2V2YWxVcmwmJnIuX2V2YWxVcmwoai5zcmMpOnAoai50ZXh0Q29udGVudC5yZXBsYWNlKERhLCIiKSxrKSl9cmV0dXJuIGF9ZnVuY3Rpb24gS2EoYSxiLGMpe2Zvcih2YXIgZCxlPWI/ci5maWx0ZXIoYixhKTphLGY9MDtudWxsIT0oZD1lW2ZdKTtmKyspY3x8MSE9PWQubm9kZVR5cGV8fHIuY2xlYW5EYXRhKG5hKGQpKSxkLnBhcmVudE5vZGUmJihjJiZyLmNvbnRhaW5zKGQub3duZXJEb2N1bWVudCxkKSYmb2EobmEoZCwic2NyaXB0IikpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSk7cmV0dXJuIGF9ci5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh6YSwiPCQxPjwvJDI+Iil9LGNsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPXIuY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEoby5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8ci5pc1hNTERvYyhhKSkpZm9yKGc9bmEoaCksZj1uYShhKSxkPTAsZT1mLmxlbmd0aDtkPGU7ZCsrKUlhKGZbZF0sZ1tkXSk7aWYoYilpZihjKWZvcihmPWZ8fG5hKGEpLGc9Z3x8bmEoaCksZD0wLGU9Zi5sZW5ndGg7ZDxlO2QrKylIYShmW2RdLGdbZF0pO2Vsc2UgSGEoYSxoKTtyZXR1cm4gZz1uYShoLCJzY3JpcHQiKSxnLmxlbmd0aD4wJiZvYShnLCFpJiZuYShhLCJzY3JpcHQiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZT1yLmV2ZW50LnNwZWNpYWwsZj0wO3ZvaWQgMCE9PShjPWFbZl0pO2YrKylpZihVKGMpKXtpZihiPWNbVy5leHBhbmRvXSl7aWYoYi5ldmVudHMpZm9yKGQgaW4gYi5ldmVudHMpZVtkXT9yLmV2ZW50LnJlbW92ZShjLGQpOnIucmVtb3ZlRXZlbnQoYyxkLGIuaGFuZGxlKTtjW1cuZXhwYW5kb109dm9pZCAwfWNbWC5leHBhbmRvXSYmKGNbWC5leHBhbmRvXT12b2lkIDApfX19KSxyLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBLYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIEthKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9yLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9YSl9KX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUVhKHRoaXMsYSk7Yi5hcHBlbmRDaGlsZChhKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBKYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9RWEodGhpcyxhKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBKYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBKYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7bnVsbCE9KGE9dGhpc1tiXSk7YisrKTE9PT1hLm5vZGVUeXBlJiYoci5jbGVhbkRhdGEobmEoYSwhMSkpLGEudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGwhPWEmJmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiByLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBUKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSYmMT09PWIubm9kZVR5cGUpcmV0dXJuIGIuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmIUFhLnRlc3QoYSkmJiFtYVsoa2EuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9ci5odG1sUHJlZmlsdGVyKGEpO3RyeXtmb3IoO2M8ZDtjKyspYj10aGlzW2NdfHx7fSwxPT09Yi5ub2RlVHlwZSYmKHIuY2xlYW5EYXRhKG5hKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIEphKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMucGFyZW50Tm9kZTtyLmluQXJyYXkodGhpcyxhKTwwJiYoci5jbGVhbkRhdGEobmEodGhpcykpLGMmJmMucmVwbGFjZUNoaWxkKGIsdGhpcykpfSxhKX19KSxyLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihhLGIpe3IuZm5bYV09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjLGQ9W10sZT1yKGEpLGY9ZS5sZW5ndGgtMSxnPTA7Zzw9ZjtnKyspYz1nPT09Zj90aGlzOnRoaXMuY2xvbmUoITApLHIoZVtnXSlbYl0oYyksaC5hcHBseShkLGMuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhkKX19KTt2YXIgTGE9L15tYXJnaW4vLE1hPW5ldyBSZWdFeHAoIl4oIithYSsiKSg/IXB4KVthLXolXSskIiwiaSIpLE5hPWZ1bmN0aW9uKGIpe3ZhciBjPWIub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gYyYmYy5vcGVuZXJ8fChjPWEpLGMuZ2V0Q29tcHV0ZWRTdHlsZShiKX07IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2lmKGkpe2kuc3R5bGUuY3NzVGV4dD0iYm94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt0b3A6MSU7d2lkdGg6NTAlIixpLmlubmVySFRNTD0iIixyYS5hcHBlbmRDaGlsZChoKTt2YXIgYj1hLmdldENvbXB1dGVkU3R5bGUoaSk7Yz0iMSUiIT09Yi50b3AsZz0iMnB4Ij09PWIubWFyZ2luTGVmdCxlPSI0cHgiPT09Yi53aWR0aCxpLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGY9IjRweCI9PT1iLm1hcmdpblJpZ2h0LHJhLnJlbW92ZUNoaWxkKGgpLGk9bnVsbH19dmFyIGMsZSxmLGcsaD1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpLnN0eWxlJiYoaS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGkuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixvLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09aS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxoLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixoLmFwcGVuZENoaWxkKGkpLHIuZXh0ZW5kKG8se3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGN9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGIoKSxlfSxwaXhlbE1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGIoKSxmfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGd9fSkpfSgpO2Z1bmN0aW9uIE9hKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8TmEoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdLCIiIT09Z3x8ci5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChnPXIuc3R5bGUoYSxiKSksIW8ucGl4ZWxNYXJnaW5SaWdodCgpJiZNYS50ZXN0KGcpJiZMYS50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crIiI6Z31mdW5jdGlvbiBQYShhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX12YXIgUWE9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFJhPS9eLS0vLFNhPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxUYT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0sVWE9WyJXZWJraXQiLCJNb3oiLCJtcyJdLFZhPWQuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGU7ZnVuY3Rpb24gV2EoYSl7aWYoYSBpbiBWYSlyZXR1cm4gYTt2YXIgYj1hWzBdLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPVVhLmxlbmd0aDt3aGlsZShjLS0paWYoYT1VYVtjXStiLGEgaW4gVmEpcmV0dXJuIGF9ZnVuY3Rpb24gWGEoYSl7dmFyIGI9ci5jc3NQcm9wc1thXTtyZXR1cm4gYnx8KGI9ci5jc3NQcm9wc1thXT1XYShhKXx8YSksYn1mdW5jdGlvbiBZYShhLGIsYyl7dmFyIGQ9YmEuZXhlYyhiKTtyZXR1cm4gZD9NYXRoLm1heCgwLGRbMl0tKGN8fDApKSsoZFszXXx8InB4Iik6Yn1mdW5jdGlvbiBaYShhLGIsYyxkLGUpe3ZhciBmLGc9MDtmb3IoZj1jPT09KGQ/ImJvcmRlciI6ImNvbnRlbnQiKT80OiJ3aWR0aCI9PT1iPzE6MDtmPDQ7Zis9MikibWFyZ2luIj09PWMmJihnKz1yLmNzcyhhLGMrY2FbZl0sITAsZSkpLGQ/KCJjb250ZW50Ij09PWMmJihnLT1yLmNzcyhhLCJwYWRkaW5nIitjYVtmXSwhMCxlKSksIm1hcmdpbiIhPT1jJiYoZy09ci5jc3MoYSwiYm9yZGVyIitjYVtmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPXIuY3NzKGEsInBhZGRpbmciK2NhW2ZdLCEwLGUpLCJwYWRkaW5nIiE9PWMmJihnKz1yLmNzcyhhLCJib3JkZXIiK2NhW2ZdKyJXaWR0aCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiAkYShhLGIsYyl7dmFyIGQsZT1OYShhKSxmPU9hKGEsYixlKSxnPSJib3JkZXItYm94Ij09PXIuY3NzKGEsImJveFNpemluZyIsITEsZSk7cmV0dXJuIE1hLnRlc3QoZik/ZjooZD1nJiYoby5ib3hTaXppbmdSZWxpYWJsZSgpfHxmPT09YS5zdHlsZVtiXSksImF1dG8iPT09ZiYmKGY9YVsib2Zmc2V0IitiWzBdLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKV0pLGY9cGFyc2VGbG9hdChmKXx8MCxmK1phKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZSkrInB4Iil9ci5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1PYShhLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1jPyIxIjpjfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOiJjc3NGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9ci5jYW1lbENhc2UoYiksaT1SYS50ZXN0KGIpLGo9YS5zdHlsZTtyZXR1cm4gaXx8KGI9WGEoaCkpLGc9ci5jc3NIb29rc1tiXXx8ci5jc3NIb29rc1toXSx2b2lkIDA9PT1jP2cmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTpqW2JdOihmPXR5cGVvZiBjLCJzdHJpbmciPT09ZiYmKGU9YmEuZXhlYyhjKSkmJmVbMV0mJihjPWZhKGEsYixlKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiPT09ZiYmKGMrPWUmJmVbM118fChyLmNzc051bWJlcltoXT8iIjoicHgiKSksby5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaltiXT0iaW5oZXJpdCIpLGcmJiJzZXQiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGk/ai5zZXRQcm9wZXJ0eShiLGMpOmpbYl09YykpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9ci5jYW1lbENhc2UoYiksaT1SYS50ZXN0KGIpO3JldHVybiBpfHwoYj1YYShoKSksZz1yLmNzc0hvb2tzW2JdfHxyLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9T2EoYSxiLGQpKSwibm9ybWFsIj09PWUmJmIgaW4gVGEmJihlPVRhW2JdKSwiIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fGlzRmluaXRlKGYpP2Z8fDA6ZSk6ZX19KSxyLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7ci5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtpZihjKXJldHVybiFRYS50ZXN0KHIuY3NzKGEsImRpc3BsYXkiKSl8fGEuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJmEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/JGEoYSxiLGQpOmVhKGEsU2EsZnVuY3Rpb24oKXtyZXR1cm4gJGEoYSxiLGQpfSl9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZj1kJiZOYShhKSxnPWQmJlphKGEsYixkLCJib3JkZXItYm94Ij09PXIuY3NzKGEsImJveFNpemluZyIsITEsZiksZik7cmV0dXJuIGcmJihlPWJhLmV4ZWMoYykpJiYicHgiIT09KGVbM118fCJweCIpJiYoYS5zdHlsZVtiXT1jLGM9ci5jc3MoYSxiKSksWWEoYSxjLGcpfX19KSxyLmNzc0hvb2tzLm1hcmdpbkxlZnQ9UGEoby5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybihwYXJzZUZsb2F0KE9hKGEsIm1hcmdpbkxlZnQiKSl8fGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1lYShhLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSksci5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtyLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ZDw0O2QrKyllW2ErY2FbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sTGEudGVzdChhKXx8KHIuY3NzSG9va3NbYStiXS5zZXQ9WWEpfSksci5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBUKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYoQXJyYXkuaXNBcnJheShiKSl7Zm9yKGQ9TmEoYSksZT1iLmxlbmd0aDtnPGU7ZysrKWZbYltnXV09ci5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP3Iuc3R5bGUoYSxiLGMpOnIuY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfX0pO2Z1bmN0aW9uIF9hKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBfYS5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfXIuVHdlZW49X2EsX2EucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpfYSxpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHxyLmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KHIuY3NzTnVtYmVyW2NdPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1fYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6X2EucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9X2EucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz1iPXIuZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPWI9YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpfYS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxfYS5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9X2EucHJvdG90eXBlLF9hLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gMSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbCE9YS5lbGVtW2EucHJvcF0mJm51bGw9PWEuZWxlbS5zdHlsZVthLnByb3BdP2EuZWxlbVthLnByb3BdOihiPXIuY3NzKGEuZWxlbSxhLnByb3AsIiIpLGImJiJhdXRvIiE9PWI/YjowKX0sc2V0OmZ1bmN0aW9uKGEpe3IuZnguc3RlcFthLnByb3BdP3IuZnguc3RlcFthLnByb3BdKGEpOjEhPT1hLmVsZW0ubm9kZVR5cGV8fG51bGw9PWEuZWxlbS5zdHlsZVtyLmNzc1Byb3BzW2EucHJvcF1dJiYhci5jc3NIb29rc1thLnByb3BdP2EuZWxlbVthLnByb3BdPWEubm93OnIuc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpfX19LF9hLnByb3BIb29rcy5zY3JvbGxUb3A9X2EucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sci5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfSxfZGVmYXVsdDoic3dpbmcifSxyLmZ4PV9hLnByb3RvdHlwZS5pbml0LHIuZnguc3RlcD17fTt2YXIgYWIsYmIsY2I9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLGRiPS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gZWIoKXtiYiYmKGQuaGlkZGVuPT09ITEmJmEucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2EucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGViKTphLnNldFRpbWVvdXQoZWIsci5meC5pbnRlcnZhbCksci5meC50aWNrKCkpfWZ1bmN0aW9uIGZiKCl7cmV0dXJuIGEuc2V0VGltZW91dChmdW5jdGlvbigpe2FiPXZvaWQgMH0pLGFiPXIubm93KCl9ZnVuY3Rpb24gZ2IoYSxiKXt2YXIgYyxkPTAsZT17aGVpZ2h0OmF9O2ZvcihiPWI/MTowO2Q8NDtkKz0yLWIpYz1jYVtkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIGhiKGEsYixjKXtmb3IodmFyIGQsZT0oa2IudHdlZW5lcnNbYl18fFtdKS5jb25jYXQoa2IudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gaWIoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD0id2lkdGgiaW4gYnx8ImhlaWdodCJpbiBiLG09dGhpcyxuPXt9LG89YS5zdHlsZSxwPWEubm9kZVR5cGUmJmRhKGEpLHE9Vy5nZXQoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGc9ci5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWcudW5xdWV1ZWQmJihnLnVucXVldWVkPTAsaD1nLmVtcHR5LmZpcmUsZy5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7Zy51bnF1ZXVlZHx8aCgpfSksZy51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtnLnVucXVldWVkLS0sci5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8Zy5lbXB0eS5maXJlKCl9KX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSxjYi50ZXN0KGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fCJ0b2dnbGUiPT09ZSxlPT09KHA/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PWV8fCFxfHx2b2lkIDA9PT1xW2RdKWNvbnRpbnVlO3A9ITB9bltkXT1xJiZxW2RdfHxyLnN0eWxlKGEsZCl9aWYoaT0hci5pc0VtcHR5T2JqZWN0KGIpLGl8fCFyLmlzRW1wdHlPYmplY3Qobikpe2wmJjE9PT1hLm5vZGVUeXBlJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1xJiZxLmRpc3BsYXksbnVsbD09aiYmKGo9Vy5nZXQoYSwiZGlzcGxheSIpKSxrPXIuY3NzKGEsImRpc3BsYXkiKSwibm9uZSI9PT1rJiYoaj9rPWo6KGlhKFthXSwhMCksaj1hLnN0eWxlLmRpc3BsYXl8fGosaz1yLmNzcyhhLCJkaXNwbGF5IiksaWEoW2FdKSkpLCgiaW5saW5lIj09PWt8fCJpbmxpbmUtYmxvY2siPT09ayYmbnVsbCE9aikmJiJub25lIj09PXIuY3NzKGEsImZsb2F0IikmJihpfHwobS5kb25lKGZ1bmN0aW9uKCl7by5kaXNwbGF5PWp9KSxudWxsPT1qJiYoaz1vLmRpc3BsYXksaj0ibm9uZSI9PT1rPyIiOmspKSxvLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYoby5vdmVyZmxvdz0iaGlkZGVuIixtLmFsd2F5cyhmdW5jdGlvbigpe28ub3ZlcmZsb3c9Yy5vdmVyZmxvd1swXSxvLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdLG8ub3ZlcmZsb3dZPWMub3ZlcmZsb3dbMl19KSksaT0hMTtmb3IoZCBpbiBuKWl8fChxPyJoaWRkZW4iaW4gcSYmKHA9cS5oaWRkZW4pOnE9Vy5hY2Nlc3MoYSwiZnhzaG93Iix7ZGlzcGxheTpqfSksZiYmKHEuaGlkZGVuPSFwKSxwJiZpYShbYV0sITApLG0uZG9uZShmdW5jdGlvbigpe3B8fGlhKFthXSksVy5yZW1vdmUoYSwiZnhzaG93Iik7Zm9yKGQgaW4gbilyLnN0eWxlKGEsZCxuW2RdKX0pKSxpPWhiKHA/cVtkXTowLGQsbSksZCBpbiBxfHwocVtkXT1pLnN0YXJ0LHAmJihpLmVuZD1pLnN0YXJ0LGkuc3RhcnQ9MCkpfX1mdW5jdGlvbiBqYihhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPXIuY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sQXJyYXkuaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9ci5jc3NIb29rc1tkXSxnJiYiZXhwYW5kImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBrYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1rYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPXIuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPWFifHxmYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtnPGk7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksZjwxJiZpP2M6KGl8fGgubm90aWZ5V2l0aChhLFtqLDEsMF0pLGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpyLmV4dGVuZCh7fSxiKSxvcHRzOnIuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpyLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOmFifHxmYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ci5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtjPGQ7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihqYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtmPGc7ZisrKWlmKGQ9a2IucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIHIuaXNGdW5jdGlvbihkLnN0b3ApJiYoci5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPXIucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiByLm1hcChrLGhiLGopLHIuaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLGoucHJvZ3Jlc3Moai5vcHRzLnByb2dyZXNzKS5kb25lKGoub3B0cy5kb25lLGoub3B0cy5jb21wbGV0ZSkuZmFpbChqLm9wdHMuZmFpbCkuYWx3YXlzKGoub3B0cy5hbHdheXMpLHIuZngudGltZXIoci5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksan1yLkFuaW1hdGlvbj1yLmV4dGVuZChrYix7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYik7cmV0dXJuIGZhKGMuZWxlbSxhLGJhLmV4ZWMoYiksYyksY31dfSx0d2VlbmVyOmZ1bmN0aW9uKGEsYil7ci5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bIioiXSk6YT1hLm1hdGNoKEwpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWM9YVtkXSxrYi50d2VlbmVyc1tjXT1rYi50d2VlbmVyc1tjXXx8W10sa2IudHdlZW5lcnNbY10udW5zaGlmdChiKX0scHJlZmlsdGVyczpbaWJdLHByZWZpbHRlcjpmdW5jdGlvbihhLGIpe2I/a2IucHJlZmlsdGVycy51bnNoaWZ0KGEpOmtiLnByZWZpbHRlcnMucHVzaChhKX19KSxyLnNwZWVkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hJiYib2JqZWN0Ij09dHlwZW9mIGE/ci5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxyLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIXIuaXNGdW5jdGlvbihiKSYmYn07cmV0dXJuIHIuZngub2ZmP2QuZHVyYXRpb249MDoibnVtYmVyIiE9dHlwZW9mIGQuZHVyYXRpb24mJihkLmR1cmF0aW9uIGluIHIuZnguc3BlZWRzP2QuZHVyYXRpb249ci5meC5zcGVlZHNbZC5kdXJhdGlvbl06ZC5kdXJhdGlvbj1yLmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9ZC5xdWV1ZSYmZC5xdWV1ZSE9PSEwfHwoZC5xdWV1ZT0iZngiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtyLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJnIuZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxyLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihkYSkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ci5pc0VtcHR5T2JqZWN0KGEpLGY9ci5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPWtiKHRoaXMsci5leHRlbmQoe30sYSksZik7KGV8fFcuZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9ci50aW1lcnMsZz1XLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZkYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxyLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1XLmdldCh0aGlzKSxkPWNbYSsicXVldWUiXSxlPWNbYSsicXVldWVIb29rcyJdLGY9ci50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLHIucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2I8ZztiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksci5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihhLGIpe3ZhciBjPXIuZm5bYl07ci5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fCJib29sZWFuIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGdiKGIsITApLGEsZCxlKX19KSxyLmVhY2goe3NsaWRlRG93bjpnYigic2hvdyIpLHNsaWRlVXA6Z2IoImhpZGUiKSxzbGlkZVRvZ2dsZTpnYigidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihhLGIpe3IuZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksci50aW1lcnM9W10sci5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9ci50aW1lcnM7Zm9yKGFiPXIubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8ci5meC5zdG9wKCksYWI9dm9pZCAwfSxyLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe3IudGltZXJzLnB1c2goYSksci5meC5zdGFydCgpfSxyLmZ4LmludGVydmFsPTEzLHIuZnguc3RhcnQ9ZnVuY3Rpb24oKXtiYnx8KGJiPSEwLGViKCkpfSxyLmZ4LnN0b3A9ZnVuY3Rpb24oKXtiYj1udWxsfSxyLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxyLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9ci5meD9yLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYj1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTthLnR5cGU9ImNoZWNrYm94IixvLmNoZWNrT249IiIhPT1hLnZhbHVlLG8ub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxhPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxhLnZhbHVlPSJ0IixhLnR5cGU9InJhZGlvIixvLnJhZGlvVmFsdWU9InQiPT09YS52YWx1ZX0oKTt2YXIgbGIsbWI9ci5leHByLmF0dHJIYW5kbGU7ci5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVCh0aGlzLHIuYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxyLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGEuZ2V0QXR0cmlidXRlP3IucHJvcChhLGIsYyk6KDE9PT1mJiZyLmlzWE1MRG9jKGEpfHwoZT1yLmF0dHJIb29rc1tiLnRvTG93ZXJDYXNlKCldfHwoci5leHByLm1hdGNoLmJvb2wudGVzdChiKT9sYjp2b2lkIDApKSx2b2lkIDAhPT1jP251bGw9PT1jP3ZvaWQgci5yZW1vdmVBdHRyKGEsYik6ZSYmInNldCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDooZD1yLmZpbmQuYXR0cihhLGIpLApudWxsPT1kP3ZvaWQgMDpkKSl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIW8ucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJkIoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTAsZT1iJiZiLm1hdGNoKEwpO2lmKGUmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZVtkKytdKWEucmVtb3ZlQXR0cmlidXRlKGMpfX0pLGxiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/ci5yZW1vdmVBdHRyKGEsYyk6YS5zZXRBdHRyaWJ1dGUoYyxjKSxjfX0sci5lYWNoKHIuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9bWJbYl18fHIuZmluZC5hdHRyO21iW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmLGc9Yi50b0xvd2VyQ2FzZSgpO3JldHVybiBkfHwoZj1tYltnXSxtYltnXT1lLGU9bnVsbCE9YyhhLGIsZCk/ZzpudWxsLG1iW2ddPWYpLGV9fSk7dmFyIG5iPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksb2I9L14oPzphfGFyZWEpJC9pO3IuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFQodGhpcyxyLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW3IucHJvcEZpeFthXXx8YV19KX19KSxyLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gMT09PWYmJnIuaXNYTUxEb2MoYSl8fChiPXIucHJvcEZpeFtiXXx8YixlPXIucHJvcEhvb2tzW2JdKSx2b2lkIDAhPT1jP2UmJiJzZXQiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXt2YXIgYj1yLmZpbmQuYXR0cihhLCJ0YWJpbmRleCIpO3JldHVybiBiP3BhcnNlSW50KGIsMTApOm5iLnRlc3QoYS5ub2RlTmFtZSl8fG9iLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOi0xfX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifX0pLG8ub3B0U2VsZWN0ZWR8fChyLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksci5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtyLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7ZnVuY3Rpb24gcGIoYSl7dmFyIGI9YS5tYXRjaChMKXx8W107cmV0dXJuIGIuam9pbigiICIpfWZ1bmN0aW9uIHFiKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIifXIuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYoci5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7cih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHFiKHRoaXMpKSl9KTtpZigic3RyaW5nIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChMKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1xYihjKSxkPTE9PT1jLm5vZGVUeXBlJiYiICIrcGIoZSkrIiAiKXtnPTA7d2hpbGUoZj1iW2crK10pZC5pbmRleE9mKCIgIitmKyIgIik8MCYmKGQrPWYrIiAiKTtoPXBiKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGgpfX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKHIuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3IodGhpcykucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYixxYih0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigic3RyaW5nIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChMKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1xYihjKSxkPTE9PT1jLm5vZGVUeXBlJiYiICIrcGIoZSkrIiAiKXtnPTA7d2hpbGUoZj1iW2crK10pd2hpbGUoZC5pbmRleE9mKCIgIitmKyIgIik+LTEpZD1kLnJlcGxhY2UoIiAiK2YrIiAiLCIgIik7aD1wYihkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYiYmInN0cmluZyI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnIuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYyl7cih0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLHFiKHRoaXMpLGIpLGIpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsZCxlLGY7aWYoInN0cmluZyI9PT1jKXtkPTAsZT1yKHRoaXMpLGY9YS5tYXRjaChMKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZSB2b2lkIDAhPT1hJiYiYm9vbGVhbiIhPT1jfHwoYj1xYih0aGlzKSxiJiZXLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixiKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixifHxhPT09ITE/IiI6Vy5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD0wO2I9IiAiK2ErIiAiO3doaWxlKGM9dGhpc1tkKytdKWlmKDE9PT1jLm5vZGVUeXBlJiYoIiAiK3BiKHFiKGMpKSsiICIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHJiPS9cci9nO3IuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1yLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMscih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9IiI6Im51bWJlciI9PXR5cGVvZiBlP2UrPSIiOkFycmF5LmlzQXJyYXkoZSkmJihlPXIubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPXIudmFsSG9va3NbdGhpcy50eXBlXXx8ci52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPXIudmFsSG9va3NbZS50eXBlXXx8ci52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJnZXQiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSwidmFsdWUiKSk/YzooYz1lLnZhbHVlLCJzdHJpbmciPT10eXBlb2YgYz9jLnJlcGxhY2UocmIsIiIpOm51bGw9PWM/IiI6Yyl9fX0pLHIuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9ci5maW5kLmF0dHIoYSwidmFsdWUiKTtyZXR1cm4gbnVsbCE9Yj9iOnBiKHIudGV4dChhKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT1hLm9wdGlvbnMsZj1hLnNlbGVjdGVkSW5kZXgsZz0ic2VsZWN0LW9uZSI9PT1hLnR5cGUsaD1nP251bGw6W10saT1nP2YrMTplLmxlbmd0aDtmb3IoZD1mPDA/aTpnP2Y6MDtkPGk7ZCsrKWlmKGM9ZVtkXSwoYy5zZWxlY3RlZHx8ZD09PWYpJiYhYy5kaXNhYmxlZCYmKCFjLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFCKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9cihjKS52YWwoKSxnKXJldHVybiBiO2gucHVzaChiKX1yZXR1cm4gaH0sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPXIubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1yLmluQXJyYXkoci52YWxIb29rcy5vcHRpb24uZ2V0KGQpLGYpPi0xKSYmKGM9ITApO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxmfX19fSksci5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7ci52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7aWYoQXJyYXkuaXNBcnJheShiKSlyZXR1cm4gYS5jaGVja2VkPXIuaW5BcnJheShyKGEpLnZhbCgpLGIpPi0xfX0sby5jaGVja09ufHwoci52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmEudmFsdWV9KX0pO3ZhciBzYj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87ci5leHRlbmQoci5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZyxoLGksaixrLG0sbixvPVtlfHxkXSxwPWwuY2FsbChiLCJ0eXBlIik/Yi50eXBlOmIscT1sLmNhbGwoYiwibmFtZXNwYWNlIik/Yi5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihoPWk9ZT1lfHxkLDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmIXNiLnRlc3QocCtyLmV2ZW50LnRyaWdnZXJlZCkmJihwLmluZGV4T2YoIi4iKT4tMSYmKHE9cC5zcGxpdCgiLiIpLHA9cS5zaGlmdCgpLHEuc29ydCgpKSxrPXAuaW5kZXhPZigiOiIpPDAmJiJvbiIrcCxiPWJbci5leHBhbmRvXT9iOm5ldyByLkV2ZW50KHAsIm9iamVjdCI9PXR5cGVvZiBiJiZiKSxiLmlzVHJpZ2dlcj1mPzI6MyxiLm5hbWVzcGFjZT1xLmpvaW4oIi4iKSxiLnJuYW1lc3BhY2U9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrcS5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWUpLGM9bnVsbD09Yz9bYl06ci5tYWtlQXJyYXkoYyxbYl0pLG49ci5ldmVudC5zcGVjaWFsW3BdfHx7fSxmfHwhbi50cmlnZ2VyfHxuLnRyaWdnZXIuYXBwbHkoZSxjKSE9PSExKSl7aWYoIWYmJiFuLm5vQnViYmxlJiYhci5pc1dpbmRvdyhlKSl7Zm9yKGo9bi5kZWxlZ2F0ZVR5cGV8fHAsc2IudGVzdChqK3ApfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpby5wdXNoKGgpLGk9aDtpPT09KGUub3duZXJEb2N1bWVudHx8ZCkmJm8ucHVzaChpLmRlZmF1bHRWaWV3fHxpLnBhcmVudFdpbmRvd3x8YSl9Zz0wO3doaWxlKChoPW9bZysrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWc+MT9qOm4uYmluZFR5cGV8fHAsbT0oVy5nZXQoaCwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZXLmdldChoLCJoYW5kbGUiKSxtJiZtLmFwcGx5KGgsYyksbT1rJiZoW2tdLG0mJm0uYXBwbHkmJlUoaCkmJihiLnJlc3VsdD1tLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXAsZnx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8bi5fZGVmYXVsdCYmbi5fZGVmYXVsdC5hcHBseShvLnBvcCgpLGMpIT09ITF8fCFVKGUpfHxrJiZyLmlzRnVuY3Rpb24oZVtwXSkmJiFyLmlzV2luZG93KGUpJiYoaT1lW2tdLGkmJihlW2tdPW51bGwpLHIuZXZlbnQudHJpZ2dlcmVkPXAsZVtwXSgpLHIuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxpJiYoZVtrXT1pKSksYi5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ci5leHRlbmQobmV3IHIuRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwfSk7ci5ldmVudC50cmlnZ2VyKGQsbnVsbCxiKX19KSxyLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtyLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtpZihjKXJldHVybiByLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApfX0pLHIuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe3IuZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLHIuZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KSxvLmZvY3VzaW49Im9uZm9jdXNpbiJpbiBhLG8uZm9jdXNpbnx8ci5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe3IuZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxyLmV2ZW50LmZpeChhKSl9O3IuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1XLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLFcuYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Vy5hY2Nlc3MoZCxiKS0xO2U/Vy5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxXLnJlbW92ZShkLGIpKX19fSk7dmFyIHRiPWEubG9jYXRpb24sdWI9ci5ub3coKSx2Yj0vXD8vO3IucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGM7aWYoIWJ8fCJzdHJpbmciIT10eXBlb2YgYilyZXR1cm4gbnVsbDt0cnl7Yz0obmV3IGEuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYiwidGV4dC94bWwiKX1jYXRjaChkKXtjPXZvaWQgMH1yZXR1cm4gYyYmIWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RofHxyLmVycm9yKCJJbnZhbGlkIFhNTDogIitiKSxjfTt2YXIgd2I9L1xbXF0kLyx4Yj0vXHI/XG4vZyx5Yj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEFiKGEsYixjLGQpe3ZhciBlO2lmKEFycmF5LmlzQXJyYXkoYikpci5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHx3Yi50ZXN0KGEpP2QoYSxlKTpBYihhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09ci50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpQWIoYSsiWyIrZSsiXSIsYltlXSxjLGQpfXIucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1yLmlzRnVuY3Rpb24oYik/YigpOmI7ZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQobnVsbD09Yz8iIjpjKX07aWYoQXJyYXkuaXNBcnJheShhKXx8YS5qcXVlcnkmJiFyLmlzUGxhaW5PYmplY3QoYSkpci5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlBYihjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIil9LHIuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gci5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXIucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP3IubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIXIodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZ6Yi50ZXN0KHRoaXMubm9kZU5hbWUpJiYheWIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IWphLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9cih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOkFycmF5LmlzQXJyYXkoYyk/ci5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKHhiLCJcclxuIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZSh4YiwiXHJcbiIpfX0pLmdldCgpfX0pO3ZhciBCYj0vJTIwL2csQ2I9LyMuKiQvLERiPS8oWz8mXSlfPVteJl0qLyxFYj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL2dtLEZiPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLEdiPS9eKD86R0VUfEhFQUQpJC8sSGI9L15cL1wvLyxJYj17fSxKYj17fSxLYj0iKi8iLmNvbmNhdCgiKiIpLExiPWQuY3JlYXRlRWxlbWVudCgiYSIpO0xiLmhyZWY9dGIuaHJlZjtmdW5jdGlvbiBNYihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXsic3RyaW5nIiE9dHlwZW9mIGImJihjPWIsYj0iKiIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChMKXx8W107aWYoci5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKSIrIj09PWRbMF0/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gTmIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09SmI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxyLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBPYihhLGIpe3ZhciBjLGQsZT1yLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZyLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24gUGIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlKyIgIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31pZihmKXJldHVybiBmIT09aVswXSYmaS51bnNoaWZ0KGYpLGNbZl19ZnVuY3Rpb24gUWIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1yLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6dGIuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6RmIudGVzdCh0Yi5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpLYix0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6ci5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/T2IoT2IoYSxyLmFqYXhTZXR0aW5ncyksYik6T2Ioci5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6TWIoSWIpLGFqYXhUcmFuc3BvcnQ6TWIoSmIpLGFqYXg6ZnVuY3Rpb24oYixjKXsib2JqZWN0Ij09dHlwZW9mIGImJihjPWIsYj12b2lkIDApLGM9Y3x8e307dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbz1yLmFqYXhTZXR1cCh7fSxjKSxwPW8uY29udGV4dHx8byxxPW8uY29udGV4dCYmKHAubm9kZVR5cGV8fHAuanF1ZXJ5KT9yKHApOnIuZXZlbnQscz1yLkRlZmVycmVkKCksdD1yLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx1PW8uc3RhdHVzQ29kZXx8e30sdj17fSx3PXt9LHg9ImNhbmNlbGVkIix5PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoayl7aWYoIWgpe2g9e307d2hpbGUoYj1FYi5leGVjKGcpKWhbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9aFthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ZzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWsmJihhPXdbYS50b0xvd2VyQ2FzZSgpXT13W2EudG9Mb3dlckNhc2UoKV18fGEsdlthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1rJiYoby5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoayl5LmFsd2F5cyhhW3kuc3RhdHVzXSk7ZWxzZSBmb3IoYiBpbiBhKXVbYl09W3VbYl0sYVtiXV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHg7cmV0dXJuIGUmJmUuYWJvcnQoYiksQSgwLGIpLHRoaXN9fTtpZihzLnByb21pc2UoeSksby51cmw9KChifHxvLnVybHx8dGIuaHJlZikrIiIpLnJlcGxhY2UoSGIsdGIucHJvdG9jb2wrIi8vIiksby50eXBlPWMubWV0aG9kfHxjLnR5cGV8fG8ubWV0aG9kfHxvLnR5cGUsby5kYXRhVHlwZXM9KG8uZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChMKXx8WyIiXSxudWxsPT1vLmNyb3NzRG9tYWluKXtqPWQuY3JlYXRlRWxlbWVudCgiYSIpO3RyeXtqLmhyZWY9by51cmwsai5ocmVmPWouaHJlZixvLmNyb3NzRG9tYWluPUxiLnByb3RvY29sKyIvLyIrTGIuaG9zdCE9ai5wcm90b2NvbCsiLy8iK2ouaG9zdH1jYXRjaCh6KXtvLmNyb3NzRG9tYWluPSEwfX1pZihvLmRhdGEmJm8ucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2Ygby5kYXRhJiYoby5kYXRhPXIucGFyYW0oby5kYXRhLG8udHJhZGl0aW9uYWwpKSxOYihJYixvLGMseSksaylyZXR1cm4geTtsPXIuZXZlbnQmJm8uZ2xvYmFsLGwmJjA9PT1yLmFjdGl2ZSsrJiZyLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLG8udHlwZT1vLnR5cGUudG9VcHBlckNhc2UoKSxvLmhhc0NvbnRlbnQ9IUdiLnRlc3Qoby50eXBlKSxmPW8udXJsLnJlcGxhY2UoQ2IsIiIpLG8uaGFzQ29udGVudD9vLmRhdGEmJm8ucHJvY2Vzc0RhdGEmJjA9PT0oby5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYoby5kYXRhPW8uZGF0YS5yZXBsYWNlKEJiLCIrIikpOihuPW8udXJsLnNsaWNlKGYubGVuZ3RoKSxvLmRhdGEmJihmKz0odmIudGVzdChmKT8iJiI6Ij8iKStvLmRhdGEsZGVsZXRlIG8uZGF0YSksby5jYWNoZT09PSExJiYoZj1mLnJlcGxhY2UoRGIsIiQxIiksbj0odmIudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3ViKysgK24pLG8udXJsPWYrbiksby5pZk1vZGlmaWVkJiYoci5sYXN0TW9kaWZpZWRbZl0mJnkuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLHIubGFzdE1vZGlmaWVkW2ZdKSxyLmV0YWdbZl0mJnkuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsci5ldGFnW2ZdKSksKG8uZGF0YSYmby5oYXNDb250ZW50JiZvLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpJiZ5LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsby5jb250ZW50VHlwZSkseS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLG8uZGF0YVR5cGVzWzBdJiZvLmFjY2VwdHNbby5kYXRhVHlwZXNbMF1dP28uYWNjZXB0c1tvLmRhdGFUeXBlc1swXV0rKCIqIiE9PW8uZGF0YVR5cGVzWzBdPyIsICIrS2IrIjsgcT0wLjAxIjoiIik6by5hY2NlcHRzWyIqIl0pO2ZvcihtIGluIG8uaGVhZGVycyl5LnNldFJlcXVlc3RIZWFkZXIobSxvLmhlYWRlcnNbbV0pO2lmKG8uYmVmb3JlU2VuZCYmKG8uYmVmb3JlU2VuZC5jYWxsKHAseSxvKT09PSExfHxrKSlyZXR1cm4geS5hYm9ydCgpO2lmKHg9ImFib3J0Iix0LmFkZChvLmNvbXBsZXRlKSx5LmRvbmUoby5zdWNjZXNzKSx5LmZhaWwoby5lcnJvciksZT1OYihKYixvLGMseSkpe2lmKHkucmVhZHlTdGF0ZT0xLGwmJnEudHJpZ2dlcigiYWpheFNlbmQiLFt5LG9dKSxrKXJldHVybiB5O28uYXN5bmMmJm8udGltZW91dD4wJiYoaT1hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt5LmFib3J0KCJ0aW1lb3V0Iil9LG8udGltZW91dCkpO3RyeXtrPSExLGUuc2VuZCh2LEEpfWNhdGNoKHope2lmKGspdGhyb3cgejtBKC0xLHopfX1lbHNlIEEoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIEEoYixjLGQsaCl7dmFyIGosbSxuLHYsdyx4PWM7a3x8KGs9ITAsaSYmYS5jbGVhclRpbWVvdXQoaSksZT12b2lkIDAsZz1ofHwiIix5LnJlYWR5U3RhdGU9Yj4wPzQ6MCxqPWI+PTIwMCYmYjwzMDB8fDMwND09PWIsZCYmKHY9UGIobyx5LGQpKSx2PVFiKG8sdix5LGopLGo/KG8uaWZNb2RpZmllZCYmKHc9eS5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHcmJihyLmxhc3RNb2RpZmllZFtmXT13KSx3PXkuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx3JiYoci5ldGFnW2ZdPXcpKSwyMDQ9PT1ifHwiSEVBRCI9PT1vLnR5cGU/eD0ibm9jb250ZW50IjozMDQ9PT1iP3g9Im5vdG1vZGlmaWVkIjooeD12LnN0YXRlLG09di5kYXRhLG49di5lcnJvcixqPSFuKSk6KG49eCwhYiYmeHx8KHg9ImVycm9yIixiPDAmJihiPTApKSkseS5zdGF0dXM9Yix5LnN0YXR1c1RleHQ9KGN8fHgpKyIiLGo/cy5yZXNvbHZlV2l0aChwLFttLHgseV0pOnMucmVqZWN0V2l0aChwLFt5LHgsbl0pLHkuc3RhdHVzQ29kZSh1KSx1PXZvaWQgMCxsJiZxLnRyaWdnZXIoaj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt5LG8saj9tOm5dKSx0LmZpcmVXaXRoKHAsW3kseF0pLGwmJihxLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3ksb10pLC0tci5hY3RpdmV8fHIuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB5fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gci5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHIuZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLHIuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe3JbYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIHIuaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLHIuYWpheChyLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sci5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksci5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gci5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxyLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gdGhpc1swXSYmKHIuaXNGdW5jdGlvbihhKSYmKGE9YS5jYWxsKHRoaXNbMF0pKSxiPXIoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiByLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3IodGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXIodGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9ci5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7cih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhcmVudChhKS5ub3QoImJvZHkiKS5lYWNoKGZ1bmN0aW9uKCl7cih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSksdGhpc319KSxyLmV4cHIucHNldWRvcy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIXIuZXhwci5wc2V1ZG9zLnZpc2libGUoYSl9LHIuZXhwci5wc2V1ZG9zLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuISEoYS5vZmZzZXRXaWR0aHx8YS5vZmZzZXRIZWlnaHR8fGEuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpfSxyLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319O3ZhciBSYj17MDoyMDAsMTIyMzoyMDR9LFNiPXIuYWpheFNldHRpbmdzLnhocigpO28uY29ycz0hIVNiJiYid2l0aENyZWRlbnRpYWxzImluIFNiLG8uYWpheD1TYj0hIVNiLHIuYWpheFRyYW5zcG9ydChmdW5jdGlvbihiKXt2YXIgYyxkO2lmKG8uY29yc3x8U2ImJiFiLmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsZil7dmFyIGcsaD1iLnhocigpO2lmKGgub3BlbihiLnR5cGUsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpLGIueGhyRmllbGRzKWZvcihnIGluIGIueGhyRmllbGRzKWhbZ109Yi54aHJGaWVsZHNbZ107Yi5taW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUoYi5taW1lVHlwZSksYi5jcm9zc0RvbWFpbnx8ZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO2ZvcihnIGluIGUpaC5zZXRSZXF1ZXN0SGVhZGVyKGcsZVtnXSk7Yz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtjJiYoYz1kPWgub25sb2FkPWgub25lcnJvcj1oLm9uYWJvcnQ9aC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCwiYWJvcnQiPT09YT9oLmFib3J0KCk6ImVycm9yIj09PWE/Im51bWJlciIhPXR5cGVvZiBoLnN0YXR1cz9mKDAsImVycm9yIik6ZihoLnN0YXR1cyxoLnN0YXR1c1RleHQpOmYoUmJbaC5zdGF0dXNdfHxoLnN0YXR1cyxoLnN0YXR1c1RleHQsInRleHQiIT09KGgucmVzcG9uc2VUeXBlfHwidGV4dCIpfHwic3RyaW5nIiE9dHlwZW9mIGgucmVzcG9uc2VUZXh0P3tiaW5hcnk6aC5yZXNwb25zZX06e3RleHQ6aC5yZXNwb25zZVRleHR9LGguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGgub25sb2FkPWMoKSxkPWgub25lcnJvcj1jKCJlcnJvciIpLHZvaWQgMCE9PWgub25hYm9ydD9oLm9uYWJvcnQ9ZDpoLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1oLnJlYWR5U3RhdGUmJmEuc2V0VGltZW91dChmdW5jdGlvbigpe2MmJmQoKX0pfSxjPWMoImFib3J0Iik7dHJ5e2guc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCl9Y2F0Y2goaSl7aWYoYyl0aHJvdyBpfX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX0pLHIuYWpheFByZWZpbHRlcihmdW5jdGlvbihhKXthLmNyb3NzRG9tYWluJiYoYS5jb250ZW50cy5zY3JpcHQ9ITEpfSksci5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHIuZ2xvYmFsRXZhbChhKSxhfX19KSxyLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9IkdFVCIpfSksci5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBiLGM7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxmKXtiPXIoIjxzY3JpcHQ+IikucHJvcCh7Y2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oImxvYWQgZXJyb3IiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZigiZXJyb3IiPT09YS50eXBlPzQwNDoyMDAsYS50eXBlKX0pLGQuaGVhZC5hcHBlbmRDaGlsZChiWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX19KTt2YXIgVGI9W10sVWI9Lyg9KVw/KD89JnwkKXxcP1w/LztyLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9VGIucG9wKCl8fHIuZXhwYW5kbysiXyIrdWIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLHIuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKFViLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmVWIudGVzdChiLmRhdGEpJiYiZGF0YSIpO2lmKGh8fCJqc29ucCI9PT1iLmRhdGFUeXBlc1swXSlyZXR1cm4gZT1iLmpzb25wQ2FsbGJhY2s9ci5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoVWIsIiQxIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KHZiLnRlc3QoYi51cmwpPyImIjoiPyIpK2IuanNvbnArIj0iK2UpLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBnfHxyLmVycm9yKGUrIiB3YXMgbm90IGNhbGxlZCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIixmPWFbZV0sYVtlXT1mdW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWY/cihhKS5yZW1vdmVQcm9wKGUpOmFbZV09ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxUYi5wdXNoKGUpKSxnJiZyLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLCJzY3JpcHQifSksby5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT1kLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTtyZXR1cm4gYS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09YS5jaGlsZE5vZGVzLmxlbmd0aH0oKSxyLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoInN0cmluZyIhPXR5cGVvZiBhKXJldHVybltdOyJib29sZWFuIj09dHlwZW9mIGImJihjPWIsYj0hMSk7dmFyIGUsZixnO3JldHVybiBifHwoby5jcmVhdGVIVE1MRG9jdW1lbnQ/KGI9ZC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGU9Yi5jcmVhdGVFbGVtZW50KCJiYXNlIiksZS5ocmVmPWQubG9jYXRpb24uaHJlZixiLmhlYWQuYXBwZW5kQ2hpbGQoZSkpOmI9ZCksZj1DLmV4ZWMoYSksZz0hYyYmW10sZj9bYi5jcmVhdGVFbGVtZW50KGZbMV0pXTooZj1xYShbYV0sYixnKSxnJiZnLmxlbmd0aCYmcihnKS5yZW1vdmUoKSxyLm1lcmdlKFtdLGYuY2hpbGROb2RlcykpfSxyLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoIiAiKTtyZXR1cm4gaD4tMSYmKGQ9cGIoYS5zbGljZShoKSksYT1hLnNsaWNlKDAsaCkpLHIuaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmci5hamF4KHt1cmw6YSx0eXBlOmV8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP3IoIjxkaXY+IikuYXBwZW5kKHIucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sci5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtyLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksci5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHIuZ3JlcChyLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH0sci5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosaz1yLmNzcyhhLCJwb3NpdGlvbiIpLGw9cihhKSxtPXt9OyJzdGF0aWMiPT09ayYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksaD1sLm9mZnNldCgpLGY9ci5jc3MoYSwidG9wIiksaT1yLmNzcyhhLCJsZWZ0Iiksaj0oImFic29sdXRlIj09PWt8fCJmaXhlZCI9PT1rKSYmKGYraSkuaW5kZXhPZigiYXV0byIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxyLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsci5leHRlbmQoe30saCkpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sci5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3Iub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQsZSxmPXRoaXNbMF07aWYoZilyZXR1cm4gZi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8oZD1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGI9Zi5vd25lckRvY3VtZW50LGM9Yi5kb2N1bWVudEVsZW1lbnQsZT1iLmRlZmF1bHRWaWV3LHt0b3A6ZC50b3ArZS5wYWdlWU9mZnNldC1jLmNsaWVudFRvcCxsZWZ0OmQubGVmdCtlLnBhZ2VYT2Zmc2V0LWMuY2xpZW50TGVmdH0pOnt0b3A6MCxsZWZ0OjB9fSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuImZpeGVkIj09PXIuY3NzKGMsInBvc2l0aW9uIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLEIoYVswXSwiaHRtbCIpfHwoZD1hLm9mZnNldCgpKSxkPXt0b3A6ZC50b3Arci5jc3MoYVswXSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxsZWZ0OmQubGVmdCtyLmNzcyhhWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKX0pLHt0b3A6Yi50b3AtZC50b3Atci5jc3MoYywibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LXIuY3NzKGMsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiYic3RhdGljIj09PXIuY3NzKGEsInBvc2l0aW9uIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8cmF9KX19KSxyLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24oYSxiKXt2YXIgYz0icGFnZVlPZmZzZXQiPT09YjtyLmZuW2FdPWZ1bmN0aW9uKGQpe3JldHVybiBUKHRoaXMsZnVuY3Rpb24oYSxkLGUpe3ZhciBmO3JldHVybiByLmlzV2luZG93KGEpP2Y9YTo5PT09YS5ub2RlVHlwZSYmKGY9YS5kZWZhdWx0Vmlldyksdm9pZCAwPT09ZT9mP2ZbYl06YVtkXTp2b2lkKGY/Zi5zY3JvbGxUbyhjP2YucGFnZVhPZmZzZXQ6ZSxjP2U6Zi5wYWdlWU9mZnNldCk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgpfX0pLHIuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihhLGIpe3IuY3NzSG9va3NbYl09UGEoby5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7aWYoYylyZXR1cm4gYz1PYShhLGIpLE1hLnRlc3QoYyk/cihhKS5wb3NpdGlvbigpW2JdKyJweCI6Y30pfSksci5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxiKXtyLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7ci5mbltkXT1mdW5jdGlvbihlLGYpe3ZhciBnPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBlKSxoPWN8fChlPT09ITB8fGY9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFQodGhpcyxmdW5jdGlvbihiLGMsZSl7dmFyIGY7cmV0dXJuIHIuaXNXaW5kb3coYik/MD09PWQuaW5kZXhPZigib3V0ZXIiKT9iWyJpbm5lciIrYV06Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGY9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGZbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGZbIm9mZnNldCIrYV0sZlsiY2xpZW50IithXSkpOnZvaWQgMD09PWU/ci5jc3MoYixjLGgpOnIuc3R5bGUoYixjLGUsaCl9LGIsZz9lOnZvaWQgMCxnKX19KX0pLHIuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLCIqKiIpOnRoaXMub2ZmKGIsYXx8IioqIixjKX19KSxyLmhvbGRSZWFkeT1mdW5jdGlvbihhKXthP3IucmVhZHlXYWl0Kys6ci5yZWFkeSghMCl9LHIuaXNBcnJheT1BcnJheS5pc0FycmF5LHIucGFyc2VKU09OPUpTT04ucGFyc2Usci5ub2RlTmFtZT1CLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiByfSk7dmFyIFZiPWEualF1ZXJ5LFdiPWEuJDtyZXR1cm4gci5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1yJiYoYS4kPVdiKSxiJiZhLmpRdWVyeT09PXImJihhLmpRdWVyeT1WYikscn0sYnx8KGEualF1ZXJ5PWEuJD1yKSxyfSk7Cg=="},{"meta":{"name":"jquery.qrcode.min.js","url":"https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery.qrcode/1.0/jquery.qrcode.min.js","ts":1714550052902,"mimetype":"text/javascript"},"source":"KGZ1bmN0aW9uKHIpe3IuZm4ucXJjb2RlPWZ1bmN0aW9uKGgpe3ZhciBzO2Z1bmN0aW9uIHUoYSl7dGhpcy5tb2RlPXM7dGhpcy5kYXRhPWF9ZnVuY3Rpb24gbyhhLGMpe3RoaXMudHlwZU51bWJlcj1hO3RoaXMuZXJyb3JDb3JyZWN0TGV2ZWw9Yzt0aGlzLm1vZHVsZXM9bnVsbDt0aGlzLm1vZHVsZUNvdW50PTA7dGhpcy5kYXRhQ2FjaGU9bnVsbDt0aGlzLmRhdGFMaXN0PVtdfWZ1bmN0aW9uIHEoYSxjKXtpZih2b2lkIDA9PWEubGVuZ3RoKXRocm93IEVycm9yKGEubGVuZ3RoKyIvIitjKTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoJiYwPT1hW2RdOylkKys7dGhpcy5udW09QXJyYXkoYS5sZW5ndGgtZCtjKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoLWQ7YisrKXRoaXMubnVtW2JdPWFbYitkXX1mdW5jdGlvbiBwKGEsYyl7dGhpcy50b3RhbENvdW50PWE7dGhpcy5kYXRhQ291bnQ9Y31mdW5jdGlvbiB0KCl7dGhpcy5idWZmZXI9W107dGhpcy5sZW5ndGg9MH11LnByb3RvdHlwZT17Z2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGh9LAp3cml0ZTpmdW5jdGlvbihhKXtmb3IodmFyIGM9MDtjPHRoaXMuZGF0YS5sZW5ndGg7YysrKWEucHV0KHRoaXMuZGF0YS5jaGFyQ29kZUF0KGMpLDgpfX07by5wcm90b3R5cGU9e2FkZERhdGE6ZnVuY3Rpb24oYSl7dGhpcy5kYXRhTGlzdC5wdXNoKG5ldyB1KGEpKTt0aGlzLmRhdGFDYWNoZT1udWxsfSxpc0Rhcms6ZnVuY3Rpb24oYSxjKXtpZigwPmF8fHRoaXMubW9kdWxlQ291bnQ8PWF8fDA+Y3x8dGhpcy5tb2R1bGVDb3VudDw9Yyl0aHJvdyBFcnJvcihhKyIsIitjKTtyZXR1cm4gdGhpcy5tb2R1bGVzW2FdW2NdfSxnZXRNb2R1bGVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZHVsZUNvdW50fSxtYWtlOmZ1bmN0aW9uKCl7aWYoMT50aGlzLnR5cGVOdW1iZXIpe2Zvcih2YXIgYT0xLGE9MTs0MD5hO2ErKyl7Zm9yKHZhciBjPXAuZ2V0UlNCbG9ja3MoYSx0aGlzLmVycm9yQ29ycmVjdExldmVsKSxkPW5ldyB0LGI9MCxlPTA7ZTxjLmxlbmd0aDtlKyspYis9Y1tlXS5kYXRhQ291bnQ7CmZvcihlPTA7ZTx0aGlzLmRhdGFMaXN0Lmxlbmd0aDtlKyspYz10aGlzLmRhdGFMaXN0W2VdLGQucHV0KGMubW9kZSw0KSxkLnB1dChjLmdldExlbmd0aCgpLGouZ2V0TGVuZ3RoSW5CaXRzKGMubW9kZSxhKSksYy53cml0ZShkKTtpZihkLmdldExlbmd0aEluQml0cygpPD04KmIpYnJlYWt9dGhpcy50eXBlTnVtYmVyPWF9dGhpcy5tYWtlSW1wbCghMSx0aGlzLmdldEJlc3RNYXNrUGF0dGVybigpKX0sbWFrZUltcGw6ZnVuY3Rpb24oYSxjKXt0aGlzLm1vZHVsZUNvdW50PTQqdGhpcy50eXBlTnVtYmVyKzE3O3RoaXMubW9kdWxlcz1BcnJheSh0aGlzLm1vZHVsZUNvdW50KTtmb3IodmFyIGQ9MDtkPHRoaXMubW9kdWxlQ291bnQ7ZCsrKXt0aGlzLm1vZHVsZXNbZF09QXJyYXkodGhpcy5tb2R1bGVDb3VudCk7Zm9yKHZhciBiPTA7Yjx0aGlzLm1vZHVsZUNvdW50O2IrKyl0aGlzLm1vZHVsZXNbZF1bYl09bnVsbH10aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4oMCwwKTt0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4odGhpcy5tb2R1bGVDb3VudC0KNywwKTt0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4oMCx0aGlzLm1vZHVsZUNvdW50LTcpO3RoaXMuc2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm4oKTt0aGlzLnNldHVwVGltaW5nUGF0dGVybigpO3RoaXMuc2V0dXBUeXBlSW5mbyhhLGMpOzc8PXRoaXMudHlwZU51bWJlciYmdGhpcy5zZXR1cFR5cGVOdW1iZXIoYSk7bnVsbD09dGhpcy5kYXRhQ2FjaGUmJih0aGlzLmRhdGFDYWNoZT1vLmNyZWF0ZURhdGEodGhpcy50eXBlTnVtYmVyLHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWwsdGhpcy5kYXRhTGlzdCkpO3RoaXMubWFwRGF0YSh0aGlzLmRhdGFDYWNoZSxjKX0sc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybjpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZD0tMTs3Pj1kO2QrKylpZighKC0xPj1hK2R8fHRoaXMubW9kdWxlQ291bnQ8PWErZCkpZm9yKHZhciBiPS0xOzc+PWI7YisrKS0xPj1jK2J8fHRoaXMubW9kdWxlQ291bnQ8PWMrYnx8KHRoaXMubW9kdWxlc1thK2RdW2MrYl09CjA8PWQmJjY+PWQmJigwPT1ifHw2PT1iKXx8MDw9YiYmNj49YiYmKDA9PWR8fDY9PWQpfHwyPD1kJiY0Pj1kJiYyPD1iJiY0Pj1iPyEwOiExKX0sZ2V0QmVzdE1hc2tQYXR0ZXJuOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYz0wLGQ9MDs4PmQ7ZCsrKXt0aGlzLm1ha2VJbXBsKCEwLGQpO3ZhciBiPWouZ2V0TG9zdFBvaW50KHRoaXMpO2lmKDA9PWR8fGE+YilhPWIsYz1kfXJldHVybiBjfSxjcmVhdGVNb3ZpZUNsaXA6ZnVuY3Rpb24oYSxjLGQpe2E9YS5jcmVhdGVFbXB0eU1vdmllQ2xpcChjLGQpO3RoaXMubWFrZSgpO2ZvcihjPTA7Yzx0aGlzLm1vZHVsZXMubGVuZ3RoO2MrKylmb3IodmFyIGQ9MSpjLGI9MDtiPHRoaXMubW9kdWxlc1tjXS5sZW5ndGg7YisrKXt2YXIgZT0xKmI7dGhpcy5tb2R1bGVzW2NdW2JdJiYoYS5iZWdpbkZpbGwoMCwxMDApLGEubW92ZVRvKGUsZCksYS5saW5lVG8oZSsxLGQpLGEubGluZVRvKGUrMSxkKzEpLGEubGluZVRvKGUsZCsxKSxhLmVuZEZpbGwoKSl9cmV0dXJuIGF9LApzZXR1cFRpbWluZ1BhdHRlcm46ZnVuY3Rpb24oKXtmb3IodmFyIGE9ODthPHRoaXMubW9kdWxlQ291bnQtODthKyspbnVsbD09dGhpcy5tb2R1bGVzW2FdWzZdJiYodGhpcy5tb2R1bGVzW2FdWzZdPTA9PWElMik7Zm9yKGE9ODthPHRoaXMubW9kdWxlQ291bnQtODthKyspbnVsbD09dGhpcy5tb2R1bGVzWzZdW2FdJiYodGhpcy5tb2R1bGVzWzZdW2FdPTA9PWElMil9LHNldHVwUG9zaXRpb25BZGp1c3RQYXR0ZXJuOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWouZ2V0UGF0dGVyblBvc2l0aW9uKHRoaXMudHlwZU51bWJlciksYz0wO2M8YS5sZW5ndGg7YysrKWZvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgYj1hW2NdLGU9YVtkXTtpZihudWxsPT10aGlzLm1vZHVsZXNbYl1bZV0pZm9yKHZhciBmPS0yOzI+PWY7ZisrKWZvcih2YXIgaT0tMjsyPj1pO2krKyl0aGlzLm1vZHVsZXNbYitmXVtlK2ldPS0yPT1mfHwyPT1mfHwtMj09aXx8Mj09aXx8MD09ZiYmMD09aT8hMDohMX19LHNldHVwVHlwZU51bWJlcjpmdW5jdGlvbihhKXtmb3IodmFyIGM9CmouZ2V0QkNIVHlwZU51bWJlcih0aGlzLnR5cGVOdW1iZXIpLGQ9MDsxOD5kO2QrKyl7dmFyIGI9IWEmJjE9PShjPj5kJjEpO3RoaXMubW9kdWxlc1tNYXRoLmZsb29yKGQvMyldW2QlMyt0aGlzLm1vZHVsZUNvdW50LTgtM109Yn1mb3IoZD0wOzE4PmQ7ZCsrKWI9IWEmJjE9PShjPj5kJjEpLHRoaXMubW9kdWxlc1tkJTMrdGhpcy5tb2R1bGVDb3VudC04LTNdW01hdGguZmxvb3IoZC8zKV09Yn0sc2V0dXBUeXBlSW5mbzpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZD1qLmdldEJDSFR5cGVJbmZvKHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWw8PDN8YyksYj0wOzE1PmI7YisrKXt2YXIgZT0hYSYmMT09KGQ+PmImMSk7Nj5iP3RoaXMubW9kdWxlc1tiXVs4XT1lOjg+Yj90aGlzLm1vZHVsZXNbYisxXVs4XT1lOnRoaXMubW9kdWxlc1t0aGlzLm1vZHVsZUNvdW50LTE1K2JdWzhdPWV9Zm9yKGI9MDsxNT5iO2IrKyllPSFhJiYxPT0oZD4+YiYxKSw4PmI/dGhpcy5tb2R1bGVzWzhdW3RoaXMubW9kdWxlQ291bnQtCmItMV09ZTo5PmI/dGhpcy5tb2R1bGVzWzhdWzE1LWItMSsxXT1lOnRoaXMubW9kdWxlc1s4XVsxNS1iLTFdPWU7dGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQtOF1bOF09IWF9LG1hcERhdGE6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQ9LTEsYj10aGlzLm1vZHVsZUNvdW50LTEsZT03LGY9MCxpPXRoaXMubW9kdWxlQ291bnQtMTswPGk7aS09Milmb3IoNj09aSYmaS0tOzspe2Zvcih2YXIgZz0wOzI+ZztnKyspaWYobnVsbD09dGhpcy5tb2R1bGVzW2JdW2ktZ10pe3ZhciBuPSExO2Y8YS5sZW5ndGgmJihuPTE9PShhW2ZdPj4+ZSYxKSk7ai5nZXRNYXNrKGMsYixpLWcpJiYobj0hbik7dGhpcy5tb2R1bGVzW2JdW2ktZ109bjtlLS07IC0xPT1lJiYoZisrLGU9Nyl9Yis9ZDtpZigwPmJ8fHRoaXMubW9kdWxlQ291bnQ8PWIpe2ItPWQ7ZD0tZDticmVha319fX07by5QQUQwPTIzNjtvLlBBRDE9MTc7by5jcmVhdGVEYXRhPWZ1bmN0aW9uKGEsYyxkKXtmb3IodmFyIGM9cC5nZXRSU0Jsb2NrcyhhLApjKSxiPW5ldyB0LGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtiLnB1dChmLm1vZGUsNCk7Yi5wdXQoZi5nZXRMZW5ndGgoKSxqLmdldExlbmd0aEluQml0cyhmLm1vZGUsYSkpO2Yud3JpdGUoYil9Zm9yKGU9YT0wO2U8Yy5sZW5ndGg7ZSsrKWErPWNbZV0uZGF0YUNvdW50O2lmKGIuZ2V0TGVuZ3RoSW5CaXRzKCk+OCphKXRocm93IEVycm9yKCJjb2RlIGxlbmd0aCBvdmVyZmxvdy4gKCIrYi5nZXRMZW5ndGhJbkJpdHMoKSsiPiIrOCphKyIpIik7Zm9yKGIuZ2V0TGVuZ3RoSW5CaXRzKCkrNDw9OCphJiZiLnB1dCgwLDQpOzAhPWIuZ2V0TGVuZ3RoSW5CaXRzKCklODspYi5wdXRCaXQoITEpO2Zvcig7IShiLmdldExlbmd0aEluQml0cygpPj04KmEpOyl7Yi5wdXQoby5QQUQwLDgpO2lmKGIuZ2V0TGVuZ3RoSW5CaXRzKCk+PTgqYSlicmVhaztiLnB1dChvLlBBRDEsOCl9cmV0dXJuIG8uY3JlYXRlQnl0ZXMoYixjKX07by5jcmVhdGVCeXRlcz1mdW5jdGlvbihhLGMpe2Zvcih2YXIgZD0KMCxiPTAsZT0wLGY9QXJyYXkoYy5sZW5ndGgpLGk9QXJyYXkoYy5sZW5ndGgpLGc9MDtnPGMubGVuZ3RoO2crKyl7dmFyIG49Y1tnXS5kYXRhQ291bnQsaD1jW2ddLnRvdGFsQ291bnQtbixiPU1hdGgubWF4KGIsbiksZT1NYXRoLm1heChlLGgpO2ZbZ109QXJyYXkobik7Zm9yKHZhciBrPTA7azxmW2ddLmxlbmd0aDtrKyspZltnXVtrXT0yNTUmYS5idWZmZXJbaytkXTtkKz1uO2s9ai5nZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsKGgpO249KG5ldyBxKGZbZ10say5nZXRMZW5ndGgoKS0xKSkubW9kKGspO2lbZ109QXJyYXkoay5nZXRMZW5ndGgoKS0xKTtmb3Ioaz0wO2s8aVtnXS5sZW5ndGg7aysrKWg9aytuLmdldExlbmd0aCgpLWlbZ10ubGVuZ3RoLGlbZ11ba109MDw9aD9uLmdldChoKTowfWZvcihrPWc9MDtrPGMubGVuZ3RoO2srKylnKz1jW2tdLnRvdGFsQ291bnQ7ZD1BcnJheShnKTtmb3Ioaz1uPTA7azxiO2srKylmb3IoZz0wO2c8Yy5sZW5ndGg7ZysrKWs8ZltnXS5sZW5ndGgmJgooZFtuKytdPWZbZ11ba10pO2ZvcihrPTA7azxlO2srKylmb3IoZz0wO2c8Yy5sZW5ndGg7ZysrKWs8aVtnXS5sZW5ndGgmJihkW24rK109aVtnXVtrXSk7cmV0dXJuIGR9O3M9NDtmb3IodmFyIGo9e1BBVFRFUk5fUE9TSVRJT05fVEFCTEU6W1tdLFs2LDE4XSxbNiwyMl0sWzYsMjZdLFs2LDMwXSxbNiwzNF0sWzYsMjIsMzhdLFs2LDI0LDQyXSxbNiwyNiw0Nl0sWzYsMjgsNTBdLFs2LDMwLDU0XSxbNiwzMiw1OF0sWzYsMzQsNjJdLFs2LDI2LDQ2LDY2XSxbNiwyNiw0OCw3MF0sWzYsMjYsNTAsNzRdLFs2LDMwLDU0LDc4XSxbNiwzMCw1Niw4Ml0sWzYsMzAsNTgsODZdLFs2LDM0LDYyLDkwXSxbNiwyOCw1MCw3Miw5NF0sWzYsMjYsNTAsNzQsOThdLFs2LDMwLDU0LDc4LDEwMl0sWzYsMjgsNTQsODAsMTA2XSxbNiwzMiw1OCw4NCwxMTBdLFs2LDMwLDU4LDg2LDExNF0sWzYsMzQsNjIsOTAsMTE4XSxbNiwyNiw1MCw3NCw5OCwxMjJdLFs2LDMwLDU0LDc4LDEwMiwxMjZdLFs2LDI2LDUyLAo3OCwxMDQsMTMwXSxbNiwzMCw1Niw4MiwxMDgsMTM0XSxbNiwzNCw2MCw4NiwxMTIsMTM4XSxbNiwzMCw1OCw4NiwxMTQsMTQyXSxbNiwzNCw2Miw5MCwxMTgsMTQ2XSxbNiwzMCw1NCw3OCwxMDIsMTI2LDE1MF0sWzYsMjQsNTAsNzYsMTAyLDEyOCwxNTRdLFs2LDI4LDU0LDgwLDEwNiwxMzIsMTU4XSxbNiwzMiw1OCw4NCwxMTAsMTM2LDE2Ml0sWzYsMjYsNTQsODIsMTEwLDEzOCwxNjZdLFs2LDMwLDU4LDg2LDExNCwxNDIsMTcwXV0sRzE1OjEzMzUsRzE4Ojc5NzMsRzE1X01BU0s6MjE1MjIsZ2V0QkNIVHlwZUluZm86ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPWE8PDEwOzA8PWouZ2V0QkNIRGlnaXQoYyktai5nZXRCQ0hEaWdpdChqLkcxNSk7KWNePWouRzE1PDxqLmdldEJDSERpZ2l0KGMpLWouZ2V0QkNIRGlnaXQoai5HMTUpO3JldHVybihhPDwxMHxjKV5qLkcxNV9NQVNLfSxnZXRCQ0hUeXBlTnVtYmVyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1hPDwxMjswPD1qLmdldEJDSERpZ2l0KGMpLQpqLmdldEJDSERpZ2l0KGouRzE4KTspY149ai5HMTg8PGouZ2V0QkNIRGlnaXQoYyktai5nZXRCQ0hEaWdpdChqLkcxOCk7cmV0dXJuIGE8PDEyfGN9LGdldEJDSERpZ2l0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz0wOzAhPWE7KWMrKyxhPj4+PTE7cmV0dXJuIGN9LGdldFBhdHRlcm5Qb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gai5QQVRURVJOX1BPU0lUSU9OX1RBQkxFW2EtMV19LGdldE1hc2s6ZnVuY3Rpb24oYSxjLGQpe3N3aXRjaChhKXtjYXNlIDA6cmV0dXJuIDA9PShjK2QpJTI7Y2FzZSAxOnJldHVybiAwPT1jJTI7Y2FzZSAyOnJldHVybiAwPT1kJTM7Y2FzZSAzOnJldHVybiAwPT0oYytkKSUzO2Nhc2UgNDpyZXR1cm4gMD09KE1hdGguZmxvb3IoYy8yKStNYXRoLmZsb29yKGQvMykpJTI7Y2FzZSA1OnJldHVybiAwPT1jKmQlMitjKmQlMztjYXNlIDY6cmV0dXJuIDA9PShjKmQlMitjKmQlMyklMjtjYXNlIDc6cmV0dXJuIDA9PShjKmQlMysoYytkKSUyKSUyO2RlZmF1bHQ6dGhyb3cgRXJyb3IoImJhZCBtYXNrUGF0dGVybjoiKwphKTt9fSxnZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1uZXcgcShbMV0sMCksZD0wO2Q8YTtkKyspYz1jLm11bHRpcGx5KG5ldyBxKFsxLGwuZ2V4cChkKV0sMCkpO3JldHVybiBjfSxnZXRMZW5ndGhJbkJpdHM6ZnVuY3Rpb24oYSxjKXtpZigxPD1jJiYxMD5jKXN3aXRjaChhKXtjYXNlIDE6cmV0dXJuIDEwO2Nhc2UgMjpyZXR1cm4gOTtjYXNlIHM6cmV0dXJuIDg7Y2FzZSA4OnJldHVybiA4O2RlZmF1bHQ6dGhyb3cgRXJyb3IoIm1vZGU6IithKTt9ZWxzZSBpZigyNz5jKXN3aXRjaChhKXtjYXNlIDE6cmV0dXJuIDEyO2Nhc2UgMjpyZXR1cm4gMTE7Y2FzZSBzOnJldHVybiAxNjtjYXNlIDg6cmV0dXJuIDEwO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIm1vZGU6IithKTt9ZWxzZSBpZig0MT5jKXN3aXRjaChhKXtjYXNlIDE6cmV0dXJuIDE0O2Nhc2UgMjpyZXR1cm4gMTM7Y2FzZSBzOnJldHVybiAxNjtjYXNlIDg6cmV0dXJuIDEyO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIm1vZGU6IisKYSk7fWVsc2UgdGhyb3cgRXJyb3IoInR5cGU6IitjKTt9LGdldExvc3RQb2ludDpmdW5jdGlvbihhKXtmb3IodmFyIGM9YS5nZXRNb2R1bGVDb3VudCgpLGQ9MCxiPTA7YjxjO2IrKylmb3IodmFyIGU9MDtlPGM7ZSsrKXtmb3IodmFyIGY9MCxpPWEuaXNEYXJrKGIsZSksZz0tMTsxPj1nO2crKylpZighKDA+YitnfHxjPD1iK2cpKWZvcih2YXIgaD0tMTsxPj1oO2grKykwPmUraHx8Yzw9ZStofHwwPT1nJiYwPT1ofHxpPT1hLmlzRGFyayhiK2csZStoKSYmZisrOzU8ZiYmKGQrPTMrZi01KX1mb3IoYj0wO2I8Yy0xO2IrKylmb3IoZT0wO2U8Yy0xO2UrKylpZihmPTAsYS5pc0RhcmsoYixlKSYmZisrLGEuaXNEYXJrKGIrMSxlKSYmZisrLGEuaXNEYXJrKGIsZSsxKSYmZisrLGEuaXNEYXJrKGIrMSxlKzEpJiZmKyssMD09Znx8ND09ZilkKz0zO2ZvcihiPTA7YjxjO2IrKylmb3IoZT0wO2U8Yy02O2UrKylhLmlzRGFyayhiLGUpJiYhYS5pc0RhcmsoYixlKzEpJiZhLmlzRGFyayhiLGUrCjIpJiZhLmlzRGFyayhiLGUrMykmJmEuaXNEYXJrKGIsZSs0KSYmIWEuaXNEYXJrKGIsZSs1KSYmYS5pc0RhcmsoYixlKzYpJiYoZCs9NDApO2ZvcihlPTA7ZTxjO2UrKylmb3IoYj0wO2I8Yy02O2IrKylhLmlzRGFyayhiLGUpJiYhYS5pc0RhcmsoYisxLGUpJiZhLmlzRGFyayhiKzIsZSkmJmEuaXNEYXJrKGIrMyxlKSYmYS5pc0RhcmsoYis0LGUpJiYhYS5pc0RhcmsoYis1LGUpJiZhLmlzRGFyayhiKzYsZSkmJihkKz00MCk7Zm9yKGU9Zj0wO2U8YztlKyspZm9yKGI9MDtiPGM7YisrKWEuaXNEYXJrKGIsZSkmJmYrKzthPU1hdGguYWJzKDEwMCpmL2MvYy01MCkvNTtyZXR1cm4gZCsxMCphfX0sbD17Z2xvZzpmdW5jdGlvbihhKXtpZigxPmEpdGhyb3cgRXJyb3IoImdsb2coIithKyIpIik7cmV0dXJuIGwuTE9HX1RBQkxFW2FdfSxnZXhwOmZ1bmN0aW9uKGEpe2Zvcig7MD5hOylhKz0yNTU7Zm9yKDsyNTY8PWE7KWEtPTI1NTtyZXR1cm4gbC5FWFBfVEFCTEVbYV19LEVYUF9UQUJMRTpBcnJheSgyNTYpLApMT0dfVEFCTEU6QXJyYXkoMjU2KX0sbT0wOzg+bTttKyspbC5FWFBfVEFCTEVbbV09MTw8bTtmb3IobT04OzI1Nj5tO20rKylsLkVYUF9UQUJMRVttXT1sLkVYUF9UQUJMRVttLTRdXmwuRVhQX1RBQkxFW20tNV1ebC5FWFBfVEFCTEVbbS02XV5sLkVYUF9UQUJMRVttLThdO2ZvcihtPTA7MjU1Pm07bSsrKWwuTE9HX1RBQkxFW2wuRVhQX1RBQkxFW21dXT1tO3EucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubnVtW2FdfSxnZXRMZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5udW0ubGVuZ3RofSxtdWx0aXBseTpmdW5jdGlvbihhKXtmb3IodmFyIGM9QXJyYXkodGhpcy5nZXRMZW5ndGgoKSthLmdldExlbmd0aCgpLTEpLGQ9MDtkPHRoaXMuZ2V0TGVuZ3RoKCk7ZCsrKWZvcih2YXIgYj0wO2I8YS5nZXRMZW5ndGgoKTtiKyspY1tkK2JdXj1sLmdleHAobC5nbG9nKHRoaXMuZ2V0KGQpKStsLmdsb2coYS5nZXQoYikpKTtyZXR1cm4gbmV3IHEoYywwKX0sbW9kOmZ1bmN0aW9uKGEpe2lmKDA+CnRoaXMuZ2V0TGVuZ3RoKCktYS5nZXRMZW5ndGgoKSlyZXR1cm4gdGhpcztmb3IodmFyIGM9bC5nbG9nKHRoaXMuZ2V0KDApKS1sLmdsb2coYS5nZXQoMCkpLGQ9QXJyYXkodGhpcy5nZXRMZW5ndGgoKSksYj0wO2I8dGhpcy5nZXRMZW5ndGgoKTtiKyspZFtiXT10aGlzLmdldChiKTtmb3IoYj0wO2I8YS5nZXRMZW5ndGgoKTtiKyspZFtiXV49bC5nZXhwKGwuZ2xvZyhhLmdldChiKSkrYyk7cmV0dXJuKG5ldyBxKGQsMCkpLm1vZChhKX19O3AuUlNfQkxPQ0tfVEFCTEU9W1sxLDI2LDE5XSxbMSwyNiwxNl0sWzEsMjYsMTNdLFsxLDI2LDldLFsxLDQ0LDM0XSxbMSw0NCwyOF0sWzEsNDQsMjJdLFsxLDQ0LDE2XSxbMSw3MCw1NV0sWzEsNzAsNDRdLFsyLDM1LDE3XSxbMiwzNSwxM10sWzEsMTAwLDgwXSxbMiw1MCwzMl0sWzIsNTAsMjRdLFs0LDI1LDldLFsxLDEzNCwxMDhdLFsyLDY3LDQzXSxbMiwzMywxNSwyLDM0LDE2XSxbMiwzMywxMSwyLDM0LDEyXSxbMiw4Niw2OF0sWzQsNDMsMjddLApbNCw0MywxOV0sWzQsNDMsMTVdLFsyLDk4LDc4XSxbNCw0OSwzMV0sWzIsMzIsMTQsNCwzMywxNV0sWzQsMzksMTMsMSw0MCwxNF0sWzIsMTIxLDk3XSxbMiw2MCwzOCwyLDYxLDM5XSxbNCw0MCwxOCwyLDQxLDE5XSxbNCw0MCwxNCwyLDQxLDE1XSxbMiwxNDYsMTE2XSxbMyw1OCwzNiwyLDU5LDM3XSxbNCwzNiwxNiw0LDM3LDE3XSxbNCwzNiwxMiw0LDM3LDEzXSxbMiw4Niw2OCwyLDg3LDY5XSxbNCw2OSw0MywxLDcwLDQ0XSxbNiw0MywxOSwyLDQ0LDIwXSxbNiw0MywxNSwyLDQ0LDE2XSxbNCwxMDEsODFdLFsxLDgwLDUwLDQsODEsNTFdLFs0LDUwLDIyLDQsNTEsMjNdLFszLDM2LDEyLDgsMzcsMTNdLFsyLDExNiw5MiwyLDExNyw5M10sWzYsNTgsMzYsMiw1OSwzN10sWzQsNDYsMjAsNiw0NywyMV0sWzcsNDIsMTQsNCw0MywxNV0sWzQsMTMzLDEwN10sWzgsNTksMzcsMSw2MCwzOF0sWzgsNDQsMjAsNCw0NSwyMV0sWzEyLDMzLDExLDQsMzQsMTJdLFszLDE0NSwxMTUsMSwxNDYsCjExNl0sWzQsNjQsNDAsNSw2NSw0MV0sWzExLDM2LDE2LDUsMzcsMTddLFsxMSwzNiwxMiw1LDM3LDEzXSxbNSwxMDksODcsMSwxMTAsODhdLFs1LDY1LDQxLDUsNjYsNDJdLFs1LDU0LDI0LDcsNTUsMjVdLFsxMSwzNiwxMl0sWzUsMTIyLDk4LDEsMTIzLDk5XSxbNyw3Myw0NSwzLDc0LDQ2XSxbMTUsNDMsMTksMiw0NCwyMF0sWzMsNDUsMTUsMTMsNDYsMTZdLFsxLDEzNSwxMDcsNSwxMzYsMTA4XSxbMTAsNzQsNDYsMSw3NSw0N10sWzEsNTAsMjIsMTUsNTEsMjNdLFsyLDQyLDE0LDE3LDQzLDE1XSxbNSwxNTAsMTIwLDEsMTUxLDEyMV0sWzksNjksNDMsNCw3MCw0NF0sWzE3LDUwLDIyLDEsNTEsMjNdLFsyLDQyLDE0LDE5LDQzLDE1XSxbMywxNDEsMTEzLDQsMTQyLDExNF0sWzMsNzAsNDQsMTEsNzEsNDVdLFsxNyw0NywyMSw0LDQ4LDIyXSxbOSwzOSwxMywxNiw0MCwxNF0sWzMsMTM1LDEwNyw1LDEzNiwxMDhdLFszLDY3LDQxLDEzLDY4LDQyXSxbMTUsNTQsMjQsNSw1NSwyNV0sWzE1LAo0MywxNSwxMCw0NCwxNl0sWzQsMTQ0LDExNiw0LDE0NSwxMTddLFsxNyw2OCw0Ml0sWzE3LDUwLDIyLDYsNTEsMjNdLFsxOSw0NiwxNiw2LDQ3LDE3XSxbMiwxMzksMTExLDcsMTQwLDExMl0sWzE3LDc0LDQ2XSxbNyw1NCwyNCwxNiw1NSwyNV0sWzM0LDM3LDEzXSxbNCwxNTEsMTIxLDUsMTUyLDEyMl0sWzQsNzUsNDcsMTQsNzYsNDhdLFsxMSw1NCwyNCwxNCw1NSwyNV0sWzE2LDQ1LDE1LDE0LDQ2LDE2XSxbNiwxNDcsMTE3LDQsMTQ4LDExOF0sWzYsNzMsNDUsMTQsNzQsNDZdLFsxMSw1NCwyNCwxNiw1NSwyNV0sWzMwLDQ2LDE2LDIsNDcsMTddLFs4LDEzMiwxMDYsNCwxMzMsMTA3XSxbOCw3NSw0NywxMyw3Niw0OF0sWzcsNTQsMjQsMjIsNTUsMjVdLFsyMiw0NSwxNSwxMyw0NiwxNl0sWzEwLDE0MiwxMTQsMiwxNDMsMTE1XSxbMTksNzQsNDYsNCw3NSw0N10sWzI4LDUwLDIyLDYsNTEsMjNdLFszMyw0NiwxNiw0LDQ3LDE3XSxbOCwxNTIsMTIyLDQsMTUzLDEyM10sWzIyLDczLDQ1LAozLDc0LDQ2XSxbOCw1MywyMywyNiw1NCwyNF0sWzEyLDQ1LDE1LDI4LDQ2LDE2XSxbMywxNDcsMTE3LDEwLDE0OCwxMThdLFszLDczLDQ1LDIzLDc0LDQ2XSxbNCw1NCwyNCwzMSw1NSwyNV0sWzExLDQ1LDE1LDMxLDQ2LDE2XSxbNywxNDYsMTE2LDcsMTQ3LDExN10sWzIxLDczLDQ1LDcsNzQsNDZdLFsxLDUzLDIzLDM3LDU0LDI0XSxbMTksNDUsMTUsMjYsNDYsMTZdLFs1LDE0NSwxMTUsMTAsMTQ2LDExNl0sWzE5LDc1LDQ3LDEwLDc2LDQ4XSxbMTUsNTQsMjQsMjUsNTUsMjVdLFsyMyw0NSwxNSwyNSw0NiwxNl0sWzEzLDE0NSwxMTUsMywxNDYsMTE2XSxbMiw3NCw0NiwyOSw3NSw0N10sWzQyLDU0LDI0LDEsNTUsMjVdLFsyMyw0NSwxNSwyOCw0NiwxNl0sWzE3LDE0NSwxMTVdLFsxMCw3NCw0NiwyMyw3NSw0N10sWzEwLDU0LDI0LDM1LDU1LDI1XSxbMTksNDUsMTUsMzUsNDYsMTZdLFsxNywxNDUsMTE1LDEsMTQ2LDExNl0sWzE0LDc0LDQ2LDIxLDc1LDQ3XSxbMjksNTQsMjQsMTksCjU1LDI1XSxbMTEsNDUsMTUsNDYsNDYsMTZdLFsxMywxNDUsMTE1LDYsMTQ2LDExNl0sWzE0LDc0LDQ2LDIzLDc1LDQ3XSxbNDQsNTQsMjQsNyw1NSwyNV0sWzU5LDQ2LDE2LDEsNDcsMTddLFsxMiwxNTEsMTIxLDcsMTUyLDEyMl0sWzEyLDc1LDQ3LDI2LDc2LDQ4XSxbMzksNTQsMjQsMTQsNTUsMjVdLFsyMiw0NSwxNSw0MSw0NiwxNl0sWzYsMTUxLDEyMSwxNCwxNTIsMTIyXSxbNiw3NSw0NywzNCw3Niw0OF0sWzQ2LDU0LDI0LDEwLDU1LDI1XSxbMiw0NSwxNSw2NCw0NiwxNl0sWzE3LDE1MiwxMjIsNCwxNTMsMTIzXSxbMjksNzQsNDYsMTQsNzUsNDddLFs0OSw1NCwyNCwxMCw1NSwyNV0sWzI0LDQ1LDE1LDQ2LDQ2LDE2XSxbNCwxNTIsMTIyLDE4LDE1MywxMjNdLFsxMyw3NCw0NiwzMiw3NSw0N10sWzQ4LDU0LDI0LDE0LDU1LDI1XSxbNDIsNDUsMTUsMzIsNDYsMTZdLFsyMCwxNDcsMTE3LDQsMTQ4LDExOF0sWzQwLDc1LDQ3LDcsNzYsNDhdLFs0Myw1NCwyNCwyMiw1NSwyNV0sWzEwLAo0NSwxNSw2Nyw0NiwxNl0sWzE5LDE0OCwxMTgsNiwxNDksMTE5XSxbMTgsNzUsNDcsMzEsNzYsNDhdLFszNCw1NCwyNCwzNCw1NSwyNV0sWzIwLDQ1LDE1LDYxLDQ2LDE2XV07cC5nZXRSU0Jsb2Nrcz1mdW5jdGlvbihhLGMpe3ZhciBkPXAuZ2V0UnNCbG9ja1RhYmxlKGEsYyk7aWYodm9pZCAwPT1kKXRocm93IEVycm9yKCJiYWQgcnMgYmxvY2sgQCB0eXBlTnVtYmVyOiIrYSsiL2Vycm9yQ29ycmVjdExldmVsOiIrYyk7Zm9yKHZhciBiPWQubGVuZ3RoLzMsZT1bXSxmPTA7ZjxiO2YrKylmb3IodmFyIGg9ZFszKmYrMF0sZz1kWzMqZisxXSxqPWRbMypmKzJdLGw9MDtsPGg7bCsrKWUucHVzaChuZXcgcChnLGopKTtyZXR1cm4gZX07cC5nZXRSc0Jsb2NrVGFibGU9ZnVuY3Rpb24oYSxjKXtzd2l0Y2goYyl7Y2FzZSAxOnJldHVybiBwLlJTX0JMT0NLX1RBQkxFWzQqKGEtMSkrMF07Y2FzZSAwOnJldHVybiBwLlJTX0JMT0NLX1RBQkxFWzQqKGEtMSkrMV07Y2FzZSAzOnJldHVybiBwLlJTX0JMT0NLX1RBQkxFWzQqCihhLTEpKzJdO2Nhc2UgMjpyZXR1cm4gcC5SU19CTE9DS19UQUJMRVs0KihhLTEpKzNdfX07dC5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gMT09KHRoaXMuYnVmZmVyW01hdGguZmxvb3IoYS84KV0+Pj43LWElOCYxKX0scHV0OmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkPTA7ZDxjO2QrKyl0aGlzLnB1dEJpdCgxPT0oYT4+PmMtZC0xJjEpKX0sZ2V0TGVuZ3RoSW5CaXRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxwdXRCaXQ6ZnVuY3Rpb24oYSl7dmFyIGM9TWF0aC5mbG9vcih0aGlzLmxlbmd0aC84KTt0aGlzLmJ1ZmZlci5sZW5ndGg8PWMmJnRoaXMuYnVmZmVyLnB1c2goMCk7YSYmKHRoaXMuYnVmZmVyW2NdfD0xMjg+Pj50aGlzLmxlbmd0aCU4KTt0aGlzLmxlbmd0aCsrfX07InN0cmluZyI9PT10eXBlb2YgaCYmKGg9e3RleHQ6aH0pO2g9ci5leHRlbmQoe30se3JlbmRlcjoiY2FudmFzIix3aWR0aDoyNTYsaGVpZ2h0OjI1Nix0eXBlTnVtYmVyOi0xLApjb3JyZWN0TGV2ZWw6MixiYWNrZ3JvdW5kOiIjZmZmZmZmIixmb3JlZ3JvdW5kOiIjMDAwMDAwIn0saCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBhO2lmKCJjYW52YXMiPT1oLnJlbmRlcil7YT1uZXcgbyhoLnR5cGVOdW1iZXIsaC5jb3JyZWN0TGV2ZWwpO2EuYWRkRGF0YShoLnRleHQpO2EubWFrZSgpO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2Mud2lkdGg9aC53aWR0aDtjLmhlaWdodD1oLmhlaWdodDtmb3IodmFyIGQ9Yy5nZXRDb250ZXh0KCIyZCIpLGI9aC53aWR0aC9hLmdldE1vZHVsZUNvdW50KCksZT1oLmhlaWdodC9hLmdldE1vZHVsZUNvdW50KCksZj0wO2Y8YS5nZXRNb2R1bGVDb3VudCgpO2YrKylmb3IodmFyIGk9MDtpPGEuZ2V0TW9kdWxlQ291bnQoKTtpKyspe2QuZmlsbFN0eWxlPWEuaXNEYXJrKGYsaSk/aC5mb3JlZ3JvdW5kOmguYmFja2dyb3VuZDt2YXIgZz1NYXRoLmNlaWwoKGkrMSkqYiktTWF0aC5mbG9vcihpKmIpLApqPU1hdGguY2VpbCgoZisxKSpiKS1NYXRoLmZsb29yKGYqYik7ZC5maWxsUmVjdChNYXRoLnJvdW5kKGkqYiksTWF0aC5yb3VuZChmKmUpLGcsail9fWVsc2V7YT1uZXcgbyhoLnR5cGVOdW1iZXIsaC5jb3JyZWN0TGV2ZWwpO2EuYWRkRGF0YShoLnRleHQpO2EubWFrZSgpO2M9cigiPHRhYmxlPjwvdGFibGU+IikuY3NzKCJ3aWR0aCIsaC53aWR0aCsicHgiKS5jc3MoImhlaWdodCIsaC5oZWlnaHQrInB4IikuY3NzKCJib3JkZXIiLCIwcHgiKS5jc3MoImJvcmRlci1jb2xsYXBzZSIsImNvbGxhcHNlIikuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIixoLmJhY2tncm91bmQpO2Q9aC53aWR0aC9hLmdldE1vZHVsZUNvdW50KCk7Yj1oLmhlaWdodC9hLmdldE1vZHVsZUNvdW50KCk7Zm9yKGU9MDtlPGEuZ2V0TW9kdWxlQ291bnQoKTtlKyspe2Y9cigiPHRyPjwvdHI+IikuY3NzKCJoZWlnaHQiLGIrInB4IikuYXBwZW5kVG8oYyk7Zm9yKGk9MDtpPGEuZ2V0TW9kdWxlQ291bnQoKTtpKyspcigiPHRkPjwvdGQ+IikuY3NzKCJ3aWR0aCIsCmQrInB4IikuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIixhLmlzRGFyayhlLGkpP2guZm9yZWdyb3VuZDpoLmJhY2tncm91bmQpLmFwcGVuZFRvKGYpfX1hPWM7alF1ZXJ5KGEpLmFwcGVuZFRvKHRoaXMpfSl9fSkoalF1ZXJ5KTsK"},{"meta":{"name":"findAndReplaceDOMText-huahuacat.js","url":"https://greasyfork.org/scripts/454236-findandreplacedomtext-huahuacat/code/findAndReplaceDOMText-huahuacat.js?version=1112990","ts":1714550053364,"mimetype":"text/javascript"},"source":"LyoqCiAqIGZpbmRBbmRSZXBsYWNlRE9NVGV4dCB2IDAuNC42CiAqIEBhdXRob3IgSmFtZXMgUGFkb2xzZXkgaHR0cDovL2phbWVzLnBhZG9sc2V5LmNvbQogKiBAbGljZW5zZSBodHRwOi8vdW5saWNlbnNlLm9yZy9VTkxJQ0VOU0UKICoKICogTWF0Y2hlcyB0aGUgdGV4dCBvZiBhIERPTSBub2RlIGFnYWluc3QgYSByZWd1bGFyIGV4cHJlc3Npb24KICogYW5kIHJlcGxhY2VzIGVhY2ggbWF0Y2ggKG9yIG5vZGUtc2VwYXJhdGVkIHBvcnRpb25zIG9mIHRoZSBtYXRjaCkKICogaW4gdGhlIHNwZWNpZmllZCBlbGVtZW50LgogKi8KIChmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgICAvLyBOb2RlL0NvbW1vbkpTCiAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KICAgICAgICAgZGVmaW5lKGZhY3RvcnkpOwogICAgIH0gZWxzZSB7CiAgICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscwogICAgICAgICByb290LmZpbmRBbmRSZXBsYWNlRE9NVGV4dCA9IGZhY3RvcnkoKTsKICAgICB9CiB9KHRoaXMsIGZ1bmN0aW9uIGZhY3RvcnkoKSB7CgoJdmFyIFBPUlRJT05fTU9ERV9SRVRBSU4gPSAncmV0YWluJzsKCXZhciBQT1JUSU9OX01PREVfRklSU1QgPSAnZmlyc3QnOwoKCXZhciBkb2MgPSBkb2N1bWVudDsKCXZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTsKCglmdW5jdGlvbiBlc2NhcGVSZWdFeHAocykgewoJCXJldHVybiBTdHJpbmcocykucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXVwvXFxdKS9nLCAnXFwkMScpOwoJfQoKCWZ1bmN0aW9uIGV4cG9zZWQoKSB7CgkJLy8gVHJ5IGRlcHJlY2F0ZWQgYXJnIHNpZ25hdHVyZSBmaXJzdDoKCQlyZXR1cm4gZGVwcmVjYXRlZC5hcHBseShudWxsLCBhcmd1bWVudHMpIHx8IGZpbmRBbmRSZXBsYWNlRE9NVGV4dC5hcHBseShudWxsLCBhcmd1bWVudHMpOwoJfQoKCWZ1bmN0aW9uIGRlcHJlY2F0ZWQocmVnZXgsIG5vZGUsIHJlcGxhY2VtZW50LCBjYXB0dXJlR3JvdXAsIGVsRmlsdGVyKSB7CgkJaWYgKChub2RlICYmICFub2RlLm5vZGVUeXBlKSAmJiBhcmd1bWVudHMubGVuZ3RoIDw9IDIpIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQl2YXIgaXNSZXBsYWNlbWVudEZ1bmN0aW9uID0gdHlwZW9mIHJlcGxhY2VtZW50ID09ICdmdW5jdGlvbic7CgoJCWlmIChpc1JlcGxhY2VtZW50RnVuY3Rpb24pIHsKCQkJcmVwbGFjZW1lbnQgPSAoZnVuY3Rpb24ob3JpZ2luYWwpIHsKCQkJCXJldHVybiBmdW5jdGlvbihwb3J0aW9uLCBtYXRjaCkgewoJCQkJCXJldHVybiBvcmlnaW5hbChwb3J0aW9uLnRleHQsIG1hdGNoLnN0YXJ0SW5kZXgpOwoJCQkJfTsKCQkJfShyZXBsYWNlbWVudCkpOwoJCX0KCgkJLy8gQXdrd2FyZCBzdXBwb3J0IGZvciBkZXByZWNhdGVkIGFyZ3VtZW50IHNpZ25hdHVyZSAoPDAuNC4wKQoJCXZhciBpbnN0YW5jZSA9IGZpbmRBbmRSZXBsYWNlRE9NVGV4dChub2RlLCB7CgoJCQlmaW5kOiByZWdleCwKCgkJCXdyYXA6IGlzUmVwbGFjZW1lbnRGdW5jdGlvbiA/IG51bGwgOiByZXBsYWNlbWVudCwKCQkJcmVwbGFjZTogaXNSZXBsYWNlbWVudEZ1bmN0aW9uID8gcmVwbGFjZW1lbnQgOiAnJCcgKyAoY2FwdHVyZUdyb3VwIHx8ICcmJyksCgoJCQlwcmVwTWF0Y2g6IGZ1bmN0aW9uKG0sIG1pKSB7CgoJCQkJLy8gU3VwcG9ydCBjYXB0dXJlR3JvdXAgKGEgZGVwcmVjYXRlZCBmZWF0dXJlKQoKCQkJCWlmICghbVswXSkgdGhyb3cgJ2ZpbmRBbmRSZXBsYWNlRE9NVGV4dCBjYW5ub3QgaGFuZGxlIHplcm8tbGVuZ3RoIG1hdGNoZXMnOwoKCQkJCWlmIChjYXB0dXJlR3JvdXAgPiAwKSB7CgkJCQkJdmFyIGNnID0gbVtjYXB0dXJlR3JvdXBdOwoJCQkJCW0uaW5kZXggKz0gbVswXS5pbmRleE9mKGNnKTsKCQkJCQltWzBdID0gY2c7CgkJCQl9CgoJCQkJbS5lbmRJbmRleCA9IG0uaW5kZXggKyBtWzBdLmxlbmd0aDsKCQkJCW0uc3RhcnRJbmRleCA9IG0uaW5kZXg7CgkJCQltLmluZGV4ID0gbWk7CgoJCQkJcmV0dXJuIG07CgkJCX0sCgkJCWZpbHRlckVsZW1lbnRzOiBlbEZpbHRlcgoJCX0pOwoKCQlleHBvc2VkLnJldmVydCA9IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gaW5zdGFuY2UucmV2ZXJ0KCk7CgkJfTsKCgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkgKiBmaW5kQW5kUmVwbGFjZURPTVRleHQKCSAqCgkgKiBMb2NhdGVzIG1hdGNoZXMgYW5kIHJlcGxhY2VzIHdpdGggcmVwbGFjZW1lbnROb2RlCgkgKgoJICogQHBhcmFtIHtOb2RlfSBub2RlIEVsZW1lbnQgb3IgVGV4dCBub2RlIHRvIHNlYXJjaCB3aXRoaW4KCSAqIEBwYXJhbSB7UmVnRXhwfSBvcHRpb25zLmZpbmQgVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaAoJICogQHBhcmFtIHtTdHJpbmd8RWxlbWVudH0gW29wdGlvbnMud3JhcF0gQSBOb2RlTmFtZSwgb3IgYSBOb2RlIHRvIGNsb25lCgkgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMud3JhcENsYXNzXSBBIGNsYXNzbmFtZSB0byBhcHBlbmQgdG8gdGhlIHdyYXBwaW5nIGVsZW1lbnQKCSAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBbb3B0aW9ucy5yZXBsYWNlPSckJiddIFdoYXQgdG8gcmVwbGFjZSBlYWNoIG1hdGNoIHdpdGgKCSAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmZpbHRlckVsZW1lbnRzXSBBIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB0byBjaGVjayB3aGV0aGVyIHRvCgkgKglwcm9jZXNzIGFuIGVsZW1lbnQuIChyZXR1cm5pbmcgdHJ1ZSA9IHByb2Nlc3MgZWxlbWVudCwKCSAqCXJldHVybmluZyBmYWxzZSA9IGF2b2lkIGVsZW1lbnQpCgkgKi8KCWZ1bmN0aW9uIGZpbmRBbmRSZXBsYWNlRE9NVGV4dChub2RlLCBvcHRpb25zKSB7CgkJcmV0dXJuIG5ldyBGaW5kZXIobm9kZSwgb3B0aW9ucyk7Cgl9CgoJZXhwb3NlZC5OT05fUFJPU0VfRUxFTUVOVFMgPSB7CgkJYnI6MSwgaHI6MSwKCQkvLyBNZWRpYSAvIFNvdXJjZSBlbGVtZW50czoKCQlzY3JpcHQ6MSwgc3R5bGU6MSwgaW1nOjEsIHZpZGVvOjEsIGF1ZGlvOjEsIGNhbnZhczoxLCBzdmc6MSwgbWFwOjEsIG9iamVjdDoxLAoJCS8vIElucHV0IGVsZW1lbnRzCgkJaW5wdXQ6MSwgdGV4dGFyZWE6MSwgc2VsZWN0OjEsIG9wdGlvbjoxLCBvcHRncm91cDogMSwgYnV0dG9uOjEKCX07CgoJZXhwb3NlZC5OT05fQ09OVElHVU9VU19QUk9TRV9FTEVNRU5UUyA9IHsKCgkJLy8gRWxlbWVudHMgdGhhdCB3aWxsIG5vdCBjb250YWluIHByb3NlIG9yIGJsb2NrIGVsZW1lbnRzIHdoZXJlIHdlIGRvbid0CgkJLy8gd2FudCBwcm9zZSB0byBiZSBtYXRjaGVzIGFjcm9zcyBlbGVtZW50IGJvcmRlcnM6CgoJCS8vIEJsb2NrIEVsZW1lbnRzCgkJYWRkcmVzczoxLCBhcnRpY2xlOjEsIGFzaWRlOjEsIGJsb2NrcXVvdGU6MSwgZGQ6MSwgZGl2OjEsCgkJZGw6MSwgZmllbGRzZXQ6MSwgZmlnY2FwdGlvbjoxLCBmaWd1cmU6MSwgZm9vdGVyOjEsIGZvcm06MSwgaDE6MSwgaDI6MSwgaDM6MSwKCQloNDoxLCBoNToxLCBoNjoxLCBoZWFkZXI6MSwgaGdyb3VwOjEsIGhyOjEsIG1haW46MSwgbmF2OjEsIG5vc2NyaXB0OjEsIG9sOjEsCgkJb3V0cHV0OjEsIHA6MSwgcHJlOjEsIHNlY3Rpb246MSwgdWw6MSwKCQkvLyBPdGhlciBtaXNjLiBlbGVtZW50cyB0aGF0IGFyZSBub3QgcGFydCBvZiBjb250aW51b3VzIGlubGluZSBwcm9zZToKCQlicjoxLCBsaTogMSwgc3VtbWFyeTogMSwgZHQ6MSwgZGV0YWlsczoxLCBycDoxLCBydDoxLCBydGM6MSwKCQkvLyBNZWRpYSAvIFNvdXJjZSBlbGVtZW50czoKCQlzY3JpcHQ6MSwgc3R5bGU6MSwgaW1nOjEsIHZpZGVvOjEsIGF1ZGlvOjEsIGNhbnZhczoxLCBzdmc6MSwgbWFwOjEsIG9iamVjdDoxLAoJCS8vIElucHV0IGVsZW1lbnRzCgkJaW5wdXQ6MSwgdGV4dGFyZWE6MSwgc2VsZWN0OjEsIG9wdGlvbjoxLCBvcHRncm91cDoxLCBidXR0b246MSwKCQkvLyBUYWJsZSByZWxhdGVkIGVsZW1lbnRzOgoJCXRhYmxlOjEsIHRib2R5OjEsIHRoZWFkOjEsIHRoOjEsIHRyOjEsIHRkOjEsIGNhcHRpb246MSwgY29sOjEsIHRmb290OjEsIGNvbGdyb3VwOjEKCgl9OwoKCWV4cG9zZWQuTk9OX0lOTElORV9QUk9TRSA9IGZ1bmN0aW9uKGVsKSB7CgkJcmV0dXJuIGhhc093bi5jYWxsKGV4cG9zZWQuTk9OX0NPTlRJR1VPVVNfUFJPU0VfRUxFTUVOVFMsIGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOwoJfTsKCgkvLyBQcmVzZXRzIGFjY2Vzc2VkIHZpYSBgb3B0aW9ucy5wcmVzZXRgIHdoZW4gY2FsbGluZyBmaW5kQW5kUmVwbGFjZURPTVRleHQoKToKCWV4cG9zZWQuUFJFU0VUUyA9IHsKCQlwcm9zZTogewoJCQlmb3JjZUNvbnRleHQ6IGV4cG9zZWQuTk9OX0lOTElORV9QUk9TRSwKCQkJZmlsdGVyRWxlbWVudHM6IGZ1bmN0aW9uKGVsKSB7CgkJCQlyZXR1cm4gIWhhc093bi5jYWxsKGV4cG9zZWQuTk9OX1BST1NFX0VMRU1FTlRTLCBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTsKCQkJfQoJCX0KCX07CgoJZXhwb3NlZC5GaW5kZXIgPSBGaW5kZXI7CgoJLyoqCgkgKiBGaW5kZXIgLS0gZW5jYXBzdWxhdGVzIGxvZ2ljIHRvIGZpbmQgYW5kIHJlcGxhY2UuCgkgKi8KCWZ1bmN0aW9uIEZpbmRlcihub2RlLCBvcHRpb25zKSB7CgoJCXZhciBwcmVzZXQgPSBvcHRpb25zLnByZXNldCAmJiBleHBvc2VkLlBSRVNFVFNbb3B0aW9ucy5wcmVzZXRdOwoKCQlvcHRpb25zLnBvcnRpb25Nb2RlID0gb3B0aW9ucy5wb3J0aW9uTW9kZSB8fCBQT1JUSU9OX01PREVfUkVUQUlOOwoKCQlpZiAocHJlc2V0KSB7CgkJCWZvciAodmFyIGkgaW4gcHJlc2V0KSB7CgkJCQlpZiAoaGFzT3duLmNhbGwocHJlc2V0LCBpKSAmJiAhaGFzT3duLmNhbGwob3B0aW9ucywgaSkpIHsKCQkJCQlvcHRpb25zW2ldID0gcHJlc2V0W2ldOwoJCQkJfQoJCQl9CgkJfQoKCQl0aGlzLm5vZGUgPSBub2RlOwoJCXRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CgoJCS8vIEVuYWJsZSBtYXRjaC1wcmVwYXJhdGlvbiBtZXRob2QgdG8gYmUgcGFzc2VkIGFzIG9wdGlvbjoKCQl0aGlzLnByZXBNYXRjaCA9IG9wdGlvbnMucHJlcE1hdGNoIHx8IHRoaXMucHJlcE1hdGNoOwoKCQl0aGlzLnJldmVydHMgPSBbXTsKCgkJdGhpcy5tYXRjaGVzID0gdGhpcy5zZWFyY2goKTsKCgkJaWYgKHRoaXMubWF0Y2hlcy5sZW5ndGgpIHsKCQkJdGhpcy5wcm9jZXNzTWF0Y2hlcygpOwoJCX0KCgl9CgoJRmluZGVyLnByb3RvdHlwZSA9IHsKCgkJLyoqCgkJICogU2VhcmNoZXMgZm9yIGFsbCBtYXRjaGVzIHRoYXQgY29tcGx5IHdpdGggdGhlIGluc3RhbmNlJ3MgJ21hdGNoJyBvcHRpb24KCQkgKi8KCQlzZWFyY2g6IGZ1bmN0aW9uKCkgewoKCQkJdmFyIG1hdGNoOwoJCQl2YXIgbWF0Y2hJbmRleCA9IDA7CgkJCXZhciBvZmZzZXQgPSAwOwoJCQl2YXIgcmVnZXggPSB0aGlzLm9wdGlvbnMuZmluZDsKCQkJdmFyIHRleHRBZ2dyZWdhdGlvbiA9IHRoaXMuZ2V0QWdncmVnYXRlVGV4dCgpOwoJCQl2YXIgbWF0Y2hlcyA9IFtdOwoJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQlyZWdleCA9IHR5cGVvZiByZWdleCA9PT0gJ3N0cmluZycgPyBSZWdFeHAoZXNjYXBlUmVnRXhwKHJlZ2V4KSwgJ2cnKSA6IHJlZ2V4OwoKCQkJbWF0Y2hBZ2dyZWdhdGlvbih0ZXh0QWdncmVnYXRpb24pOwoKCQkJZnVuY3Rpb24gbWF0Y2hBZ2dyZWdhdGlvbih0ZXh0QWdncmVnYXRpb24pIHsKCQkJCWZvciAodmFyIGkgPSAwLCBsID0gdGV4dEFnZ3JlZ2F0aW9uLmxlbmd0aDsgaSA8IGw7ICsraSkgewoKCQkJCQl2YXIgdGV4dCA9IHRleHRBZ2dyZWdhdGlvbltpXTsKCgkJCQkJaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykgewoJCQkJCQkvLyBEZWFsIHdpdGggbmVzdGVkIGNvbnRleHRzOiAocmVjdXJzaXZlKQoJCQkJCQltYXRjaEFnZ3JlZ2F0aW9uKHRleHQpOwoJCQkJCQljb250aW51ZTsKCQkJCQl9CgoJCQkJCWlmIChyZWdleC5nbG9iYWwpIHsKCQkJCQkJd2hpbGUgKG1hdGNoID0gcmVnZXguZXhlYyh0ZXh0KSkgewoJCQkJCQkJbWF0Y2hlcy5wdXNoKHNlbGYucHJlcE1hdGNoKG1hdGNoLCBtYXRjaEluZGV4KyssIG9mZnNldCkpOwoJCQkJCQl9CgkJCQkJfSBlbHNlIHsKCQkJCQkJaWYgKG1hdGNoID0gdGV4dC5tYXRjaChyZWdleCkpIHsKCQkJCQkJCW1hdGNoZXMucHVzaChzZWxmLnByZXBNYXRjaChtYXRjaCwgMCwgb2Zmc2V0KSk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCW9mZnNldCArPSB0ZXh0Lmxlbmd0aDsKCQkJCX0KCQkJfQoKCQkJcmV0dXJuIG1hdGNoZXM7CgoJCX0sCgoJCS8qKgoJCSAqIFByZXBhcmVzIGEgc2luZ2xlIG1hdGNoIHdpdGggdXNlZnVsIG1ldGEgaW5mbzoKCQkgKi8KCQlwcmVwTWF0Y2g6IGZ1bmN0aW9uKG1hdGNoLCBtYXRjaEluZGV4LCBjaGFyYWN0ZXJPZmZzZXQpIHsKCgkJCWlmICghbWF0Y2hbMF0pIHsKCQkJCXRocm93IG5ldyBFcnJvcignZmluZEFuZFJlcGxhY2VET01UZXh0IGNhbm5vdCBoYW5kbGUgemVyby1sZW5ndGggbWF0Y2hlcycpOwoJCQl9CgoJCQltYXRjaC5lbmRJbmRleCA9IGNoYXJhY3Rlck9mZnNldCArIG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoOwoJCQltYXRjaC5zdGFydEluZGV4ID0gY2hhcmFjdGVyT2Zmc2V0ICsgbWF0Y2guaW5kZXg7CgkJCW1hdGNoLmluZGV4ID0gbWF0Y2hJbmRleDsKCgkJCXJldHVybiBtYXRjaDsKCQl9LAoKCQkvKioKCQkgKiBHZXRzIGFnZ3JlZ2F0ZSB0ZXh0IHdpdGhpbiBzdWJqZWN0IG5vZGUKCQkgKi8KCQlnZXRBZ2dyZWdhdGVUZXh0OiBmdW5jdGlvbigpIHsKCgkJCXZhciBlbGVtZW50RmlsdGVyID0gdGhpcy5vcHRpb25zLmZpbHRlckVsZW1lbnRzOwoJCQl2YXIgZm9yY2VDb250ZXh0ID0gdGhpcy5vcHRpb25zLmZvcmNlQ29udGV4dDsKCgkJCXJldHVybiBnZXRUZXh0KHRoaXMubm9kZSk7CgoJCQkvKioKCQkJICogR2V0cyBhZ2dyZWdhdGUgdGV4dCBvZiBhIG5vZGUgd2l0aG91dCByZXNvcnRpbmcKCQkJICogdG8gYnJva2VuIGlubmVyVGV4dC90ZXh0Q29udGVudAoJCQkgKi8KCQkJZnVuY3Rpb24gZ2V0VGV4dChub2RlKSB7CgkJCQlpZiAobm9kZSA9PSBudWxsKSB7CgkJCQkJcmV0dXJuIFtdOwoJCQkJfQoJCQkJaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7CgkJCQkJcmV0dXJuIFtub2RlLmRhdGFdOwoJCQkJfQoKCQkJCWlmIChlbGVtZW50RmlsdGVyICYmICFlbGVtZW50RmlsdGVyKG5vZGUpKSB7CgkJCQkJcmV0dXJuIFtdOwoJCQkJfQoKCQkJCXZhciB0eHQgPSBbJyddOwoJCQkJdmFyIGkgPSAwOwoKCQkJCWlmIChub2RlID0gbm9kZS5maXJzdENoaWxkKSBkbyB7CgoJCQkJCWlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkgewoJCQkJCQl0eHRbaV0gKz0gbm9kZS5kYXRhOwoJCQkJCQljb250aW51ZTsKCQkJCQl9CgoJCQkJCXZhciBpbm5lclRleHQgPSBnZXRUZXh0KG5vZGUpOwoKCQkJCQlpZiAoCgkJCQkJCWZvcmNlQ29udGV4dCAmJgoJCQkJCQlub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJgoJCQkJCQkoZm9yY2VDb250ZXh0ID09PSB0cnVlIHx8IGZvcmNlQ29udGV4dChub2RlKSkKCQkJCQkpIHsKCQkJCQkJdHh0WysraV0gPSBpbm5lclRleHQ7CgkJCQkJCXR4dFsrK2ldID0gJyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJaWYgKHR5cGVvZiBpbm5lclRleHRbMF0gPT09ICdzdHJpbmcnKSB7CgkJCQkJCQkvLyBCcmlkZ2UgbmVzdGVkIHRleHQtbm9kZSBkYXRhIHNvIHRoYXQgdGhleSdyZQoJCQkJCQkJLy8gbm90IGNvbnNpZGVyZWQgdGhlaXIgb3duIGNvbnRleHRzOgoJCQkJCQkJLy8gSS5lLiBbJ3NvbWUnLCBbJ3RoaW5nJ11dIC0+IFsnc29tZXRoaW5nJ10KCQkJCQkJCXR4dFtpXSArPSBpbm5lclRleHQuc2hpZnQoKTsKCQkJCQkJfQoJCQkJCQlpZiAoaW5uZXJUZXh0Lmxlbmd0aCkgewoJCQkJCQkJdHh0WysraV0gPSBpbm5lclRleHQ7CgkJCQkJCQl0eHRbKytpXSA9ICcnOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSB3aGlsZSAobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpOwoKCQkJCXJldHVybiB0eHQ7CgoJCQl9CgoJCX0sCgoJCS8qKgoJCSAqIFN0ZXBzIHRocm91Z2ggdGhlIHRhcmdldCBub2RlLCBsb29raW5nIGZvciBtYXRjaGVzLCBhbmQKCQkgKiBjYWxsaW5nIHJlcGxhY2VGbiB3aGVuIGEgbWF0Y2ggaXMgZm91bmQuCgkJICovCgkJcHJvY2Vzc01hdGNoZXM6IGZ1bmN0aW9uKCkgewoKCQkJdmFyIG1hdGNoZXMgPSB0aGlzLm1hdGNoZXM7CgkJCXZhciBub2RlID0gdGhpcy5ub2RlOwoJCQl2YXIgZWxlbWVudEZpbHRlciA9IHRoaXMub3B0aW9ucy5maWx0ZXJFbGVtZW50czsKCgkJCXZhciBzdGFydFBvcnRpb24sCgkJCQllbmRQb3J0aW9uLAoJCQkJaW5uZXJQb3J0aW9ucyA9IFtdLAoJCQkJY3VyTm9kZSA9IG5vZGUsCgkJCQltYXRjaCA9IG1hdGNoZXMuc2hpZnQoKSwKCQkJCWF0SW5kZXggPSAwLCAvLyBpLmUuIG5vZGVBdEluZGV4CgkJCQltYXRjaEluZGV4ID0gMCwKCQkJCXBvcnRpb25JbmRleCA9IDAsCgkJCQlkb0F2b2lkTm9kZSwKCQkJCW5vZGVTdGFjayA9IFtub2RlXTsKCgkJCW91dDogd2hpbGUgKHRydWUpIHsKCgkJCQlpZiAoY3VyTm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHsKCgkJCQkJaWYgKCFlbmRQb3J0aW9uICYmIGN1ck5vZGUubGVuZ3RoICsgYXRJbmRleCA+PSBtYXRjaC5lbmRJbmRleCkgewoJCQkJCQkvLyBXZSd2ZSBmb3VuZCB0aGUgZW5kaW5nCgkJCQkJCS8vIChOb3RlIHRoYXQsIGluIHRoZSBjYXNlIG9mIGEgc2luZ2xlIHBvcnRpb24sIGl0J2xsIGJlIGFuCgkJCQkJCS8vIGVuZFBvcnRpb24sIG5vdCBhIHN0YXJ0UG9ydGlvbi4pCgkJCQkJCWVuZFBvcnRpb24gPSB7CgkJCQkJCQlub2RlOiBjdXJOb2RlLAoJCQkJCQkJaW5kZXg6IHBvcnRpb25JbmRleCsrLAoJCQkJCQkJdGV4dDogY3VyTm9kZS5kYXRhLnN1YnN0cmluZyhtYXRjaC5zdGFydEluZGV4IC0gYXRJbmRleCwgbWF0Y2guZW5kSW5kZXggLSBhdEluZGV4KSwKCgkJCQkJCQkvLyBJZiBpdCdzIHRoZSBmaXJzdCBtYXRjaCAoYXRJbmRleD09MCkgd2Ugc2hvdWxkIGp1c3QgcmV0dXJuIDAKCQkJCQkJCWluZGV4SW5NYXRjaDogYXRJbmRleCA9PT0gMCA/IDAgOiBhdEluZGV4IC0gbWF0Y2guc3RhcnRJbmRleCwKCgkJCQkJCQlpbmRleEluTm9kZTogbWF0Y2guc3RhcnRJbmRleCAtIGF0SW5kZXgsCgkJCQkJCQllbmRJbmRleEluTm9kZTogbWF0Y2guZW5kSW5kZXggLSBhdEluZGV4LAoJCQkJCQkJaXNFbmQ6IHRydWUKCQkJCQkJfTsKCgkJCQkJfSBlbHNlIGlmIChzdGFydFBvcnRpb24pIHsKCQkJCQkJLy8gSW50ZXJzZWN0aW5nIG5vZGUKCQkJCQkJaW5uZXJQb3J0aW9ucy5wdXNoKHsKCQkJCQkJCW5vZGU6IGN1ck5vZGUsCgkJCQkJCQlpbmRleDogcG9ydGlvbkluZGV4KyssCgkJCQkJCQl0ZXh0OiBjdXJOb2RlLmRhdGEsCgkJCQkJCQlpbmRleEluTWF0Y2g6IGF0SW5kZXggLSBtYXRjaC5zdGFydEluZGV4LAoJCQkJCQkJaW5kZXhJbk5vZGU6IDAgLy8gYWx3YXlzIHplcm8gZm9yIGlubmVyLXBvcnRpb25zCgkJCQkJCX0pOwoJCQkJCX0KCgkJCQkJaWYgKCFzdGFydFBvcnRpb24gJiYgY3VyTm9kZS5sZW5ndGggKyBhdEluZGV4ID4gbWF0Y2guc3RhcnRJbmRleCkgewoJCQkJCQkvLyBXZSd2ZSBmb3VuZCB0aGUgbWF0Y2ggc3RhcnQKCQkJCQkJc3RhcnRQb3J0aW9uID0gewoJCQkJCQkJbm9kZTogY3VyTm9kZSwKCQkJCQkJCWluZGV4OiBwb3J0aW9uSW5kZXgrKywKCQkJCQkJCWluZGV4SW5NYXRjaDogMCwKCQkJCQkJCWluZGV4SW5Ob2RlOiBtYXRjaC5zdGFydEluZGV4IC0gYXRJbmRleCwKCQkJCQkJCWVuZEluZGV4SW5Ob2RlOiBtYXRjaC5lbmRJbmRleCAtIGF0SW5kZXgsCgkJCQkJCQl0ZXh0OiBjdXJOb2RlLmRhdGEuc3Vic3RyaW5nKG1hdGNoLnN0YXJ0SW5kZXggLSBhdEluZGV4LCBtYXRjaC5lbmRJbmRleCAtIGF0SW5kZXgpCgkJCQkJCX07CgkJCQkJfQoKCQkJCQlhdEluZGV4ICs9IGN1ck5vZGUuZGF0YS5sZW5ndGg7CgoJCQkJfQoKCQkJCWRvQXZvaWROb2RlID0gY3VyTm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgZWxlbWVudEZpbHRlciAmJiAhZWxlbWVudEZpbHRlcihjdXJOb2RlKTsKCgkJCQlpZiAoc3RhcnRQb3J0aW9uICYmIGVuZFBvcnRpb24pIHsKCgkJCQkJY3VyTm9kZSA9IHRoaXMucmVwbGFjZU1hdGNoKG1hdGNoLCBzdGFydFBvcnRpb24sIGlubmVyUG9ydGlvbnMsIGVuZFBvcnRpb24pOwoKCQkJCQkvLyBwcm9jZXNzTWF0Y2hlcyBoYXMgdG8gcmV0dXJuIHRoZSBub2RlIHRoYXQgcmVwbGFjZWQgdGhlIGVuZE5vZGUKCQkJCQkvLyBhbmQgdGhlbiB3ZSBzdGVwIGJhY2sgc28gd2UgY2FuIGNvbnRpbnVlIGZyb20gdGhlIGVuZCBvZiB0aGUKCQkJCQkvLyBtYXRjaDoKCgkJCQkJYXRJbmRleCAtPSAoZW5kUG9ydGlvbi5ub2RlLmRhdGEubGVuZ3RoIC0gZW5kUG9ydGlvbi5lbmRJbmRleEluTm9kZSk7CgoJCQkJCXN0YXJ0UG9ydGlvbiA9IG51bGw7CgkJCQkJZW5kUG9ydGlvbiA9IG51bGw7CgkJCQkJaW5uZXJQb3J0aW9ucyA9IFtdOwoJCQkJCW1hdGNoID0gbWF0Y2hlcy5zaGlmdCgpOwoJCQkJCXBvcnRpb25JbmRleCA9IDA7CgkJCQkJbWF0Y2hJbmRleCsrOwoKCQkJCQlpZiAoIW1hdGNoKSB7CgkJCQkJCWJyZWFrOyAvLyBubyBtb3JlIG1hdGNoZXMKCQkJCQl9CgoJCQkJfSBlbHNlIGlmICgKCQkJCQkhZG9Bdm9pZE5vZGUgJiYKCQkJCQkoY3VyTm9kZS5maXJzdENoaWxkIHx8IGN1ck5vZGUubmV4dFNpYmxpbmcpCgkJCQkpIHsKCQkJCQkvLyBNb3ZlIGRvd24gb3IgZm9yd2FyZDoKCQkJCQlpZiAoY3VyTm9kZS5maXJzdENoaWxkKSB7CgkJCQkJCW5vZGVTdGFjay5wdXNoKGN1ck5vZGUpOwoJCQkJCQljdXJOb2RlID0gY3VyTm9kZS5maXJzdENoaWxkOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWN1ck5vZGUgPSBjdXJOb2RlLm5leHRTaWJsaW5nOwoJCQkJCX0KCQkJCQljb250aW51ZTsKCQkJCX0KCgkJCQkvLyBNb3ZlIGZvcndhcmQgb3IgdXA6CgkJCQl3aGlsZSAodHJ1ZSkgewoJCQkJCWlmIChjdXJOb2RlLm5leHRTaWJsaW5nKSB7CgkJCQkJCWN1ck5vZGUgPSBjdXJOb2RlLm5leHRTaWJsaW5nOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQkJY3VyTm9kZSA9IG5vZGVTdGFjay5wb3AoKTsKCQkJCQlpZiAoY3VyTm9kZSA9PT0gbm9kZSkgewoJCQkJCQlicmVhayBvdXQ7CgkJCQkJfQoJCQkJfQoKCQkJfQoKCQl9LAoKCQkvKioKCQkgKiBSZXZlcnRzIC4uLiBUT0RPCgkJICovCgkJcmV2ZXJ0OiBmdW5jdGlvbigpIHsKCQkJLy8gUmV2ZXJzaW9uIG9jY3VycyBiYWNrd2FyZHMgc28gYXMgdG8gYXZvaWQgbm9kZXMgc3Vic2VxdWVudGx5CgkJCS8vIHJlcGxhY2VkIGR1cmluZyB0aGUgbWF0Y2hpbmcgcGhhc2UgKGEgZm9yd2FyZCBwcm9jZXNzKToKCQkJZm9yICh2YXIgbCA9IHRoaXMucmV2ZXJ0cy5sZW5ndGg7IGwtLTspIHsKCQkJCXRoaXMucmV2ZXJ0c1tsXSgpOwoJCQl9CgkJCXRoaXMucmV2ZXJ0cyA9IFtdOwoJCX0sCgoJCXByZXBhcmVSZXBsYWNlbWVudFN0cmluZzogZnVuY3Rpb24oc3RyaW5nLCBwb3J0aW9uLCBtYXRjaCkgewoJCQl2YXIgcG9ydGlvbk1vZGUgPSB0aGlzLm9wdGlvbnMucG9ydGlvbk1vZGU7CgkJCWlmICgKCQkJCXBvcnRpb25Nb2RlID09PSBQT1JUSU9OX01PREVfRklSU1QgJiYKCQkJCXBvcnRpb24uaW5kZXhJbk1hdGNoID4gMAoJCQkpIHsKCQkJCXJldHVybiAnJzsKCQkJfQoJCQlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXCQoXGQrfCZ8YHwnKS9nLCBmdW5jdGlvbigkMCwgdCkgewoJCQkJdmFyIHJlcGxhY2VtZW50OwoJCQkJc3dpdGNoKHQpIHsKCQkJCQljYXNlICcmJzoKCQkJCQkJcmVwbGFjZW1lbnQgPSBtYXRjaFswXTsKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAnYCc6CgkJCQkJCXJlcGxhY2VtZW50ID0gbWF0Y2guaW5wdXQuc3Vic3RyaW5nKDAsIG1hdGNoLnN0YXJ0SW5kZXgpOwoJCQkJCQlicmVhazsKCQkJCQljYXNlICdcJyc6CgkJCQkJCXJlcGxhY2VtZW50ID0gbWF0Y2guaW5wdXQuc3Vic3RyaW5nKG1hdGNoLmVuZEluZGV4KTsKCQkJCQkJYnJlYWs7CgkJCQkJZGVmYXVsdDoKCQkJCQkJcmVwbGFjZW1lbnQgPSBtYXRjaFsrdF0gfHwgJyc7CgkJCQl9CgkJCQlyZXR1cm4gcmVwbGFjZW1lbnQ7CgkJCX0pOwoKCQkJaWYgKHBvcnRpb25Nb2RlID09PSBQT1JUSU9OX01PREVfRklSU1QpIHsKCQkJCXJldHVybiBzdHJpbmc7CgkJCX0KCgkJCWlmIChwb3J0aW9uLmlzRW5kKSB7CgkJCQlyZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhwb3J0aW9uLmluZGV4SW5NYXRjaCk7CgkJCX0KCgkJCXJldHVybiBzdHJpbmcuc3Vic3RyaW5nKHBvcnRpb24uaW5kZXhJbk1hdGNoLCBwb3J0aW9uLmluZGV4SW5NYXRjaCArIHBvcnRpb24udGV4dC5sZW5ndGgpOwoJCX0sCgoJCWdldFBvcnRpb25SZXBsYWNlbWVudE5vZGU6IGZ1bmN0aW9uKHBvcnRpb24sIG1hdGNoKSB7CgoJCQl2YXIgcmVwbGFjZW1lbnQgPSB0aGlzLm9wdGlvbnMucmVwbGFjZSB8fCAnJCYnOwoJCQl2YXIgd3JhcHBlciA9IHRoaXMub3B0aW9ucy53cmFwOwoJCQl2YXIgd3JhcHBlckNsYXNzID0gdGhpcy5vcHRpb25zLndyYXBDbGFzczsKCgkJCWlmICh3cmFwcGVyICYmIHdyYXBwZXIubm9kZVR5cGUpIHsKCQkJCS8vIFdyYXBwZXIgaGFzIGJlZW4gcHJvdmlkZWQgYXMgYSBzdGVuY2lsLW5vZGUgZm9yIHVzIHRvIGNsb25lOgoJCQkJdmFyIGNsb25lID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoJCQkJY2xvbmUuaW5uZXJIVE1MID0gd3JhcHBlci5vdXRlckhUTUwgfHwgbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh3cmFwcGVyKTsKCQkJCXdyYXBwZXIgPSBjbG9uZS5maXJzdENoaWxkOwoJCQl9CgoJCQlpZiAodHlwZW9mIHJlcGxhY2VtZW50ID09ICdmdW5jdGlvbicpIHsKCQkJCXJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQocG9ydGlvbiwgbWF0Y2gpOwoJCQkJaWYgKHJlcGxhY2VtZW50ICYmIHJlcGxhY2VtZW50Lm5vZGVUeXBlKSB7CgkJCQkJcmV0dXJuIHJlcGxhY2VtZW50OwoJCQkJfQoJCQkJcmV0dXJuIGRvYy5jcmVhdGVUZXh0Tm9kZShTdHJpbmcocmVwbGFjZW1lbnQpKTsKCQkJfQoKCQkJdmFyIGVsID0gdHlwZW9mIHdyYXBwZXIgPT0gJ3N0cmluZycgPyBkb2MuY3JlYXRlRWxlbWVudCh3cmFwcGVyKSA6IHdyYXBwZXI7CgogCQkJaWYgKGVsICYmIHdyYXBwZXJDbGFzcykgewoJCQkJZWwuY2xhc3NOYW1lID0gd3JhcHBlckNsYXNzOwoJCQl9CgoJCQlyZXBsYWNlbWVudCA9IGRvYy5jcmVhdGVUZXh0Tm9kZSgKCQkJCXRoaXMucHJlcGFyZVJlcGxhY2VtZW50U3RyaW5nKAoJCQkJCXJlcGxhY2VtZW50LCBwb3J0aW9uLCBtYXRjaAoJCQkJKQoJCQkpOwoKCQkJaWYgKCFyZXBsYWNlbWVudC5kYXRhKSB7CgkJCQlyZXR1cm4gcmVwbGFjZW1lbnQ7CgkJCX0KCgkJCWlmICghZWwpIHsKCQkJCXJldHVybiByZXBsYWNlbWVudDsKCQkJfQoKCQkJZWwuYXBwZW5kQ2hpbGQocmVwbGFjZW1lbnQpOwoKCQkJcmV0dXJuIGVsOwoJCX0sCgoJCXJlcGxhY2VNYXRjaDogZnVuY3Rpb24obWF0Y2gsIHN0YXJ0UG9ydGlvbiwgaW5uZXJQb3J0aW9ucywgZW5kUG9ydGlvbikgewoKCQkJdmFyIG1hdGNoU3RhcnROb2RlID0gc3RhcnRQb3J0aW9uLm5vZGU7CgkJCXZhciBtYXRjaEVuZE5vZGUgPSBlbmRQb3J0aW9uLm5vZGU7CgoJCQl2YXIgcHJlY2VkaW5nVGV4dE5vZGU7CgkJCXZhciBmb2xsb3dpbmdUZXh0Tm9kZTsKCgkJCWlmIChtYXRjaFN0YXJ0Tm9kZSA9PT0gbWF0Y2hFbmROb2RlKSB7CgoJCQkJdmFyIG5vZGUgPSBtYXRjaFN0YXJ0Tm9kZTsKCgkJCQlpZiAoc3RhcnRQb3J0aW9uLmluZGV4SW5Ob2RlID4gMCkgewoJCQkJCS8vIEFkZCBgYmVmb3JlYCB0ZXh0IG5vZGUgKGJlZm9yZSB0aGUgbWF0Y2gpCgkJCQkJcHJlY2VkaW5nVGV4dE5vZGUgPSBkb2MuY3JlYXRlVGV4dE5vZGUobm9kZS5kYXRhLnN1YnN0cmluZygwLCBzdGFydFBvcnRpb24uaW5kZXhJbk5vZGUpKTsKCQkJCQlub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHByZWNlZGluZ1RleHROb2RlLCBub2RlKTsKCQkJCX0KCgkJCQkvLyBDcmVhdGUgdGhlIHJlcGxhY2VtZW50IG5vZGU6CgkJCQl2YXIgbmV3Tm9kZSA9IHRoaXMuZ2V0UG9ydGlvblJlcGxhY2VtZW50Tm9kZSgKCQkJCQllbmRQb3J0aW9uLAoJCQkJCW1hdGNoCgkJCQkpOwoKCQkJCW5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgbm9kZSk7CgoJCQkJaWYgKGVuZFBvcnRpb24uZW5kSW5kZXhJbk5vZGUgPCBub2RlLmxlbmd0aCkgeyAvLyA/Pz8/PwoJCQkJCS8vIEFkZCBgYWZ0ZXJgIHRleHQgbm9kZSAoYWZ0ZXIgdGhlIG1hdGNoKQoJCQkJCWZvbGxvd2luZ1RleHROb2RlID0gZG9jLmNyZWF0ZVRleHROb2RlKG5vZGUuZGF0YS5zdWJzdHJpbmcoZW5kUG9ydGlvbi5lbmRJbmRleEluTm9kZSkpOwoJCQkJCW5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZm9sbG93aW5nVGV4dE5vZGUsIG5vZGUpOwoJCQkJfQoKCQkJCW5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsKCgkJCQl0aGlzLnJldmVydHMucHVzaChmdW5jdGlvbigpIHsKCQkJCQlpZiAocHJlY2VkaW5nVGV4dE5vZGUgPT09IG5ld05vZGUucHJldmlvdXNTaWJsaW5nKSB7CgkJCQkJCXByZWNlZGluZ1RleHROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocHJlY2VkaW5nVGV4dE5vZGUpOwoJCQkJCX0KCQkJCQlpZiAoZm9sbG93aW5nVGV4dE5vZGUgPT09IG5ld05vZGUubmV4dFNpYmxpbmcpIHsKCQkJCQkJZm9sbG93aW5nVGV4dE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmb2xsb3dpbmdUZXh0Tm9kZSk7CgkJCQkJfQoJCQkJCW5ld05vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobm9kZSwgbmV3Tm9kZSk7CgkJCQl9KTsKCgkJCQlyZXR1cm4gbmV3Tm9kZTsKCgkJCX0gZWxzZSB7CgkJCQkvLyBSZXBsYWNlIG1hdGNoU3RhcnROb2RlIC0+IFtpbm5lck1hdGNoTm9kZXMuLi5dIC0+IG1hdGNoRW5kTm9kZSAoaW4gdGhhdCBvcmRlcikKCgoJCQkJcHJlY2VkaW5nVGV4dE5vZGUgPSBkb2MuY3JlYXRlVGV4dE5vZGUoCgkJCQkJbWF0Y2hTdGFydE5vZGUuZGF0YS5zdWJzdHJpbmcoMCwgc3RhcnRQb3J0aW9uLmluZGV4SW5Ob2RlKQoJCQkJKTsKCgkJCQlmb2xsb3dpbmdUZXh0Tm9kZSA9IGRvYy5jcmVhdGVUZXh0Tm9kZSgKCQkJCQltYXRjaEVuZE5vZGUuZGF0YS5zdWJzdHJpbmcoZW5kUG9ydGlvbi5lbmRJbmRleEluTm9kZSkKCQkJCSk7CgoJCQkJdmFyIGZpcnN0Tm9kZSA9IHRoaXMuZ2V0UG9ydGlvblJlcGxhY2VtZW50Tm9kZSgKCQkJCQlzdGFydFBvcnRpb24sCgkJCQkJbWF0Y2gKCQkJCSk7CgoJCQkJdmFyIGlubmVyTm9kZXMgPSBbXTsKCgkJCQlmb3IgKHZhciBpID0gMCwgbCA9IGlubmVyUG9ydGlvbnMubGVuZ3RoOyBpIDwgbDsgKytpKSB7CgkJCQkJdmFyIHBvcnRpb24gPSBpbm5lclBvcnRpb25zW2ldOwoJCQkJCXZhciBpbm5lck5vZGUgPSB0aGlzLmdldFBvcnRpb25SZXBsYWNlbWVudE5vZGUoCgkJCQkJCXBvcnRpb24sCgkJCQkJCW1hdGNoCgkJCQkJKTsKCQkJCQlwb3J0aW9uLm5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoaW5uZXJOb2RlLCBwb3J0aW9uLm5vZGUpOwoJCQkJCXRoaXMucmV2ZXJ0cy5wdXNoKChmdW5jdGlvbihwb3J0aW9uLCBpbm5lck5vZGUpIHsKCQkJCQkJcmV0dXJuIGZ1bmN0aW9uKCkgewoJCQkJCQkJaW5uZXJOb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHBvcnRpb24ubm9kZSwgaW5uZXJOb2RlKTsKCQkJCQkJfTsKCQkJCQl9KHBvcnRpb24sIGlubmVyTm9kZSkpKTsKCQkJCQlpbm5lck5vZGVzLnB1c2goaW5uZXJOb2RlKTsKCQkJCX0KCgkJCQl2YXIgbGFzdE5vZGUgPSB0aGlzLmdldFBvcnRpb25SZXBsYWNlbWVudE5vZGUoCgkJCQkJZW5kUG9ydGlvbiwKCQkJCQltYXRjaAoJCQkJKTsKCgkJCQltYXRjaFN0YXJ0Tm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwcmVjZWRpbmdUZXh0Tm9kZSwgbWF0Y2hTdGFydE5vZGUpOwoJCQkJbWF0Y2hTdGFydE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZmlyc3ROb2RlLCBtYXRjaFN0YXJ0Tm9kZSk7CgkJCQltYXRjaFN0YXJ0Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1hdGNoU3RhcnROb2RlKTsKCgkJCQltYXRjaEVuZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGFzdE5vZGUsIG1hdGNoRW5kTm9kZSk7CgkJCQltYXRjaEVuZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZm9sbG93aW5nVGV4dE5vZGUsIG1hdGNoRW5kTm9kZSk7CgkJCQltYXRjaEVuZE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtYXRjaEVuZE5vZGUpOwoKCQkJCXRoaXMucmV2ZXJ0cy5wdXNoKGZ1bmN0aW9uKCkgewoJCQkJCXByZWNlZGluZ1RleHROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocHJlY2VkaW5nVGV4dE5vZGUpOwoJCQkJCWZpcnN0Tm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChtYXRjaFN0YXJ0Tm9kZSwgZmlyc3ROb2RlKTsKCQkJCQlmb2xsb3dpbmdUZXh0Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZvbGxvd2luZ1RleHROb2RlKTsKCQkJCQlsYXN0Tm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChtYXRjaEVuZE5vZGUsIGxhc3ROb2RlKTsKCQkJCX0pOwoKCQkJCXJldHVybiBsYXN0Tm9kZTsKCQkJfQoJCX0KCgl9OwoKCXJldHVybiBleHBvc2VkOwoKfSkpOw=="}]}]}